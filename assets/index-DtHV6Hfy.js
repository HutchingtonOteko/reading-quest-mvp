(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const A of c)if(A.type==="childList")for(const E of A.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&o(E)}).observe(document,{childList:!0,subtree:!0});function r(c){const A={};return c.integrity&&(A.integrity=c.integrity),c.referrerPolicy&&(A.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?A.credentials="include":c.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function o(c){if(c.ep)return;c.ep=!0;const A=r(c);fetch(c.href,A)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function getAugmentedNamespace(b){if(Object.prototype.hasOwnProperty.call(b,"__esModule"))return b;var d=b.default;if(typeof d=="function"){var r=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};r.prototype=d.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(b).forEach(function(o){var c=Object.getOwnPropertyDescriptor(b,o);Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:function(){return b[o]}})}),r}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var b=Symbol.for("react.element"),d=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),l=Symbol.iterator;function g(T){return T===null||typeof T!="object"?null:(T=l&&T[l]||T["@@iterator"],typeof T=="function"?T:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,f={};function m(T,_,W){this.props=T,this.context=_,this.refs=f,this.updater=W||v}m.prototype.isReactComponent={},m.prototype.setState=function(T,_){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,_,"setState")},m.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function p(){}p.prototype=m.prototype;function P(T,_,W){this.props=T,this.context=_,this.refs=f,this.updater=W||v}var B=P.prototype=new p;B.constructor=P,a(B,m.prototype),B.isPureReactComponent=!0;var L=Array.isArray,C=Object.prototype.hasOwnProperty,I={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function X(T,_,W){var V,z={},y=null,w=null;if(_!=null)for(V in _.ref!==void 0&&(w=_.ref),_.key!==void 0&&(y=""+_.key),_)C.call(_,V)&&!H.hasOwnProperty(V)&&(z[V]=_[V]);var F=arguments.length-2;if(F===1)z.children=W;else if(1<F){for(var N=Array(F),D=0;D<F;D++)N[D]=arguments[D+2];z.children=N}if(T&&T.defaultProps)for(V in F=T.defaultProps,F)z[V]===void 0&&(z[V]=F[V]);return{$$typeof:b,type:T,key:y,ref:w,props:z,_owner:I.current}}function $(T,_){return{$$typeof:b,type:T.type,key:_,ref:T.ref,props:T.props,_owner:T._owner}}function Q(T){return typeof T=="object"&&T!==null&&T.$$typeof===b}function J(T){var _={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return _[W]})}var he=/\/+/g;function ue(T,_){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):_.toString(36)}function de(T,_,W,V,z){var y=typeof T;(y==="undefined"||y==="boolean")&&(T=null);var w=!1;if(T===null)w=!0;else switch(y){case"string":case"number":w=!0;break;case"object":switch(T.$$typeof){case b:case d:w=!0}}if(w)return w=T,z=z(w),T=V===""?"."+ue(w,0):V,L(z)?(W="",T!=null&&(W=T.replace(he,"$&/")+"/"),de(z,_,W,"",function(D){return D})):z!=null&&(Q(z)&&(z=$(z,W+(!z.key||w&&w.key===z.key?"":(""+z.key).replace(he,"$&/")+"/")+T)),_.push(z)),1;if(w=0,V=V===""?".":V+":",L(T))for(var F=0;F<T.length;F++){y=T[F];var N=V+ue(y,F);w+=de(y,_,W,N,z)}else if(N=g(T),typeof N=="function")for(T=N.call(T),F=0;!(y=T.next()).done;)y=y.value,N=V+ue(y,F++),w+=de(y,_,W,N,z);else if(y==="object")throw _=String(T),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return w}function fe(T,_,W){if(T==null)return T;var V=[],z=0;return de(T,V,"","",function(y){return _.call(W,y,z++)}),V}function re(T){if(T._status===-1){var _=T._result;_=_(),_.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=_)}if(T._status===1)return T._result.default;throw T._result}var Y={current:null},M={transition:null},x={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:M,ReactCurrentOwner:I};function k(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:fe,forEach:function(T,_,W){fe(T,function(){_.apply(this,arguments)},W)},count:function(T){var _=0;return fe(T,function(){_++}),_},toArray:function(T){return fe(T,function(_){return _})||[]},only:function(T){if(!Q(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},react_production_min.Component=m,react_production_min.Fragment=r,react_production_min.Profiler=c,react_production_min.PureComponent=P,react_production_min.StrictMode=o,react_production_min.Suspense=O,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,react_production_min.act=k,react_production_min.cloneElement=function(T,_,W){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var V=a({},T.props),z=T.key,y=T.ref,w=T._owner;if(_!=null){if(_.ref!==void 0&&(y=_.ref,w=I.current),_.key!==void 0&&(z=""+_.key),T.type&&T.type.defaultProps)var F=T.type.defaultProps;for(N in _)C.call(_,N)&&!H.hasOwnProperty(N)&&(V[N]=_[N]===void 0&&F!==void 0?F[N]:_[N])}var N=arguments.length-2;if(N===1)V.children=W;else if(1<N){F=Array(N);for(var D=0;D<N;D++)F[D]=arguments[D+2];V.children=F}return{$$typeof:b,type:T.type,key:z,ref:y,props:V,_owner:w}},react_production_min.createContext=function(T){return T={$$typeof:E,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:A,_context:T},T.Consumer=T},react_production_min.createElement=X,react_production_min.createFactory=function(T){var _=X.bind(null,T);return _.type=T,_},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(T){return{$$typeof:R,render:T}},react_production_min.isValidElement=Q,react_production_min.lazy=function(T){return{$$typeof:s,_payload:{_status:-1,_result:T},_init:re}},react_production_min.memo=function(T,_){return{$$typeof:u,type:T,compare:_===void 0?null:_}},react_production_min.startTransition=function(T){var _=M.transition;M.transition={};try{T()}finally{M.transition=_}},react_production_min.unstable_act=k,react_production_min.useCallback=function(T,_){return Y.current.useCallback(T,_)},react_production_min.useContext=function(T){return Y.current.useContext(T)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(T){return Y.current.useDeferredValue(T)},react_production_min.useEffect=function(T,_){return Y.current.useEffect(T,_)},react_production_min.useId=function(){return Y.current.useId()},react_production_min.useImperativeHandle=function(T,_,W){return Y.current.useImperativeHandle(T,_,W)},react_production_min.useInsertionEffect=function(T,_){return Y.current.useInsertionEffect(T,_)},react_production_min.useLayoutEffect=function(T,_){return Y.current.useLayoutEffect(T,_)},react_production_min.useMemo=function(T,_){return Y.current.useMemo(T,_)},react_production_min.useReducer=function(T,_,W){return Y.current.useReducer(T,_,W)},react_production_min.useRef=function(T){return Y.current.useRef(T)},react_production_min.useState=function(T){return Y.current.useState(T)},react_production_min.useSyncExternalStore=function(T,_,W){return Y.current.useSyncExternalStore(T,_,W)},react_production_min.useTransition=function(){return Y.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(b){function d(M,x){var k=M.length;M.push(x);e:for(;0<k;){var T=k-1>>>1,_=M[T];if(0<c(_,x))M[T]=x,M[k]=_,k=T;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var x=M[0],k=M.pop();if(k!==x){M[0]=k;e:for(var T=0,_=M.length,W=_>>>1;T<W;){var V=2*(T+1)-1,z=M[V],y=V+1,w=M[y];if(0>c(z,k))y<_&&0>c(w,z)?(M[T]=w,M[y]=k,T=y):(M[T]=z,M[V]=k,T=V);else if(y<_&&0>c(w,k))M[T]=w,M[y]=k,T=y;else break e}}return x}function c(M,x){var k=M.sortIndex-x.sortIndex;return k!==0?k:M.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;b.unstable_now=function(){return A.now()}}else{var E=Date,R=E.now();b.unstable_now=function(){return E.now()-R}}var O=[],u=[],s=1,l=null,g=3,v=!1,a=!1,f=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(M){for(var x=r(u);x!==null;){if(x.callback===null)o(u);else if(x.startTime<=M)o(u),x.sortIndex=x.expirationTime,d(O,x);else break;x=r(u)}}function L(M){if(f=!1,B(M),!a)if(r(O)!==null)a=!0,re(C);else{var x=r(u);x!==null&&Y(L,x.startTime-M)}}function C(M,x){a=!1,f&&(f=!1,p(X),X=-1),v=!0;var k=g;try{for(B(x),l=r(O);l!==null&&(!(l.expirationTime>x)||M&&!J());){var T=l.callback;if(typeof T=="function"){l.callback=null,g=l.priorityLevel;var _=T(l.expirationTime<=x);x=b.unstable_now(),typeof _=="function"?l.callback=_:l===r(O)&&o(O),B(x)}else o(O);l=r(O)}if(l!==null)var W=!0;else{var V=r(u);V!==null&&Y(L,V.startTime-x),W=!1}return W}finally{l=null,g=k,v=!1}}var I=!1,H=null,X=-1,$=5,Q=-1;function J(){return!(b.unstable_now()-Q<$)}function he(){if(H!==null){var M=b.unstable_now();Q=M;var x=!0;try{x=H(!0,M)}finally{x?ue():(I=!1,H=null)}}else I=!1}var ue;if(typeof P=="function")ue=function(){P(he)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=he,ue=function(){fe.postMessage(null)}}else ue=function(){m(he,0)};function re(M){H=M,I||(I=!0,ue())}function Y(M,x){X=m(function(){M(b.unstable_now())},x)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(M){M.callback=null},b.unstable_continueExecution=function(){a||v||(a=!0,re(C))},b.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},b.unstable_getCurrentPriorityLevel=function(){return g},b.unstable_getFirstCallbackNode=function(){return r(O)},b.unstable_next=function(M){switch(g){case 1:case 2:case 3:var x=3;break;default:x=g}var k=g;g=x;try{return M()}finally{g=k}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(M,x){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=g;g=M;try{return x()}finally{g=k}},b.unstable_scheduleCallback=function(M,x,k){var T=b.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?T+k:T):k=T,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=k+_,M={id:s++,callback:x,priorityLevel:M,startTime:k,expirationTime:_,sortIndex:-1},k>T?(M.sortIndex=k,d(u,M),r(O)===null&&M===r(u)&&(f?(p(X),X=-1):f=!0,Y(L,k-T))):(M.sortIndex=_,d(O,M),a||v||(a=!0,re(C))),M},b.unstable_shouldYield=J,b.unstable_wrapCallback=function(M){var x=g;return function(){var k=g;g=x;try{return M.apply(this,arguments)}finally{g=k}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var b=requireReact(),d=requireScheduler();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function A(e,t){E(e,t),E(e+"Capture",t)}function E(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var R=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function g(e){return O.call(l,e)?!0:O.call(s,e)?!1:u.test(e)?l[e]=!0:(s[e]=!0,!1)}function v(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a(e,t,n,i){if(t===null||typeof t>"u"||v(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function f(e,t,n,i,h,S,U){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=h,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=U}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,P);m[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,P);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,P);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,n,i){var h=m.hasOwnProperty(t)?m[t]:null;(h!==null?h.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a(t,n,h,i)&&(n=null),i||h===null?g(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):h.mustUseProperty?e[h.propertyName]=n===null?h.type===3?!1:"":n:(t=h.attributeName,i=h.attributeNamespace,n===null?e.removeAttribute(t):(h=h.type,n=h===3||h===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var L=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),I=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var k=Object.assign,T;function _(e){if(T===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var i=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){i=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){i=ce}e()}}catch(ce){if(ce&&i&&typeof ce.stack=="string"){for(var h=ce.stack.split(`
`),S=i.stack.split(`
`),U=h.length-1,K=S.length-1;1<=U&&0<=K&&h[U]!==S[K];)K--;for(;1<=U&&0<=K;U--,K--)if(h[U]!==S[K]){if(U!==1||K!==1)do if(U--,K--,0>K||h[U]!==S[K]){var Z=`
`+h[U].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=U&&0<=K);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function z(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1),e;case 11:return e=V(e.type.render,!1),e;case 1:return e=V(e.type,!0),e;default:return""}}function y(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case I:return"Portal";case $:return"Profiler";case X:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case Q:return(e._context.displayName||"Context")+".Provider";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:y(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return y(e(t))}catch{}}return null}function w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function F(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D(e){var t=N(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var h=n.get,S=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(U){i=""+U,S.call(this,U)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(U){i=""+U},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function G(e){e._valueTracker||(e._valueTracker=D(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=N(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ae(e,t){var n=t.checked;return k({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function se(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=F(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function le(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function pe(e,t){le(e,t);var n=F(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?me(e,t.type,n):t.hasOwnProperty("defaultValue")&&me(e,t.type,F(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function me(e,t,n){(t!=="number"||te(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ke=Array.isArray;function we(e,t,n,i){if(e=e.options,t){t={};for(var h=0;h<n.length;h++)t["$"+n[h]]=!0;for(n=0;n<e.length;n++)h=t.hasOwnProperty("$"+e[n].value),e[n].selected!==h&&(e[n].selected=h),h&&i&&(e[n].defaultSelected=!0)}else{for(n=""+F(n),t=null,h=0;h<e.length;h++){if(e[h].value===n){e[h].selected=!0,i&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Oe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return k({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ue(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(r(92));if(ke(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:F(n)}}function We(e,t){var n=F(t.value),i=F(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ye(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,Ze=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,h){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qe[t]=qe[e]})});function Qn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qe.hasOwnProperty(e)&&qe[e]?(""+t).trim():t+"px"}function gn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,h=Qn(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,h):e[n]=h}}var ye=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(e,t){if(t){if(ye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function ee(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function Ge(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var st=null,ne=null,Ce=null;function Ne(e){if(e=_r(e)){if(typeof st!="function")throw Error(r(280));var t=e.stateNode;t&&(t=yi(t),st(e.stateNode,e.type,t))}}function Ie(e){ne?Ce?Ce.push(e):Ce=[e]:ne=e}function Le(){if(ne){var e=ne,t=Ce;if(Ce=ne=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function $e(e,t){return e(t)}function xe(){}var Ke=!1;function He(e,t,n){if(Ke)return e(t,n);Ke=!0;try{return $e(e,t,n)}finally{Ke=!1,(ne!==null||Ce!==null)&&(xe(),Le())}}function Ve(e,t){var n=e.stateNode;if(n===null)return null;var i=yi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var rt=!1;if(R)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){rt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{rt=!1}function lt(e,t,n,i,h,S,U,K,Z){var ce=Array.prototype.slice.call(arguments,3);try{t.apply(n,ce)}catch(Se){this.onError(Se)}}var Nt=!1,yt=null,en=!1,Nn=null,gu={onError:function(e){Nt=!0,yt=e}};function mu(e,t,n,i,h,S,U,K,Z){Nt=!1,yt=null,lt.apply(gu,arguments)}function vu(e,t,n,i,h,S,U,K,Z){if(mu.apply(this,arguments),Nt){if(Nt){var ce=yt;Nt=!1,yt=null}else throw Error(r(198));en||(en=!0,Nn=ce)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ba(e){if(_n(e)!==e)throw Error(r(188))}function yu(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var h=n.return;if(h===null)break;var S=h.alternate;if(S===null){if(i=h.return,i!==null){n=i;continue}break}if(h.child===S.child){for(S=h.child;S;){if(S===n)return Ba(h),e;if(S===i)return Ba(h),t;S=S.sibling}throw Error(r(188))}if(n.return!==i.return)n=h,i=S;else{for(var U=!1,K=h.child;K;){if(K===n){U=!0,n=h,i=S;break}if(K===i){U=!0,i=h,n=S;break}K=K.sibling}if(!U){for(K=S.child;K;){if(K===n){U=!0,n=S,i=h;break}if(K===i){U=!0,i=S,n=h;break}K=K.sibling}if(!U)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function Ua(e){return e=yu(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var Wa=d.unstable_scheduleCallback,Ha=d.unstable_cancelCallback,Au=d.unstable_shouldYield,Su=d.unstable_requestPaint,dt=d.unstable_now,bu=d.unstable_getCurrentPriorityLevel,rs=d.unstable_ImmediatePriority,$a=d.unstable_UserBlockingPriority,Zr=d.unstable_NormalPriority,Eu=d.unstable_LowPriority,Va=d.unstable_IdlePriority,qr=null,tn=null;function xu(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qr,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Tu,ku=Math.log,Cu=Math.LN2;function Tu(e){return e>>>=0,e===0?32:31-(ku(e)/Cu|0)|0}var ei=64,ti=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,h=e.suspendedLanes,S=e.pingedLanes,U=n&268435455;if(U!==0){var K=U&~h;K!==0?i=Ar(K):(S&=U,S!==0&&(i=Ar(S)))}else U=n&~h,U!==0?i=Ar(U):S!==0&&(i=Ar(S));if(i===0)return 0;if(t!==0&&t!==i&&(t&h)===0&&(h=i&-i,S=t&-t,h>=S||h===16&&(S&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Yt(t),h=1<<n,i|=e[n],t&=~h;return i}function wu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,h=e.expirationTimes,S=e.pendingLanes;0<S;){var U=31-Yt(S),K=1<<U,Z=h[U];Z===-1?((K&n)===0||(K&i)!==0)&&(h[U]=wu(K,t)):Z<=t&&(e.expiredLanes|=K),S&=~K}}function is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function ss(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function Ru(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var h=31-Yt(n),S=1<<h;t[h]=0,i[h]=-1,e[h]=-1,n&=~S}}function as(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yt(n),h=1<<i;h&t|e[i]&t&&(e[i]|=t),n&=~h}}var Qe=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ya,os,Ka,ja,Qa,ls=!1,ri=[],mn=null,vn=null,yn=null,br=new Map,Er=new Map,An=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function xr(e,t,n,i,h,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:S,targetContainers:[h]},t!==null&&(t=_r(t),t!==null&&os(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Fu(e,t,n,i,h){switch(t){case"focusin":return mn=xr(mn,e,t,n,i,h),!0;case"dragenter":return vn=xr(vn,e,t,n,i,h),!0;case"mouseover":return yn=xr(yn,e,t,n,i,h),!0;case"pointerover":var S=h.pointerId;return br.set(S,xr(br.get(S)||null,e,t,n,i,h)),!0;case"gotpointercapture":return S=h.pointerId,Er.set(S,xr(Er.get(S)||null,e,t,n,i,h)),!0}return!1}function Za(e){var t=Bn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=_a(n),t!==null){e.blockedOn=t,Qa(e.priority,function(){Ka(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Te=i,n.target.dispatchEvent(i),Te=null}else return t=_r(n),t!==null&&os(t),e.blockedOn=n,!1;t.shift()}return!0}function qa(e,t,n){ii(e)&&n.delete(t)}function Iu(){ls=!1,mn!==null&&ii(mn)&&(mn=null),vn!==null&&ii(vn)&&(vn=null),yn!==null&&ii(yn)&&(yn=null),br.forEach(qa),Er.forEach(qa)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,ls||(ls=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Iu)))}function Cr(e){function t(h){return kr(h,e)}if(0<ri.length){kr(ri[0],e);for(var n=1;n<ri.length;n++){var i=ri[n];i.blockedOn===e&&(i.blockedOn=null)}}for(mn!==null&&kr(mn,e),vn!==null&&kr(vn,e),yn!==null&&kr(yn,e),br.forEach(t),Er.forEach(t),n=0;n<An.length;n++)i=An[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)Za(n),n.blockedOn===null&&An.shift()}var Jn=L.ReactCurrentBatchConfig,si=!0;function Ou(e,t,n,i){var h=Qe,S=Jn.transition;Jn.transition=null;try{Qe=1,us(e,t,n,i)}finally{Qe=h,Jn.transition=S}}function Du(e,t,n,i){var h=Qe,S=Jn.transition;Jn.transition=null;try{Qe=4,us(e,t,n,i)}finally{Qe=h,Jn.transition=S}}function us(e,t,n,i){if(si){var h=cs(e,t,n,i);if(h===null)ws(e,t,i,ai,n),Ja(e,i);else if(Fu(h,e,t,n,i))i.stopPropagation();else if(Ja(e,i),t&4&&-1<Mu.indexOf(e)){for(;h!==null;){var S=_r(h);if(S!==null&&Ya(S),S=cs(e,t,n,i),S===null&&ws(e,t,i,ai,n),S===h)break;h=S}h!==null&&i.stopPropagation()}else ws(e,t,i,null,n)}}var ai=null;function cs(e,t,n,i){if(ai=null,e=Ge(i),e=Bn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_a(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case rs:return 1;case $a:return 4;case Zr:case Eu:return 16;case Va:return 536870912;default:return 16}default:return 16}}var Sn=null,ds=null,oi=null;function to(){if(oi)return oi;var e,t=ds,n=t.length,i,h="value"in Sn?Sn.value:Sn.textContent,S=h.length;for(e=0;e<n&&t[e]===h[e];e++);var U=n-e;for(i=1;i<=U&&t[n-i]===h[S-i];i++);return oi=h.slice(e,1<i?1-i:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function no(){return!1}function _t(e){function t(n,i,h,S,U){this._reactName=n,this._targetInst=h,this.type=i,this.nativeEvent=S,this.target=U,this.currentTarget=null;for(var K in e)e.hasOwnProperty(K)&&(n=e[K],this[K]=n?n(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ui:no,this.isPropagationStopped=no,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=_t(Zn),Tr=k({},Zn,{view:0,detail:0}),Lu=_t(Tr),fs,ps,wr,ci=k({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(fs=e.screenX-wr.screenX,ps=e.screenY-wr.screenY):ps=fs=0,wr=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),ro=_t(ci),Nu=k({},ci,{dataTransfer:0}),_u=_t(Nu),Bu=k({},Tr,{relatedTarget:0}),gs=_t(Bu),Uu=k({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=_t(Uu),Wu=k({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=_t(Wu),$u=k({},Zn,{data:0}),io=_t($u),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xu[e])?!!t[e]:!1}function ms(){return Yu}var Ku=k({},Tr,{key:function(e){if(e.key){var t=Vu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=_t(Ku),Qu=k({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=_t(Qu),Ju=k({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Zu=_t(Ju),qu=k({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=_t(qu),tc=k({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=_t(tc),rc=[9,13,27,32],vs=R&&"CompositionEvent"in window,Pr=null;R&&"documentMode"in document&&(Pr=document.documentMode);var ic=R&&"TextEvent"in window&&!Pr,ao=R&&(!vs||Pr&&8<Pr&&11>=Pr),oo=" ",lo=!1;function uo(e,t){switch(e){case"keyup":return rc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function sc(e,t){switch(e){case"compositionend":return co(t);case"keypress":return t.which!==32?null:(lo=!0,oo);case"textInput":return e=t.data,e===oo&&lo?null:e;default:return null}}function ac(e,t){if(qn)return e==="compositionend"||!vs&&uo(e,t)?(e=to(),oi=ds=Sn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var oc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oc[e.type]:t==="textarea"}function fo(e,t,n,i){Ie(i),t=gi(t,"onChange"),0<t.length&&(n=new hs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Rr=null,Mr=null;function lc(e){Fo(e,0)}function di(e){var t=ir(e);if(j(t))return e}function uc(e,t){if(e==="change")return t}var po=!1;if(R){var ys;if(R){var As="oninput"in document;if(!As){var go=document.createElement("div");go.setAttribute("oninput","return;"),As=typeof go.oninput=="function"}ys=As}else ys=!1;po=ys&&(!document.documentMode||9<document.documentMode)}function mo(){Rr&&(Rr.detachEvent("onpropertychange",vo),Mr=Rr=null)}function vo(e){if(e.propertyName==="value"&&di(Mr)){var t=[];fo(t,Mr,e,Ge(e)),He(lc,t)}}function cc(e,t,n){e==="focusin"?(mo(),Rr=t,Mr=n,Rr.attachEvent("onpropertychange",vo)):e==="focusout"&&mo()}function dc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Mr)}function hc(e,t){if(e==="click")return di(t)}function fc(e,t){if(e==="input"||e==="change")return di(t)}function pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:pc;function Fr(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var h=n[i];if(!O.call(t,h)||!Kt(e[h],t[h]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e,t){var n=yo(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yo(n)}}function So(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?So(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bo(){for(var e=window,t=te();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=te(e.document)}return t}function Ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gc(e){var t=bo(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&So(n.ownerDocument.documentElement,n)){if(i!==null&&Ss(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=n.textContent.length,S=Math.min(i.start,h);i=i.end===void 0?S:Math.min(i.end,h),!e.extend&&S>i&&(h=i,i=S,S=h),h=Ao(n,S);var U=Ao(n,i);h&&U&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==U.node||e.focusOffset!==U.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),S>i?(e.addRange(t),e.extend(U.node,U.offset)):(t.setEnd(U.node,U.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mc=R&&"documentMode"in document&&11>=document.documentMode,er=null,bs=null,Ir=null,Es=!1;function Eo(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Es||er==null||er!==te(i)||(i=er,"selectionStart"in i&&Ss(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ir&&Fr(Ir,i)||(Ir=i,i=gi(bs,"onSelect"),0<i.length&&(t=new hs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=er)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},xs={},xo={};R&&(xo=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function fi(e){if(xs[e])return xs[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xo)return xs[e]=t[n];return e}var ko=fi("animationend"),Co=fi("animationiteration"),To=fi("animationstart"),wo=fi("transitionend"),Po=new Map,Ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){Po.set(e,t),A(t,[e])}for(var ks=0;ks<Ro.length;ks++){var Cs=Ro[ks],vc=Cs.toLowerCase(),yc=Cs[0].toUpperCase()+Cs.slice(1);bn(vc,"on"+yc)}bn(ko,"onAnimationEnd"),bn(Co,"onAnimationIteration"),bn(To,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(wo,"onTransitionEnd"),E("onMouseEnter",["mouseout","mouseover"]),E("onMouseLeave",["mouseout","mouseover"]),E("onPointerEnter",["pointerout","pointerover"]),E("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ac=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mo(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,vu(i,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],h=i.event;i=i.listeners;e:{var S=void 0;if(t)for(var U=i.length-1;0<=U;U--){var K=i[U],Z=K.instance,ce=K.currentTarget;if(K=K.listener,Z!==S&&h.isPropagationStopped())break e;Mo(h,K,ce),S=Z}else for(U=0;U<i.length;U++){if(K=i[U],Z=K.instance,ce=K.currentTarget,K=K.listener,Z!==S&&h.isPropagationStopped())break e;Mo(h,K,ce),S=Z}}}if(en)throw e=Nn,en=!1,Nn=null,e}function et(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var i=e+"__bubble";n.has(i)||(Io(t,e,2,!1),n.add(i))}function Ts(e,t,n){var i=0;t&&(i|=4),Io(n,e,i,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[pi]){e[pi]=!0,o.forEach(function(n){n!=="selectionchange"&&(Ac.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Ts("selectionchange",!1,t))}}function Io(e,t,n,i){switch(eo(t)){case 1:var h=Ou;break;case 4:h=Du;break;default:h=us}n=h.bind(null,t,n,e),h=void 0,!rt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),i?h!==void 0?e.addEventListener(t,n,{capture:!0,passive:h}):e.addEventListener(t,n,!0):h!==void 0?e.addEventListener(t,n,{passive:h}):e.addEventListener(t,n,!1)}function ws(e,t,n,i,h){var S=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var U=i.tag;if(U===3||U===4){var K=i.stateNode.containerInfo;if(K===h||K.nodeType===8&&K.parentNode===h)break;if(U===4)for(U=i.return;U!==null;){var Z=U.tag;if((Z===3||Z===4)&&(Z=U.stateNode.containerInfo,Z===h||Z.nodeType===8&&Z.parentNode===h))return;U=U.return}for(;K!==null;){if(U=Bn(K),U===null)return;if(Z=U.tag,Z===5||Z===6){i=S=U;continue e}K=K.parentNode}}i=i.return}He(function(){var ce=S,Se=Ge(n),be=[];e:{var ve=Po.get(e);if(ve!==void 0){var Pe=hs,Me=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":Pe=ju;break;case"focusin":Me="focus",Pe=gs;break;case"focusout":Me="blur",Pe=gs;break;case"beforeblur":case"afterblur":Pe=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Zu;break;case ko:case Co:case To:Pe=zu;break;case wo:Pe=ec;break;case"scroll":Pe=Lu;break;case"wheel":Pe=nc;break;case"copy":case"cut":case"paste":Pe=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=so}var Fe=(t&4)!==0,ht=!Fe&&e==="scroll",ae=Fe?ve!==null?ve+"Capture":null:ve;Fe=[];for(var q=ce,oe;q!==null;){oe=q;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,ae!==null&&(Ee=Ve(q,ae),Ee!=null&&Fe.push(Lr(q,Ee,oe)))),ht)break;q=q.return}0<Fe.length&&(ve=new Pe(ve,Me,null,n,Se),be.push({event:ve,listeners:Fe}))}}if((t&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",ve&&n!==Te&&(Me=n.relatedTarget||n.fromElement)&&(Bn(Me)||Me[on]))break e;if((Pe||ve)&&(ve=Se.window===Se?Se:(ve=Se.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Me=n.relatedTarget||n.toElement,Pe=ce,Me=Me?Bn(Me):null,Me!==null&&(ht=_n(Me),Me!==ht||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Pe=null,Me=ce),Pe!==Me)){if(Fe=ro,Ee="onMouseLeave",ae="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=so,Ee="onPointerLeave",ae="onPointerEnter",q="pointer"),ht=Pe==null?ve:ir(Pe),oe=Me==null?ve:ir(Me),ve=new Fe(Ee,q+"leave",Pe,n,Se),ve.target=ht,ve.relatedTarget=oe,Ee=null,Bn(Se)===ce&&(Fe=new Fe(ae,q+"enter",Me,n,Se),Fe.target=oe,Fe.relatedTarget=ht,Ee=Fe),ht=Ee,Pe&&Me)t:{for(Fe=Pe,ae=Me,q=0,oe=Fe;oe;oe=nr(oe))q++;for(oe=0,Ee=ae;Ee;Ee=nr(Ee))oe++;for(;0<q-oe;)Fe=nr(Fe),q--;for(;0<oe-q;)ae=nr(ae),oe--;for(;q--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=nr(Fe),ae=nr(ae)}Fe=null}else Fe=null;Pe!==null&&Oo(be,ve,Pe,Fe,!1),Me!==null&&ht!==null&&Oo(be,ht,Me,Fe,!0)}}e:{if(ve=ce?ir(ce):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var De=uc;else if(ho(ve))if(po)De=fc;else{De=dc;var _e=cc}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(De=hc);if(De&&(De=De(e,ce))){fo(be,De,n,Se);break e}_e&&_e(e,ve,ce),e==="focusout"&&(_e=ve._wrapperState)&&_e.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(_e=ce?ir(ce):window,e){case"focusin":(ho(_e)||_e.contentEditable==="true")&&(er=_e,bs=ce,Ir=null);break;case"focusout":Ir=bs=er=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Eo(be,n,Se);break;case"selectionchange":if(mc)break;case"keydown":case"keyup":Eo(be,n,Se)}var Be;if(vs)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else qn?uo(e,n)&&(ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ze="onCompositionStart");ze&&(ao&&n.locale!=="ko"&&(qn||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&qn&&(Be=to()):(Sn=Se,ds="value"in Sn?Sn.value:Sn.textContent,qn=!0)),_e=gi(ce,ze),0<_e.length&&(ze=new io(ze,e,null,n,Se),be.push({event:ze,listeners:_e}),Be?ze.data=Be:(Be=co(n),Be!==null&&(ze.data=Be)))),(Be=ic?sc(e,n):ac(e,n))&&(ce=gi(ce,"onBeforeInput"),0<ce.length&&(Se=new io("onBeforeInput","beforeinput",null,n,Se),be.push({event:Se,listeners:ce}),Se.data=Be))}Fo(be,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gi(e,t){for(var n=t+"Capture",i=[];e!==null;){var h=e,S=h.stateNode;h.tag===5&&S!==null&&(h=S,S=Ve(e,n),S!=null&&i.unshift(Lr(e,S,h)),S=Ve(e,t),S!=null&&i.push(Lr(e,S,h))),e=e.return}return i}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oo(e,t,n,i,h){for(var S=t._reactName,U=[];n!==null&&n!==i;){var K=n,Z=K.alternate,ce=K.stateNode;if(Z!==null&&Z===i)break;K.tag===5&&ce!==null&&(K=ce,h?(Z=Ve(n,S),Z!=null&&U.unshift(Lr(n,Z,K))):h||(Z=Ve(n,S),Z!=null&&U.push(Lr(n,Z,K)))),n=n.return}U.length!==0&&e.push({event:t,listeners:U})}var Sc=/\r\n?/g,bc=/\u0000|\uFFFD/g;function Do(e){return(typeof e=="string"?e:""+e).replace(Sc,`
`).replace(bc,"")}function mi(e,t,n){if(t=Do(t),Do(e)!==t&&n)throw Error(r(425))}function vi(){}var Ps=null,Rs=null;function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,Ec=typeof clearTimeout=="function"?clearTimeout:void 0,Lo=typeof Promise=="function"?Promise:void 0,xc=typeof queueMicrotask=="function"?queueMicrotask:typeof Lo<"u"?function(e){return Lo.resolve(null).then(e).catch(kc)}:Fs;function kc(e){setTimeout(function(){throw e})}function Is(e,t){var n=t,i=0;do{var h=n.nextSibling;if(e.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"){if(i===0){e.removeChild(h),Cr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=h}while(n);Cr(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),nn="__reactFiber$"+rr,Nr="__reactProps$"+rr,on="__reactContainer$"+rr,Os="__reactEvents$"+rr,Cc="__reactListeners$"+rr,Tc="__reactHandles$"+rr;function Bn(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=No(e);e!==null;){if(n=e[nn])return n;e=No(e)}return t}e=n,n=e.parentNode}return null}function _r(e){return e=e[nn]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function yi(e){return e[Nr]||null}var Ds=[],sr=-1;function xn(e){return{current:e}}function tt(e){0>sr||(e.current=Ds[sr],Ds[sr]=null,sr--)}function Je(e,t){sr++,Ds[sr]=e.current,e.current=t}var kn={},kt=xn(kn),Mt=xn(!1),Un=kn;function ar(e,t){var n=e.type.contextTypes;if(!n)return kn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var h={},S;for(S in n)h[S]=t[S];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ft(e){return e=e.childContextTypes,e!=null}function Ai(){tt(Mt),tt(kt)}function _o(e,t,n){if(kt.current!==kn)throw Error(r(168));Je(kt,t),Je(Mt,n)}function Bo(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var h in i)if(!(h in t))throw Error(r(108,w(e)||"Unknown",h));return k({},n,i)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Un=kt.current,Je(kt,e),Je(Mt,Mt.current),!0}function Uo(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Bo(e,t,Un),i.__reactInternalMemoizedMergedChildContext=e,tt(Mt),tt(kt),Je(kt,e)):tt(Mt),Je(Mt,n)}var ln=null,bi=!1,Ls=!1;function zo(e){ln===null?ln=[e]:ln.push(e)}function wc(e){bi=!0,zo(e)}function Cn(){if(!Ls&&ln!==null){Ls=!0;var e=0,t=Qe;try{var n=ln;for(Qe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ln=null,bi=!1}catch(h){throw ln!==null&&(ln=ln.slice(e+1)),Wa(rs,Cn),h}finally{Qe=t,Ls=!1}}return null}var or=[],lr=0,Ei=null,xi=0,Wt=[],Ht=0,zn=null,un=1,cn="";function Wn(e,t){or[lr++]=xi,or[lr++]=Ei,Ei=e,xi=t}function Wo(e,t,n){Wt[Ht++]=un,Wt[Ht++]=cn,Wt[Ht++]=zn,zn=e;var i=un;e=cn;var h=32-Yt(i)-1;i&=~(1<<h),n+=1;var S=32-Yt(t)+h;if(30<S){var U=h-h%5;S=(i&(1<<U)-1).toString(32),i>>=U,h-=U,un=1<<32-Yt(t)+h|n<<h|i,cn=S+e}else un=1<<S|n<<h|i,cn=e}function Ns(e){e.return!==null&&(Wn(e,1),Wo(e,1,0))}function _s(e){for(;e===Ei;)Ei=or[--lr],or[lr]=null,xi=or[--lr],or[lr]=null;for(;e===zn;)zn=Wt[--Ht],Wt[Ht]=null,cn=Wt[--Ht],Wt[Ht]=null,un=Wt[--Ht],Wt[Ht]=null}var Bt=null,Ut=null,it=!1,jt=null;function Ho(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $o(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Ut=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(it){var t=Ut;if(t){var n=t;if(!$o(e,t)){if(Bs(e))throw Error(r(418));t=En(n.nextSibling);var i=Bt;t&&$o(e,t)?Ho(i,n):(e.flags=e.flags&-4097|2,it=!1,Bt=e)}}else{if(Bs(e))throw Error(r(418));e.flags=e.flags&-4097|2,it=!1,Bt=e}}}function Vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ki(e){if(e!==Bt)return!1;if(!it)return Vo(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ms(e.type,e.memoizedProps)),t&&(t=Ut)){if(Bs(e))throw Go(),Error(r(418));for(;t;)Ho(e,t),t=En(t.nextSibling)}if(Vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?En(e.stateNode.nextSibling):null;return!0}function Go(){for(var e=Ut;e;)e=En(e.nextSibling)}function ur(){Ut=Bt=null,it=!1}function zs(e){jt===null?jt=[e]:jt.push(e)}var Pc=L.ReactCurrentBatchConfig;function Br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var h=i,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(U){var K=h.refs;U===null?delete K[S]:K[S]=U},t._stringRef=S,t)}if(typeof e!="string")throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){var t=e._init;return t(e._payload)}function Yo(e){function t(ae,q){if(e){var oe=ae.deletions;oe===null?(ae.deletions=[q],ae.flags|=16):oe.push(q)}}function n(ae,q){if(!e)return null;for(;q!==null;)t(ae,q),q=q.sibling;return null}function i(ae,q){for(ae=new Map;q!==null;)q.key!==null?ae.set(q.key,q):ae.set(q.index,q),q=q.sibling;return ae}function h(ae,q){return ae=On(ae,q),ae.index=0,ae.sibling=null,ae}function S(ae,q,oe){return ae.index=oe,e?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<q?(ae.flags|=2,q):oe):(ae.flags|=2,q)):(ae.flags|=1048576,q)}function U(ae){return e&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,q,oe,Ee){return q===null||q.tag!==6?(q=Fa(oe,ae.mode,Ee),q.return=ae,q):(q=h(q,oe),q.return=ae,q)}function Z(ae,q,oe,Ee){var De=oe.type;return De===H?Se(ae,q,oe.props.children,Ee,oe.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&Xo(De)===q.type)?(Ee=h(q,oe.props),Ee.ref=Br(ae,q,oe),Ee.return=ae,Ee):(Ee=ji(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Br(ae,q,oe),Ee.return=ae,Ee)}function ce(ae,q,oe,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Ia(oe,ae.mode,Ee),q.return=ae,q):(q=h(q,oe.children||[]),q.return=ae,q)}function Se(ae,q,oe,Ee,De){return q===null||q.tag!==7?(q=jn(oe,ae.mode,Ee,De),q.return=ae,q):(q=h(q,oe),q.return=ae,q)}function be(ae,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Fa(""+q,ae.mode,oe),q.return=ae,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return oe=ji(q.type,q.key,q.props,null,ae.mode,oe),oe.ref=Br(ae,null,q),oe.return=ae,oe;case I:return q=Ia(q,ae.mode,oe),q.return=ae,q;case re:var Ee=q._init;return be(ae,Ee(q._payload),oe)}if(ke(q)||x(q))return q=jn(q,ae.mode,oe,null),q.return=ae,q;Ci(ae,q)}return null}function ve(ae,q,oe,Ee){var De=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return De!==null?null:K(ae,q,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return oe.key===De?Z(ae,q,oe,Ee):null;case I:return oe.key===De?ce(ae,q,oe,Ee):null;case re:return De=oe._init,ve(ae,q,De(oe._payload),Ee)}if(ke(oe)||x(oe))return De!==null?null:Se(ae,q,oe,Ee,null);Ci(ae,oe)}return null}function Pe(ae,q,oe,Ee,De){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(oe)||null,K(q,ae,""+Ee,De);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case C:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,Z(q,ae,Ee,De);case I:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,ce(q,ae,Ee,De);case re:var _e=Ee._init;return Pe(ae,q,oe,_e(Ee._payload),De)}if(ke(Ee)||x(Ee))return ae=ae.get(oe)||null,Se(q,ae,Ee,De,null);Ci(q,Ee)}return null}function Me(ae,q,oe,Ee){for(var De=null,_e=null,Be=q,ze=q=0,bt=null;Be!==null&&ze<oe.length;ze++){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var je=ve(ae,Be,oe[ze],Ee);if(je===null){Be===null&&(Be=bt);break}e&&Be&&je.alternate===null&&t(ae,Be),q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je,Be=bt}if(ze===oe.length)return n(ae,Be),it&&Wn(ae,ze),De;if(Be===null){for(;ze<oe.length;ze++)Be=be(ae,oe[ze],Ee),Be!==null&&(q=S(Be,q,ze),_e===null?De=Be:_e.sibling=Be,_e=Be);return it&&Wn(ae,ze),De}for(Be=i(ae,Be);ze<oe.length;ze++)bt=Pe(Be,ae,ze,oe[ze],Ee),bt!==null&&(e&&bt.alternate!==null&&Be.delete(bt.key===null?ze:bt.key),q=S(bt,q,ze),_e===null?De=bt:_e.sibling=bt,_e=bt);return e&&Be.forEach(function(Dn){return t(ae,Dn)}),it&&Wn(ae,ze),De}function Fe(ae,q,oe,Ee){var De=x(oe);if(typeof De!="function")throw Error(r(150));if(oe=De.call(oe),oe==null)throw Error(r(151));for(var _e=De=null,Be=q,ze=q=0,bt=null,je=oe.next();Be!==null&&!je.done;ze++,je=oe.next()){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var Dn=ve(ae,Be,je.value,Ee);if(Dn===null){Be===null&&(Be=bt);break}e&&Be&&Dn.alternate===null&&t(ae,Be),q=S(Dn,q,ze),_e===null?De=Dn:_e.sibling=Dn,_e=Dn,Be=bt}if(je.done)return n(ae,Be),it&&Wn(ae,ze),De;if(Be===null){for(;!je.done;ze++,je=oe.next())je=be(ae,je.value,Ee),je!==null&&(q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return it&&Wn(ae,ze),De}for(Be=i(ae,Be);!je.done;ze++,je=oe.next())je=Pe(Be,ae,ze,je.value,Ee),je!==null&&(e&&je.alternate!==null&&Be.delete(je.key===null?ze:je.key),q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return e&&Be.forEach(function(od){return t(ae,od)}),it&&Wn(ae,ze),De}function ht(ae,q,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===H&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:e:{for(var De=oe.key,_e=q;_e!==null;){if(_e.key===De){if(De=oe.type,De===H){if(_e.tag===7){n(ae,_e.sibling),q=h(_e,oe.props.children),q.return=ae,ae=q;break e}}else if(_e.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&Xo(De)===_e.type){n(ae,_e.sibling),q=h(_e,oe.props),q.ref=Br(ae,_e,oe),q.return=ae,ae=q;break e}n(ae,_e);break}else t(ae,_e);_e=_e.sibling}oe.type===H?(q=jn(oe.props.children,ae.mode,Ee,oe.key),q.return=ae,ae=q):(Ee=ji(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Br(ae,q,oe),Ee.return=ae,ae=Ee)}return U(ae);case I:e:{for(_e=oe.key;q!==null;){if(q.key===_e)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){n(ae,q.sibling),q=h(q,oe.children||[]),q.return=ae,ae=q;break e}else{n(ae,q);break}else t(ae,q);q=q.sibling}q=Ia(oe,ae.mode,Ee),q.return=ae,ae=q}return U(ae);case re:return _e=oe._init,ht(ae,q,_e(oe._payload),Ee)}if(ke(oe))return Me(ae,q,oe,Ee);if(x(oe))return Fe(ae,q,oe,Ee);Ci(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(n(ae,q.sibling),q=h(q,oe),q.return=ae,ae=q):(n(ae,q),q=Fa(oe,ae.mode,Ee),q.return=ae,ae=q),U(ae)):n(ae,q)}return ht}var cr=Yo(!0),Ko=Yo(!1),Ti=xn(null),wi=null,dr=null,Ws=null;function Hs(){Ws=dr=wi=null}function $s(e){var t=Ti.current;tt(Ti),e._currentValue=t}function Vs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){wi=e,Ws=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(wi===null)throw Error(r(308));dr=e,wi.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Hn=null;function Gs(e){Hn===null?Hn=[e]:Hn.push(e)}function jo(e,t,n,i){var h=t.interleaved;return h===null?(n.next=n,Gs(t)):(n.next=h.next,h.next=n),t.interleaved=n,dn(e,i)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Xe&2)!==0){var h=i.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),i.pending=t,dn(e,n)}return h=i.interleaved,h===null?(t.next=t,Gs(i)):(t.next=h.next,h.next=t),i.interleaved=t,dn(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,as(e,n)}}function Jo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var h=null,S=null;if(n=n.firstBaseUpdate,n!==null){do{var U={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};S===null?h=S=U:S=S.next=U,n=n.next}while(n!==null);S===null?h=S=t:S=S.next=t}else h=S=t;n={baseState:i.baseState,firstBaseUpdate:h,lastBaseUpdate:S,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ri(e,t,n,i){var h=e.updateQueue;Tn=!1;var S=h.firstBaseUpdate,U=h.lastBaseUpdate,K=h.shared.pending;if(K!==null){h.shared.pending=null;var Z=K,ce=Z.next;Z.next=null,U===null?S=ce:U.next=ce,U=Z;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,K=Se.lastBaseUpdate,K!==U&&(K===null?Se.firstBaseUpdate=ce:K.next=ce,Se.lastBaseUpdate=Z))}if(S!==null){var be=h.baseState;U=0,Se=ce=Z=null,K=S;do{var ve=K.lane,Pe=K.eventTime;if((i&ve)===ve){Se!==null&&(Se=Se.next={eventTime:Pe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Me=e,Fe=K;switch(ve=t,Pe=n,Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){be=Me.call(Pe,be,ve);break e}be=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,ve=typeof Me=="function"?Me.call(Pe,be,ve):Me,ve==null)break e;be=k({},be,ve);break e;case 2:Tn=!0}}K.callback!==null&&K.lane!==0&&(e.flags|=64,ve=h.effects,ve===null?h.effects=[K]:ve.push(K))}else Pe={eventTime:Pe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Se===null?(ce=Se=Pe,Z=be):Se=Se.next=Pe,U|=ve;if(K=K.next,K===null){if(K=h.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,h.lastBaseUpdate=ve,h.shared.pending=null}}while(!0);if(Se===null&&(Z=be),h.baseState=Z,h.firstBaseUpdate=ce,h.lastBaseUpdate=Se,t=h.shared.interleaved,t!==null){h=t;do U|=h.lane,h=h.next;while(h!==t)}else S===null&&(h.shared.lanes=0);Gn|=U,e.lanes=U,e.memoizedState=be}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],h=i.callback;if(h!==null){if(i.callback=null,i=n,typeof h!="function")throw Error(r(191,h));h.call(i)}}}var Ur={},rn=xn(Ur),zr=xn(Ur),Wr=xn(Ur);function $n(e){if(e===Ur)throw Error(r(174));return e}function Ys(e,t){switch(Je(Wr,t),Je(zr,e),Je(rn,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ct(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ct(t,e)}tt(rn),Je(rn,t)}function fr(){tt(rn),tt(zr),tt(Wr)}function qo(e){$n(Wr.current);var t=$n(rn.current),n=ct(t,e.type);t!==n&&(Je(zr,e),Je(rn,n))}function Ks(e){zr.current===e&&(tt(rn),tt(zr))}var at=xn(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=[];function Qs(){for(var e=0;e<js.length;e++)js[e]._workInProgressVersionPrimary=null;js.length=0}var Fi=L.ReactCurrentDispatcher,Js=L.ReactCurrentBatchConfig,Vn=0,ot=null,mt=null,At=null,Ii=!1,Hr=!1,$r=0,Rc=0;function Ct(){throw Error(r(321))}function Zs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function qs(e,t,n,i,h,S){if(Vn=S,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fi.current=e===null||e.memoizedState===null?Oc:Dc,e=n(i,h),Hr){S=0;do{if(Hr=!1,$r=0,25<=S)throw Error(r(301));S+=1,At=mt=null,t.updateQueue=null,Fi.current=Lc,e=n(i,h)}while(Hr)}if(Fi.current=Li,t=mt!==null&&mt.next!==null,Vn=0,At=mt=ot=null,Ii=!1,t)throw Error(r(300));return e}function ea(){var e=$r!==0;return $r=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ot.memoizedState=At=e:At=At.next=e,At}function Vt(){if(mt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=At===null?ot.memoizedState:At.next;if(t!==null)At=t,mt=e;else{if(e===null)throw Error(r(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},At===null?ot.memoizedState=At=e:At=At.next=e}return At}function Vr(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=Vt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=mt,h=i.baseQueue,S=n.pending;if(S!==null){if(h!==null){var U=h.next;h.next=S.next,S.next=U}i.baseQueue=h=S,n.pending=null}if(h!==null){S=h.next,i=i.baseState;var K=U=null,Z=null,ce=S;do{var Se=ce.lane;if((Vn&Se)===Se)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),i=ce.hasEagerState?ce.eagerState:e(i,ce.action);else{var be={lane:Se,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(K=Z=be,U=i):Z=Z.next=be,ot.lanes|=Se,Gn|=Se}ce=ce.next}while(ce!==null&&ce!==S);Z===null?U=i:Z.next=K,Kt(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseState=U,t.baseQueue=Z,n.lastRenderedState=i}if(e=n.interleaved,e!==null){h=e;do S=h.lane,ot.lanes|=S,Gn|=S,h=h.next;while(h!==e)}else h===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function na(e){var t=Vt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,h=n.pending,S=t.memoizedState;if(h!==null){n.pending=null;var U=h=h.next;do S=e(S,U.action),U=U.next;while(U!==h);Kt(S,t.memoizedState)||(It=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),n.lastRenderedState=S}return[S,i]}function el(){}function tl(e,t){var n=ot,i=Vt(),h=t(),S=!Kt(i.memoizedState,h);if(S&&(i.memoizedState=h,It=!0),i=i.queue,ra(il.bind(null,n,i,e),[e]),i.getSnapshot!==t||S||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Gr(9,rl.bind(null,n,i,h,t),void 0,null),St===null)throw Error(r(349));(Vn&30)!==0||nl(n,t,h)}return h}function nl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rl(e,t,n,i){t.value=n,t.getSnapshot=i,sl(t)&&al(e)}function il(e,t,n){return n(function(){sl(t)&&al(e)})}function sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function al(e){var t=dn(e,1);t!==null&&qt(t,e,1,-1)}function ol(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ic.bind(null,ot,e),[t.memoizedState,e]}function Gr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ll(){return Vt().memoizedState}function Oi(e,t,n,i){var h=sn();ot.flags|=e,h.memoizedState=Gr(1|t,n,void 0,i===void 0?null:i)}function Di(e,t,n,i){var h=Vt();i=i===void 0?null:i;var S=void 0;if(mt!==null){var U=mt.memoizedState;if(S=U.destroy,i!==null&&Zs(i,U.deps)){h.memoizedState=Gr(t,n,S,i);return}}ot.flags|=e,h.memoizedState=Gr(1|t,n,S,i)}function ul(e,t){return Oi(8390656,8,e,t)}function ra(e,t){return Di(2048,8,e,t)}function cl(e,t){return Di(4,2,e,t)}function dl(e,t){return Di(4,4,e,t)}function hl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fl(e,t,n){return n=n!=null?n.concat([e]):null,Di(4,4,hl.bind(null,t,e),n)}function ia(){}function pl(e,t){var n=Vt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function gl(e,t){var n=Vt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ml(e,t,n){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n):(Kt(n,t)||(n=Ga(),ot.lanes|=n,Gn|=n,e.baseState=!0),t)}function Mc(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var i=Js.transition;Js.transition={};try{e(!1),t()}finally{Qe=n,Js.transition=i}}function vl(){return Vt().memoizedState}function Fc(e,t,n){var i=Fn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},yl(e))Al(t,n);else if(n=jo(e,t,n,i),n!==null){var h=Rt();qt(n,e,i,h),Sl(n,t,i)}}function Ic(e,t,n){var i=Fn(e),h={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Al(t,h);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var U=t.lastRenderedState,K=S(U,n);if(h.hasEagerState=!0,h.eagerState=K,Kt(K,U)){var Z=t.interleaved;Z===null?(h.next=h,Gs(t)):(h.next=Z.next,Z.next=h),t.interleaved=h;return}}catch{}finally{}n=jo(e,t,h,i),n!==null&&(h=Rt(),qt(n,e,i,h),Sl(n,t,i))}}function yl(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Al(e,t){Hr=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sl(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,as(e,n)}}var Li={readContext:$t,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Oc={readContext:$t,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:ul,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4194308,4,hl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=sn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Fc.bind(null,ot,e),[i.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:ol,useDebugValue:ia,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=ol(!1),t=e[0];return e=Mc.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ot,h=sn();if(it){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),St===null)throw Error(r(349));(Vn&30)!==0||nl(i,t,n)}h.memoizedState=n;var S={value:n,getSnapshot:t};return h.queue=S,ul(il.bind(null,i,S,e),[e]),i.flags|=2048,Gr(9,rl.bind(null,i,S,n,t),void 0,null),n},useId:function(){var e=sn(),t=St.identifierPrefix;if(it){var n=cn,i=un;n=(i&~(1<<32-Yt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=$r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:ta,useRef:ll,useState:function(){return ta(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return ml(t,mt.memoizedState,e)},useTransition:function(){var e=ta(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1},Lc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:na,useRef:ll,useState:function(){return na(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return mt===null?t.memoizedState=e:ml(t,mt.memoizedState,e)},useTransition:function(){var e=na(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=k({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:k({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rt(),h=Fn(e),S=hn(i,h);S.payload=t,n!=null&&(S.callback=n),t=wn(e,S,h),t!==null&&(qt(t,e,h,i),Pi(t,e,h))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rt(),h=Fn(e),S=hn(i,h);S.tag=1,S.payload=t,n!=null&&(S.callback=n),t=wn(e,S,h),t!==null&&(qt(t,e,h,i),Pi(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),i=Fn(e),h=hn(n,i);h.tag=2,t!=null&&(h.callback=t),t=wn(e,h,i),t!==null&&(qt(t,e,i,n),Pi(t,e,i))}};function bl(e,t,n,i,h,S,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,S,U):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,i)||!Fr(h,S):!0}function El(e,t,n){var i=!1,h=kn,S=t.contextType;return typeof S=="object"&&S!==null?S=$t(S):(h=Ft(t)?Un:kt.current,i=t.contextTypes,S=(i=i!=null)?ar(e,h):kn),t=new t(n,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=S),t}function xl(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,i){var h=e.stateNode;h.props=n,h.state=e.memoizedState,h.refs={},Xs(e);var S=t.contextType;typeof S=="object"&&S!==null?h.context=$t(S):(S=Ft(t)?Un:kt.current,h.context=ar(e,S)),h.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(sa(e,t,S,n),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Ni.enqueueReplaceState(h,h.state,null),Ri(e,n,h,i),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",i=t;do n+=z(i),i=i.return;while(i);var h=n}catch(S){h=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:h,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nc=typeof WeakMap=="function"?WeakMap:Map;function kl(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){$i||($i=!0,xa=i),la(e,t)},n}function Cl(e,t,n){n=hn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var h=t.value;n.payload=function(){return i(h)},n.callback=function(){la(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){la(e,t),typeof i!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var U=t.stack;this.componentDidCatch(t.value,{componentStack:U!==null?U:""})}),n}function Tl(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Nc;var h=new Set;i.set(t,h)}else h=i.get(t),h===void 0&&(h=new Set,i.set(t,h));h.has(n)||(h.add(n),e=Qc.bind(null,e,t,n),t.then(e,e))}function wl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,n,i,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var _c=L.ReactCurrentOwner,It=!1;function Pt(e,t,n,i){t.child=e===null?Ko(t,null,n,i):cr(t,e.child,n,i)}function Rl(e,t,n,i,h){n=n.render;var S=t.ref;return hr(t,h),i=qs(e,t,n,i,S,h),n=ea(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,fn(e,t,h)):(it&&n&&Ns(t),t.flags|=1,Pt(e,t,i,h),t.child)}function Ml(e,t,n,i,h){if(e===null){var S=n.type;return typeof S=="function"&&!Ma(S)&&S.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=S,Fl(e,t,S,i,h)):(e=ji(n.type,null,i,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,(e.lanes&h)===0){var U=S.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(U,i)&&e.ref===t.ref)return fn(e,t,h)}return t.flags|=1,e=On(S,i),e.ref=t.ref,e.return=t,t.child=e}function Fl(e,t,n,i,h){if(e!==null){var S=e.memoizedProps;if(Fr(S,i)&&e.ref===t.ref)if(It=!1,t.pendingProps=i=S,(e.lanes&h)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,fn(e,t,h)}return ua(e,t,n,i,h)}function Il(e,t,n){var i=t.pendingProps,h=i.children,S=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(mr,zt),zt|=n;else{if((n&1073741824)===0)return e=S!==null?S.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(mr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=S!==null?S.baseLanes:n,Je(mr,zt),zt|=i}else S!==null?(i=S.baseLanes|n,t.memoizedState=null):i=n,Je(mr,zt),zt|=i;return Pt(e,t,h,n),t.child}function Ol(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,n,i,h){var S=Ft(n)?Un:kt.current;return S=ar(t,S),hr(t,h),n=qs(e,t,n,i,S,h),i=ea(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,fn(e,t,h)):(it&&i&&Ns(t),t.flags|=1,Pt(e,t,n,h),t.child)}function Dl(e,t,n,i,h){if(Ft(n)){var S=!0;Si(t)}else S=!1;if(hr(t,h),t.stateNode===null)Bi(e,t),El(t,n,i),aa(t,n,i,h),i=!0;else if(e===null){var U=t.stateNode,K=t.memoizedProps;U.props=K;var Z=U.context,ce=n.contextType;typeof ce=="object"&&ce!==null?ce=$t(ce):(ce=Ft(n)?Un:kt.current,ce=ar(t,ce));var Se=n.getDerivedStateFromProps,be=typeof Se=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==i||Z!==ce)&&xl(t,U,i,ce),Tn=!1;var ve=t.memoizedState;U.state=ve,Ri(t,i,U,h),Z=t.memoizedState,K!==i||ve!==Z||Mt.current||Tn?(typeof Se=="function"&&(sa(t,n,Se,i),Z=t.memoizedState),(K=Tn||bl(t,n,K,i,ve,Z,ce))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(t.flags|=4194308)):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=Z),U.props=i,U.state=Z,U.context=ce,i=K):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{U=t.stateNode,Qo(e,t),K=t.memoizedProps,ce=t.type===t.elementType?K:Qt(t.type,K),U.props=ce,be=t.pendingProps,ve=U.context,Z=n.contextType,typeof Z=="object"&&Z!==null?Z=$t(Z):(Z=Ft(n)?Un:kt.current,Z=ar(t,Z));var Pe=n.getDerivedStateFromProps;(Se=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==be||ve!==Z)&&xl(t,U,i,Z),Tn=!1,ve=t.memoizedState,U.state=ve,Ri(t,i,U,h);var Me=t.memoizedState;K!==be||ve!==Me||Mt.current||Tn?(typeof Pe=="function"&&(sa(t,n,Pe,i),Me=t.memoizedState),(ce=Tn||bl(t,n,ce,i,ve,Me,Z)||!1)?(Se||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(i,Me,Z),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(i,Me,Z)),typeof U.componentDidUpdate=="function"&&(t.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Me),U.props=i,U.state=Me,U.context=Z,i=ce):(typeof U.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),i=!1)}return ca(e,t,n,i,S,h)}function ca(e,t,n,i,h,S){Ol(e,t);var U=(t.flags&128)!==0;if(!i&&!U)return h&&Uo(t,n,!1),fn(e,t,S);i=t.stateNode,_c.current=t;var K=U&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&U?(t.child=cr(t,e.child,null,S),t.child=cr(t,null,K,S)):Pt(e,t,K,S),t.memoizedState=i.state,h&&Uo(t,n,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?_o(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(e,t.context,!1),Ys(e,t.containerInfo)}function Nl(e,t,n,i,h){return ur(),zs(h),t.flags|=256,Pt(e,t,n,i),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function _l(e,t,n){var i=t.pendingProps,h=at.current,S=!1,U=(t.flags&128)!==0,K;if((K=U)||(K=e!==null&&e.memoizedState===null?!1:(h&2)!==0),K?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Je(at,h&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(U=i.children,e=i.fallback,S?(i=t.mode,S=t.child,U={mode:"hidden",children:U},(i&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=U):S=Qi(U,i,0,null),e=jn(e,i,n,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=ha(n),t.memoizedState=da,e):fa(t,U));if(h=e.memoizedState,h!==null&&(K=h.dehydrated,K!==null))return Bc(e,t,U,i,K,h,n);if(S){S=i.fallback,U=t.mode,h=e.child,K=h.sibling;var Z={mode:"hidden",children:i.children};return(U&1)===0&&t.child!==h?(i=t.child,i.childLanes=0,i.pendingProps=Z,t.deletions=null):(i=On(h,Z),i.subtreeFlags=h.subtreeFlags&14680064),K!==null?S=On(K,S):(S=jn(S,U,n,null),S.flags|=2),S.return=t,i.return=t,i.sibling=S,t.child=i,i=S,S=t.child,U=e.child.memoizedState,U=U===null?ha(n):{baseLanes:U.baseLanes|n,cachePool:null,transitions:U.transitions},S.memoizedState=U,S.childLanes=e.childLanes&~n,t.memoizedState=da,i}return S=e.child,e=S.sibling,i=On(S,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function fa(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,n,i){return i!==null&&zs(i),cr(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bc(e,t,n,i,h,S,U){if(n)return t.flags&256?(t.flags&=-257,i=oa(Error(r(422))),_i(e,t,U,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=i.fallback,h=t.mode,i=Qi({mode:"visible",children:i.children},h,0,null),S=jn(S,h,U,null),S.flags|=2,i.return=t,S.return=t,i.sibling=S,t.child=i,(t.mode&1)!==0&&cr(t,e.child,null,U),t.child.memoizedState=ha(U),t.memoizedState=da,S);if((t.mode&1)===0)return _i(e,t,U,null);if(h.data==="$!"){if(i=h.nextSibling&&h.nextSibling.dataset,i)var K=i.dgst;return i=K,S=Error(r(419)),i=oa(S,i,void 0),_i(e,t,U,i)}if(K=(U&e.childLanes)!==0,It||K){if(i=St,i!==null){switch(U&-U){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(i.suspendedLanes|U))!==0?0:h,h!==0&&h!==S.retryLane&&(S.retryLane=h,dn(e,h),qt(i,e,h,-1))}return Ra(),i=oa(Error(r(421))),_i(e,t,U,i)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Jc.bind(null,e),h._reactRetry=t,null):(e=S.treeContext,Ut=En(h.nextSibling),Bt=t,it=!0,jt=null,e!==null&&(Wt[Ht++]=un,Wt[Ht++]=cn,Wt[Ht++]=zn,un=e.id,cn=e.overflow,zn=t),t=fa(t,i.children),t.flags|=4096,t)}function Bl(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vs(e.return,t,n)}function pa(e,t,n,i,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:h}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=i,S.tail=n,S.tailMode=h)}function Ul(e,t,n){var i=t.pendingProps,h=i.revealOrder,S=i.tail;if(Pt(e,t,i.children,n),i=at.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,n,t);else if(e.tag===19)Bl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Je(at,i),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(n=t.child,h=null;n!==null;)e=n.alternate,e!==null&&Mi(e)===null&&(h=n),n=n.sibling;n=h,n===null?(h=t.child,t.child=null):(h=n.sibling,n.sibling=null),pa(t,!1,h,n,S);break;case"backwards":for(n=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Mi(e)===null){t.child=h;break}e=h.sibling,h.sibling=n,n=h,h=e}pa(t,!0,n,null,S);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t,n){switch(t.tag){case 3:Ll(t),ur();break;case 5:qo(t);break;case 1:Ft(t.type)&&Si(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,h=t.memoizedProps.value;Je(Ti,i._currentValue),i._currentValue=h;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Je(at,at.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?_l(e,t,n):(Je(at,at.current&1),e=fn(e,t,n),e!==null?e.sibling:null);Je(at,at.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Ul(e,t,n);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Je(at,at.current),i)break;return null;case 22:case 23:return t.lanes=0,Il(e,t,n)}return fn(e,t,n)}var zl,ga,Wl,Hl;zl=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ga=function(){},Wl=function(e,t,n,i){var h=e.memoizedProps;if(h!==i){e=t.stateNode,$n(rn.current);var S=null;switch(n){case"input":h=Ae(e,h),i=Ae(e,i),S=[];break;case"select":h=k({},h,{value:void 0}),i=k({},i,{value:void 0}),S=[];break;case"textarea":h=Oe(e,h),i=Oe(e,i),S=[];break;default:typeof h.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=vi)}ie(n,i);var U;n=null;for(ce in h)if(!i.hasOwnProperty(ce)&&h.hasOwnProperty(ce)&&h[ce]!=null)if(ce==="style"){var K=h[ce];for(U in K)K.hasOwnProperty(U)&&(n||(n={}),n[U]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(c.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in i){var Z=i[ce];if(K=h?.[ce],i.hasOwnProperty(ce)&&Z!==K&&(Z!=null||K!=null))if(ce==="style")if(K){for(U in K)!K.hasOwnProperty(U)||Z&&Z.hasOwnProperty(U)||(n||(n={}),n[U]="");for(U in Z)Z.hasOwnProperty(U)&&K[U]!==Z[U]&&(n||(n={}),n[U]=Z[U])}else n||(S||(S=[]),S.push(ce,n)),n=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(S=S||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(c.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&et("scroll",e),S||K===Z||(S=[])):(S=S||[]).push(ce,Z))}n&&(S=S||[]).push("style",n);var ce=S;(t.updateQueue=ce)&&(t.flags|=4)}},Hl=function(e,t,n,i){n!==i&&(t.flags|=4)};function Xr(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var h=e.child;h!==null;)n|=h.lanes|h.childLanes,i|=h.subtreeFlags&14680064,i|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)n|=h.lanes|h.childLanes,i|=h.subtreeFlags,i|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zc(e,t,n){var i=t.pendingProps;switch(_s(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Ft(t.type)&&Ai(),Tt(t),null;case 3:return i=t.stateNode,fr(),tt(Mt),tt(kt),Qs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(Ta(jt),jt=null))),ga(e,t),Tt(t),null;case 5:Ks(t);var h=$n(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)Wl(e,t,n,i,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Tt(t),null}if(e=$n(rn.current),ki(t)){i=t.stateNode,n=t.type;var S=t.memoizedProps;switch(i[nn]=t,i[Nr]=S,e=(t.mode&1)!==0,n){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(h=0;h<Or.length;h++)et(Or[h],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":se(i,S),et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!S.multiple},et("invalid",i);break;case"textarea":Ue(i,S),et("invalid",i)}ie(n,S),h=null;for(var U in S)if(S.hasOwnProperty(U)){var K=S[U];U==="children"?typeof K=="string"?i.textContent!==K&&(S.suppressHydrationWarning!==!0&&mi(i.textContent,K,e),h=["children",K]):typeof K=="number"&&i.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&mi(i.textContent,K,e),h=["children",""+K]):c.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&et("scroll",i)}switch(n){case"input":G(i),ge(i,S,!0);break;case"textarea":G(i),Ye(i);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(i.onclick=vi)}i=h,t.updateQueue=i,i!==null&&(t.flags|=4)}else{U=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=U.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=U.createElement(n,{is:i.is}):(e=U.createElement(n),n==="select"&&(U=e,i.multiple?U.multiple=!0:i.size&&(U.size=i.size))):e=U.createElementNS(e,n),e[nn]=t,e[Nr]=i,zl(e,t,!1,!1),t.stateNode=e;e:{switch(U=ee(n,i),n){case"dialog":et("cancel",e),et("close",e),h=i;break;case"iframe":case"object":case"embed":et("load",e),h=i;break;case"video":case"audio":for(h=0;h<Or.length;h++)et(Or[h],e);h=i;break;case"source":et("error",e),h=i;break;case"img":case"image":case"link":et("error",e),et("load",e),h=i;break;case"details":et("toggle",e),h=i;break;case"input":se(e,i),h=Ae(e,i),et("invalid",e);break;case"option":h=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},h=k({},i,{value:void 0}),et("invalid",e);break;case"textarea":Ue(e,i),h=Oe(e,i),et("invalid",e);break;default:h=i}ie(n,h),K=h;for(S in K)if(K.hasOwnProperty(S)){var Z=K[S];S==="style"?gn(e,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ze(e,Z)):S==="children"?typeof Z=="string"?(n!=="textarea"||Z!=="")&&ft(e,Z):typeof Z=="number"&&ft(e,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&et("scroll",e):Z!=null&&B(e,S,Z,U))}switch(n){case"input":G(e),ge(e,i,!1);break;case"textarea":G(e),Ye(e);break;case"option":i.value!=null&&e.setAttribute("value",""+F(i.value));break;case"select":e.multiple=!!i.multiple,S=i.value,S!=null?we(e,!!i.multiple,S,!1):i.defaultValue!=null&&we(e,!!i.multiple,i.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=vi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(n=$n(Wr.current),$n(rn.current),ki(t)){if(i=t.stateNode,n=t.memoizedProps,i[nn]=t,(S=i.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:mi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(i.nodeValue,n,(e.mode&1)!==0)}S&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[nn]=t,t.stateNode=i}return Tt(t),null;case 13:if(tt(at),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Go(),ur(),t.flags|=98560,S=!1;else if(S=ki(t),i!==null&&i.dehydrated!==null){if(e===null){if(!S)throw Error(r(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[nn]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),S=!1}else jt!==null&&(Ta(jt),jt=null),S=!0;if(!S)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(at.current&1)!==0?vt===0&&(vt=3):Ra())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return fr(),ga(e,t),e===null&&Dr(t.stateNode.containerInfo),Tt(t),null;case 10:return $s(t.type._context),Tt(t),null;case 17:return Ft(t.type)&&Ai(),Tt(t),null;case 19:if(tt(at),S=t.memoizedState,S===null)return Tt(t),null;if(i=(t.flags&128)!==0,U=S.rendering,U===null)if(i)Xr(S,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(U=Mi(e),U!==null){for(t.flags|=128,Xr(S,!1),i=U.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)S=n,e=i,S.flags&=14680066,U=S.alternate,U===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=U.childLanes,S.lanes=U.lanes,S.child=U.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=U.memoizedProps,S.memoizedState=U.memoizedState,S.updateQueue=U.updateQueue,S.type=U.type,e=U.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(at,at.current&1|2),t.child}e=e.sibling}S.tail!==null&&dt()>vr&&(t.flags|=128,i=!0,Xr(S,!1),t.lanes=4194304)}else{if(!i)if(e=Mi(U),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!U.alternate&&!it)return Tt(t),null}else 2*dt()-S.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,i=!0,Xr(S,!1),t.lanes=4194304);S.isBackwards?(U.sibling=t.child,t.child=U):(n=S.last,n!==null?n.sibling=U:t.child=U,S.last=U)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=dt(),t.sibling=null,n=at.current,Je(at,i?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return Pa(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(zt&1073741824)!==0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Wc(e,t){switch(_s(t),t.tag){case 1:return Ft(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),tt(Mt),tt(kt),Qs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ks(t),null;case 13:if(tt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(at),null;case 4:return fr(),null;case 10:return $s(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Ui=!1,wt=!1,Hc=typeof WeakSet=="function"?WeakSet:Set,Re=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ut(e,t,i)}else n.current=null}function ma(e,t,n){try{n()}catch(i){ut(e,t,i)}}var $l=!1;function $c(e,t){if(Ps=si,e=bo(),Ss(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var h=i.anchorOffset,S=i.focusNode;i=i.focusOffset;try{n.nodeType,S.nodeType}catch{n=null;break e}var U=0,K=-1,Z=-1,ce=0,Se=0,be=e,ve=null;t:for(;;){for(var Pe;be!==n||h!==0&&be.nodeType!==3||(K=U+h),be!==S||i!==0&&be.nodeType!==3||(Z=U+i),be.nodeType===3&&(U+=be.nodeValue.length),(Pe=be.firstChild)!==null;)ve=be,be=Pe;for(;;){if(be===e)break t;if(ve===n&&++ce===h&&(K=U),ve===S&&++Se===i&&(Z=U),(Pe=be.nextSibling)!==null)break;be=ve,ve=be.parentNode}be=Pe}n=K===-1||Z===-1?null:{start:K,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},si=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var Me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Fe=Me.memoizedProps,ht=Me.memoizedState,ae=t.stateNode,q=ae.getSnapshotBeforeUpdate(t.elementType===t.type?Fe:Qt(t.type,Fe),ht);ae.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=t.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){ut(t,t.return,Ee)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return Me=$l,$l=!1,Me}function Yr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var h=i=i.next;do{if((h.tag&e)===e){var S=h.destroy;h.destroy=void 0,S!==void 0&&ma(t,n,S)}h=h.next}while(h!==i)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vl(e){var t=e.alternate;t!==null&&(e.alternate=null,Vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Nr],delete t[Os],delete t[Cc],delete t[Tc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function Xl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vi));else if(i!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function Aa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}var Et=null,Jt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)Yl(e,t,n),n=n.sibling}function Yl(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qr,n)}catch{}switch(n.tag){case 5:wt||gr(n,t);case 6:var i=Et,h=Jt;Et=null,Pn(e,t,n),Et=i,Jt=h,Et!==null&&(Jt?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Jt?(e=Et,n=n.stateNode,e.nodeType===8?Is(e.parentNode,n):e.nodeType===1&&Is(e,n),Cr(e)):Is(Et,n.stateNode));break;case 4:i=Et,h=Jt,Et=n.stateNode.containerInfo,Jt=!0,Pn(e,t,n),Et=i,Jt=h;break;case 0:case 11:case 14:case 15:if(!wt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){h=i=i.next;do{var S=h,U=S.destroy;S=S.tag,U!==void 0&&((S&2)!==0||(S&4)!==0)&&ma(n,t,U),h=h.next}while(h!==i)}Pn(e,t,n);break;case 1:if(!wt&&(gr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(K){ut(n,t,K)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(wt=(i=wt)||n.memoizedState!==null,Pn(e,t,n),wt=i):Pn(e,t,n);break;default:Pn(e,t,n)}}function Kl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hc),t.forEach(function(i){var h=Zc.bind(null,e,i);n.has(i)||(n.add(i),i.then(h,h))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var h=n[i];try{var S=e,U=t,K=U;e:for(;K!==null;){switch(K.tag){case 5:Et=K.stateNode,Jt=!1;break e;case 3:Et=K.stateNode.containerInfo,Jt=!0;break e;case 4:Et=K.stateNode.containerInfo,Jt=!0;break e}K=K.return}if(Et===null)throw Error(r(160));Yl(S,U,h),Et=null,Jt=!1;var Z=h.alternate;Z!==null&&(Z.return=null),h.return=null}catch(ce){ut(h,t,ce)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jl(t,e),t=t.sibling}function jl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),an(e),i&4){try{Yr(3,e,e.return),zi(3,e)}catch(Fe){ut(e,e.return,Fe)}try{Yr(5,e,e.return)}catch(Fe){ut(e,e.return,Fe)}}break;case 1:Zt(t,e),an(e),i&512&&n!==null&&gr(n,n.return);break;case 5:if(Zt(t,e),an(e),i&512&&n!==null&&gr(n,n.return),e.flags&32){var h=e.stateNode;try{ft(h,"")}catch(Fe){ut(e,e.return,Fe)}}if(i&4&&(h=e.stateNode,h!=null)){var S=e.memoizedProps,U=n!==null?n.memoizedProps:S,K=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&le(h,S),ee(K,U);var ce=ee(K,S);for(U=0;U<Z.length;U+=2){var Se=Z[U],be=Z[U+1];Se==="style"?gn(h,be):Se==="dangerouslySetInnerHTML"?Ze(h,be):Se==="children"?ft(h,be):B(h,Se,be,ce)}switch(K){case"input":pe(h,S);break;case"textarea":We(h,S);break;case"select":var ve=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!S.multiple;var Pe=S.value;Pe!=null?we(h,!!S.multiple,Pe,!1):ve!==!!S.multiple&&(S.defaultValue!=null?we(h,!!S.multiple,S.defaultValue,!0):we(h,!!S.multiple,S.multiple?[]:"",!1))}h[Nr]=S}catch(Fe){ut(e,e.return,Fe)}}break;case 6:if(Zt(t,e),an(e),i&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,S=e.memoizedProps;try{h.nodeValue=S}catch(Fe){ut(e,e.return,Fe)}}break;case 3:if(Zt(t,e),an(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Cr(t.containerInfo)}catch(Fe){ut(e,e.return,Fe)}break;case 4:Zt(t,e),an(e);break;case 13:Zt(t,e),an(e),h=e.child,h.flags&8192&&(S=h.memoizedState!==null,h.stateNode.isHidden=S,!S||h.alternate!==null&&h.alternate.memoizedState!==null||(Ea=dt())),i&4&&Kl(e);break;case 22:if(Se=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(ce=wt)||Se,Zt(t,e),wt=ce):Zt(t,e),an(e),i&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!Se&&(e.mode&1)!==0)for(Re=e,Se=e.child;Se!==null;){for(be=Re=Se;Re!==null;){switch(ve=Re,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Yr(4,ve,ve.return);break;case 1:gr(ve,ve.return);var Me=ve.stateNode;if(typeof Me.componentWillUnmount=="function"){i=ve,n=ve.return;try{t=i,Me.props=t.memoizedProps,Me.state=t.memoizedState,Me.componentWillUnmount()}catch(Fe){ut(i,n,Fe)}}break;case 5:gr(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Zl(be);continue}}Pe!==null?(Pe.return=ve,Re=Pe):Zl(be)}Se=Se.sibling}e:for(Se=null,be=e;;){if(be.tag===5){if(Se===null){Se=be;try{h=be.stateNode,ce?(S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=be.stateNode,Z=be.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=Qn("display",U))}catch(Fe){ut(e,e.return,Fe)}}}else if(be.tag===6){if(Se===null)try{be.stateNode.nodeValue=ce?"":be.memoizedProps}catch(Fe){ut(e,e.return,Fe)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===e)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===e)break e;for(;be.sibling===null;){if(be.return===null||be.return===e)break e;Se===be&&(Se=null),be=be.return}Se===be&&(Se=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Zt(t,e),an(e),i&4&&Kl(e);break;case 21:break;default:Zt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gl(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var h=i.stateNode;i.flags&32&&(ft(h,""),i.flags&=-33);var S=Xl(e);Aa(e,S,h);break;case 3:case 4:var U=i.stateNode.containerInfo,K=Xl(e);ya(e,K,U);break;default:throw Error(r(161))}}catch(Z){ut(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vc(e,t,n){Re=e,Ql(e)}function Ql(e,t,n){for(var i=(e.mode&1)!==0;Re!==null;){var h=Re,S=h.child;if(h.tag===22&&i){var U=h.memoizedState!==null||Ui;if(!U){var K=h.alternate,Z=K!==null&&K.memoizedState!==null||wt;K=Ui;var ce=wt;if(Ui=U,(wt=Z)&&!ce)for(Re=h;Re!==null;)U=Re,Z=U.child,U.tag===22&&U.memoizedState!==null?ql(h):Z!==null?(Z.return=U,Re=Z):ql(h);for(;S!==null;)Re=S,Ql(S),S=S.sibling;Re=h,Ui=K,wt=ce}Jl(e)}else(h.subtreeFlags&8772)!==0&&S!==null?(S.return=h,Re=S):Jl(e)}}function Jl(e){for(;Re!==null;){var t=Re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:wt||zi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!wt)if(n===null)i.componentDidMount();else{var h=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);i.componentDidUpdate(h,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&Zo(t,S,i);break;case 3:var U=t.updateQueue;if(U!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,U,n)}break;case 5:var K=t.stateNode;if(n===null&&t.flags&4){n=K;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&n.focus();break;case"img":Z.src&&(n.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ce=t.alternate;if(ce!==null){var Se=ce.memoizedState;if(Se!==null){var be=Se.dehydrated;be!==null&&Cr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wt||t.flags&512&&va(t)}catch(ve){ut(t,t.return,ve)}}if(t===e){Re=null;break}if(n=t.sibling,n!==null){n.return=t.return,Re=n;break}Re=t.return}}function Zl(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Re=n;break}Re=t.return}}function ql(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zi(4,t)}catch(Z){ut(t,n,Z)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var h=t.return;try{i.componentDidMount()}catch(Z){ut(t,h,Z)}}var S=t.return;try{va(t)}catch(Z){ut(t,S,Z)}break;case 5:var U=t.return;try{va(t)}catch(Z){ut(t,U,Z)}}}catch(Z){ut(t,t.return,Z)}if(t===e){Re=null;break}var K=t.sibling;if(K!==null){K.return=t.return,Re=K;break}Re=t.return}}var Gc=Math.ceil,Wi=L.ReactCurrentDispatcher,Sa=L.ReactCurrentOwner,Gt=L.ReactCurrentBatchConfig,Xe=0,St=null,pt=null,xt=0,zt=0,mr=xn(0),vt=0,Kr=null,Gn=0,Hi=0,ba=0,jr=null,Ot=null,Ea=0,vr=1/0,pn=null,$i=!1,xa=null,Rn=null,Vi=!1,Mn=null,Gi=0,Qr=0,ka=null,Xi=-1,Yi=0;function Rt(){return(Xe&6)!==0?dt():Xi!==-1?Xi:Xi=dt()}function Fn(e){return(e.mode&1)===0?1:(Xe&2)!==0&&xt!==0?xt&-xt:Pc.transition!==null?(Yi===0&&(Yi=Ga()),Yi):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:eo(e.type)),e)}function qt(e,t,n,i){if(50<Qr)throw Qr=0,ka=null,Error(r(185));Sr(e,n,i),((Xe&2)===0||e!==St)&&(e===St&&((Xe&2)===0&&(Hi|=n),vt===4&&In(e,xt)),Dt(e,i),n===1&&Xe===0&&(t.mode&1)===0&&(vr=dt()+500,bi&&Cn()))}function Dt(e,t){var n=e.callbackNode;Pu(e,t);var i=ni(e,e===St?xt:0);if(i===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?wc(tu.bind(null,e)):zo(tu.bind(null,e)),xc(function(){(Xe&6)===0&&Cn()}),n=null;else{switch(Xa(i)){case 1:n=rs;break;case 4:n=$a;break;case 16:n=Zr;break;case 536870912:n=Va;break;default:n=Zr}n=uu(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(Xi=-1,Yi=0,(Xe&6)!==0)throw Error(r(327));var n=e.callbackNode;if(yr()&&e.callbackNode!==n)return null;var i=ni(e,e===St?xt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ki(e,i);else{t=i;var h=Xe;Xe|=2;var S=ru();(St!==e||xt!==t)&&(pn=null,vr=dt()+500,Yn(e,t));do try{Kc();break}catch(K){nu(e,K)}while(!0);Hs(),Wi.current=S,Xe=h,pt!==null?t=0:(St=null,xt=0,t=vt)}if(t!==0){if(t===2&&(h=is(e),h!==0&&(i=h,t=Ca(e,h))),t===1)throw n=Kr,Yn(e,0),In(e,i),Dt(e,dt()),n;if(t===6)In(e,i);else{if(h=e.current.alternate,(i&30)===0&&!Xc(h)&&(t=Ki(e,i),t===2&&(S=is(e),S!==0&&(i=S,t=Ca(e,S))),t===1))throw n=Kr,Yn(e,0),In(e,i),Dt(e,dt()),n;switch(e.finishedWork=h,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:Kn(e,Ot,pn);break;case 3:if(In(e,i),(i&130023424)===i&&(t=Ea+500-dt(),10<t)){if(ni(e,0)!==0)break;if(h=e.suspendedLanes,(h&i)!==i){Rt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Fs(Kn.bind(null,e,Ot,pn),t);break}Kn(e,Ot,pn);break;case 4:if(In(e,i),(i&4194240)===i)break;for(t=e.eventTimes,h=-1;0<i;){var U=31-Yt(i);S=1<<U,U=t[U],U>h&&(h=U),i&=~S}if(i=h,i=dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Gc(i/1960))-i,10<i){e.timeoutHandle=Fs(Kn.bind(null,e,Ot,pn),i);break}Kn(e,Ot,pn);break;case 5:Kn(e,Ot,pn);break;default:throw Error(r(329))}}}return Dt(e,dt()),e.callbackNode===n?eu.bind(null,e):null}function Ca(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Ta(t)),e}function Ta(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Xc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var h=n[i],S=h.getSnapshot;h=h.value;try{if(!Kt(S(),h))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~ba,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),i=1<<n;e[n]=-1,t&=~i}}function tu(e){if((Xe&6)!==0)throw Error(r(327));yr();var t=ni(e,0);if((t&1)===0)return Dt(e,dt()),null;var n=Ki(e,t);if(e.tag!==0&&n===2){var i=is(e);i!==0&&(t=i,n=Ca(e,i))}if(n===1)throw n=Kr,Yn(e,0),In(e,t),Dt(e,dt()),n;if(n===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ot,pn),Dt(e,dt()),null}function wa(e,t){var n=Xe;Xe|=1;try{return e(t)}finally{Xe=n,Xe===0&&(vr=dt()+500,bi&&Cn())}}function Xn(e){Mn!==null&&Mn.tag===0&&(Xe&6)===0&&yr();var t=Xe;Xe|=1;var n=Gt.transition,i=Qe;try{if(Gt.transition=null,Qe=1,e)return e()}finally{Qe=i,Gt.transition=n,Xe=t,(Xe&6)===0&&Cn()}}function Pa(){zt=mr.current,tt(mr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ec(n)),pt!==null)for(n=pt.return;n!==null;){var i=n;switch(_s(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ai();break;case 3:fr(),tt(Mt),tt(kt),Qs();break;case 5:Ks(i);break;case 4:fr();break;case 13:tt(at);break;case 19:tt(at);break;case 10:$s(i.type._context);break;case 22:case 23:Pa()}n=n.return}if(St=e,pt=e=On(e.current,null),xt=zt=t,vt=0,Kr=null,ba=Hi=Gn=0,Ot=jr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],i=n.interleaved,i!==null){n.interleaved=null;var h=i.next,S=n.pending;if(S!==null){var U=S.next;S.next=h,i.next=U}n.pending=i}Hn=null}return e}function nu(e,t){do{var n=pt;try{if(Hs(),Fi.current=Li,Ii){for(var i=ot.memoizedState;i!==null;){var h=i.queue;h!==null&&(h.pending=null),i=i.next}Ii=!1}if(Vn=0,At=mt=ot=null,Hr=!1,$r=0,Sa.current=null,n===null||n.return===null){vt=1,Kr=t,pt=null;break}e:{var S=e,U=n.return,K=n,Z=t;if(t=xt,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,Se=K,be=Se.tag;if((Se.mode&1)===0&&(be===0||be===11||be===15)){var ve=Se.alternate;ve?(Se.updateQueue=ve.updateQueue,Se.memoizedState=ve.memoizedState,Se.lanes=ve.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Pe=wl(U);if(Pe!==null){Pe.flags&=-257,Pl(Pe,U,K,S,t),Pe.mode&1&&Tl(S,ce,t),t=Pe,Z=ce;var Me=t.updateQueue;if(Me===null){var Fe=new Set;Fe.add(Z),t.updateQueue=Fe}else Me.add(Z);break e}else{if((t&1)===0){Tl(S,ce,t),Ra();break e}Z=Error(r(426))}}else if(it&&K.mode&1){var ht=wl(U);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Pl(ht,U,K,S,t),zs(pr(Z,K));break e}}S=Z=pr(Z,K),vt!==4&&(vt=2),jr===null?jr=[S]:jr.push(S),S=U;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var ae=kl(S,Z,t);Jo(S,ae);break e;case 1:K=Z;var q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Rn===null||!Rn.has(oe)))){S.flags|=65536,t&=-t,S.lanes|=t;var Ee=Cl(S,K,t);Jo(S,Ee);break e}}S=S.return}while(S!==null)}su(n)}catch(De){t=De,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function ru(){var e=Wi.current;return Wi.current=Li,e===null?Li:e}function Ra(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||(Gn&268435455)===0&&(Hi&268435455)===0||In(St,xt)}function Ki(e,t){var n=Xe;Xe|=2;var i=ru();(St!==e||xt!==t)&&(pn=null,Yn(e,t));do try{Yc();break}catch(h){nu(e,h)}while(!0);if(Hs(),Xe=n,Wi.current=i,pt!==null)throw Error(r(261));return St=null,xt=0,vt}function Yc(){for(;pt!==null;)iu(pt)}function Kc(){for(;pt!==null&&!Au();)iu(pt)}function iu(e){var t=lu(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?su(e):pt=t,Sa.current=null}function su(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zc(n,t,zt),n!==null){pt=n;return}}else{if(n=Wc(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,pt=null;return}}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);vt===0&&(vt=5)}function Kn(e,t,n){var i=Qe,h=Gt.transition;try{Gt.transition=null,Qe=1,jc(e,t,n,i)}finally{Gt.transition=h,Qe=i}return null}function jc(e,t,n,i){do yr();while(Mn!==null);if((Xe&6)!==0)throw Error(r(327));n=e.finishedWork;var h=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var S=n.lanes|n.childLanes;if(Ru(e,S),e===St&&(pt=St=null,xt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Vi||(Vi=!0,uu(Zr,function(){return yr(),null})),S=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||S){S=Gt.transition,Gt.transition=null;var U=Qe;Qe=1;var K=Xe;Xe|=4,Sa.current=null,$c(e,n),jl(n,e),gc(Rs),si=!!Ps,Rs=Ps=null,e.current=n,Vc(n),Su(),Xe=K,Qe=U,Gt.transition=S}else e.current=n;if(Vi&&(Vi=!1,Mn=e,Gi=h),S=e.pendingLanes,S===0&&(Rn=null),xu(n.stateNode),Dt(e,dt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)h=t[n],i(h.value,{componentStack:h.stack,digest:h.digest});if($i)throw $i=!1,e=xa,xa=null,e;return(Gi&1)!==0&&e.tag!==0&&yr(),S=e.pendingLanes,(S&1)!==0?e===ka?Qr++:(Qr=0,ka=e):Qr=0,Cn(),null}function yr(){if(Mn!==null){var e=Xa(Gi),t=Gt.transition,n=Qe;try{if(Gt.transition=null,Qe=16>e?16:e,Mn===null)var i=!1;else{if(e=Mn,Mn=null,Gi=0,(Xe&6)!==0)throw Error(r(331));var h=Xe;for(Xe|=4,Re=e.current;Re!==null;){var S=Re,U=S.child;if((Re.flags&16)!==0){var K=S.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var ce=K[Z];for(Re=ce;Re!==null;){var Se=Re;switch(Se.tag){case 0:case 11:case 15:Yr(8,Se,S)}var be=Se.child;if(be!==null)be.return=Se,Re=be;else for(;Re!==null;){Se=Re;var ve=Se.sibling,Pe=Se.return;if(Vl(Se),Se===ce){Re=null;break}if(ve!==null){ve.return=Pe,Re=ve;break}Re=Pe}}}var Me=S.alternate;if(Me!==null){var Fe=Me.child;if(Fe!==null){Me.child=null;do{var ht=Fe.sibling;Fe.sibling=null,Fe=ht}while(Fe!==null)}}Re=S}}if((S.subtreeFlags&2064)!==0&&U!==null)U.return=S,Re=U;else e:for(;Re!==null;){if(S=Re,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Yr(9,S,S.return)}var ae=S.sibling;if(ae!==null){ae.return=S.return,Re=ae;break e}Re=S.return}}var q=e.current;for(Re=q;Re!==null;){U=Re;var oe=U.child;if((U.subtreeFlags&2064)!==0&&oe!==null)oe.return=U,Re=oe;else e:for(U=q;Re!==null;){if(K=Re,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:zi(9,K)}}catch(De){ut(K,K.return,De)}if(K===U){Re=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,Re=Ee;break e}Re=K.return}}if(Xe=h,Cn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qr,e)}catch{}i=!0}return i}finally{Qe=n,Gt.transition=t}}return!1}function au(e,t,n){t=pr(n,t),t=kl(e,t,1),e=wn(e,t,1),t=Rt(),e!==null&&(Sr(e,1,t),Dt(e,t))}function ut(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Rn===null||!Rn.has(i))){e=pr(n,e),e=Cl(t,e,1),t=wn(t,e,1),e=Rt(),t!==null&&(Sr(t,1,e),Dt(t,e));break}}t=t.return}}function Qc(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(xt&n)===n&&(vt===4||vt===3&&(xt&130023424)===xt&&500>dt()-Ea?Yn(e,0):ba|=n),Dt(e,t)}function ou(e,t){t===0&&((e.mode&1)===0?t=1:(t=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var n=Rt();e=dn(e,t),e!==null&&(Sr(e,t,n),Dt(e,n))}function Jc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ou(e,n)}function Zc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,h=e.memoizedState;h!==null&&(n=h.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}i!==null&&i.delete(t),ou(e,n)}var lu;lu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)It=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return It=!1,Uc(e,t,n);It=(e.flags&131072)!==0}else It=!1,it&&(t.flags&1048576)!==0&&Wo(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bi(e,t),e=t.pendingProps;var h=ar(t,kt.current);hr(t,n),h=qs(null,t,i,e,h,n);var S=ea();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(i)?(S=!0,Si(t)):S=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Xs(t),h.updater=Ni,t.stateNode=h,h._reactInternals=t,aa(t,i,e,n),t=ca(null,t,i,!0,S,n)):(t.tag=0,it&&S&&Ns(t),Pt(null,t,h,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,h=i._init,i=h(i._payload),t.type=i,h=t.tag=ed(i),e=Qt(i,e),h){case 0:t=ua(null,t,i,e,n);break e;case 1:t=Dl(null,t,i,e,n);break e;case 11:t=Rl(null,t,i,e,n);break e;case 14:t=Ml(null,t,i,Qt(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Qt(i,h),ua(e,t,i,h,n);case 1:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Qt(i,h),Dl(e,t,i,h,n);case 3:e:{if(Ll(t),e===null)throw Error(r(387));i=t.pendingProps,S=t.memoizedState,h=S.element,Qo(e,t),Ri(t,i,null,n);var U=t.memoizedState;if(i=U.element,S.isDehydrated)if(S={element:i,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){h=pr(Error(r(423)),t),t=Nl(e,t,i,n,h);break e}else if(i!==h){h=pr(Error(r(424)),t),t=Nl(e,t,i,n,h);break e}else for(Ut=En(t.stateNode.containerInfo.firstChild),Bt=t,it=!0,jt=null,n=Ko(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),i===h){t=fn(e,t,n);break e}Pt(e,t,i,n)}t=t.child}return t;case 5:return qo(t),e===null&&Us(t),i=t.type,h=t.pendingProps,S=e!==null?e.memoizedProps:null,U=h.children,Ms(i,h)?U=null:S!==null&&Ms(i,S)&&(t.flags|=32),Ol(e,t),Pt(e,t,U,n),t.child;case 6:return e===null&&Us(t),null;case 13:return _l(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=cr(t,null,i,n):Pt(e,t,i,n),t.child;case 11:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Qt(i,h),Rl(e,t,i,h,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,h=t.pendingProps,S=t.memoizedProps,U=h.value,Je(Ti,i._currentValue),i._currentValue=U,S!==null)if(Kt(S.value,U)){if(S.children===h.children&&!Mt.current){t=fn(e,t,n);break e}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var K=S.dependencies;if(K!==null){U=S.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===i){if(S.tag===1){Z=hn(-1,n&-n),Z.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var Se=ce.pending;Se===null?Z.next=Z:(Z.next=Se.next,Se.next=Z),ce.pending=Z}}S.lanes|=n,Z=S.alternate,Z!==null&&(Z.lanes|=n),Vs(S.return,n,t),K.lanes|=n;break}Z=Z.next}}else if(S.tag===10)U=S.type===t.type?null:S.child;else if(S.tag===18){if(U=S.return,U===null)throw Error(r(341));U.lanes|=n,K=U.alternate,K!==null&&(K.lanes|=n),Vs(U,n,t),U=S.sibling}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===t){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}Pt(e,t,h.children,n),t=t.child}return t;case 9:return h=t.type,i=t.pendingProps.children,hr(t,n),h=$t(h),i=i(h),t.flags|=1,Pt(e,t,i,n),t.child;case 14:return i=t.type,h=Qt(i,t.pendingProps),h=Qt(i.type,h),Ml(e,t,i,h,n);case 15:return Fl(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Qt(i,h),Bi(e,t),t.tag=1,Ft(i)?(e=!0,Si(t)):e=!1,hr(t,n),El(t,i,h),aa(t,i,h,n),ca(null,t,i,!0,e,n);case 19:return Ul(e,t,n);case 22:return Il(e,t,n)}throw Error(r(156,t.tag))};function uu(e,t){return Wa(e,t)}function qc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,i){return new qc(e,t,n,i)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ed(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===fe)return 14}return 2}function On(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ji(e,t,n,i,h,S){var U=2;if(i=e,typeof e=="function")Ma(e)&&(U=1);else if(typeof e=="string")U=5;else e:switch(e){case H:return jn(n.children,h,S,t);case X:U=8,h|=8;break;case $:return e=Xt(12,n,t,h|2),e.elementType=$,e.lanes=S,e;case ue:return e=Xt(13,n,t,h),e.elementType=ue,e.lanes=S,e;case de:return e=Xt(19,n,t,h),e.elementType=de,e.lanes=S,e;case Y:return Qi(n,h,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:U=10;break e;case J:U=9;break e;case he:U=11;break e;case fe:U=14;break e;case re:U=16,i=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=Xt(U,n,t,h),t.elementType=e,t.type=i,t.lanes=S,t}function jn(e,t,n,i){return e=Xt(7,e,i,t),e.lanes=n,e}function Qi(e,t,n,i){return e=Xt(22,e,i,t),e.elementType=Y,e.lanes=n,e.stateNode={isHidden:!1},e}function Fa(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Ia(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function td(e,t,n,i,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=i,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Oa(e,t,n,i,h,S,U,K,Z){return e=new td(e,t,n,K,Z),t===1?(t=1,S===!0&&(t|=8)):t=0,S=Xt(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(S),e}function nd(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function cu(e){if(!e)return kn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var n=e.type;if(Ft(n))return Bo(e,n,t)}return t}function du(e,t,n,i,h,S,U,K,Z){return e=Oa(n,i,!0,e,h,S,U,K,Z),e.context=cu(null),n=e.current,i=Rt(),h=Fn(n),S=hn(i,h),S.callback=t??null,wn(n,S,h),e.current.lanes=h,Sr(e,h,i),Dt(e,i),e}function Ji(e,t,n,i){var h=t.current,S=Rt(),U=Fn(h);return n=cu(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(S,U),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wn(h,t,U),e!==null&&(qt(e,h,U,S),Pi(e,h,U)),U}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Da(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function rd(){return null}var fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}qi.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));Ji(e,t,null,null)},qi.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ji(null,e,null,null)}),t[on]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ja();e={blockedOn:null,target:e,priority:t};for(var n=0;n<An.length&&t!==0&&t<An[n].priority;n++);An.splice(n,0,e),n===0&&Za(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function id(e,t,n,i,h){if(h){if(typeof i=="function"){var S=i;i=function(){var ce=Zi(U);S.call(ce)}}var U=du(t,i,e,0,null,!1,!1,"",pu);return e._reactRootContainer=U,e[on]=U.current,Dr(e.nodeType===8?e.parentNode:e),Xn(),U}for(;h=e.lastChild;)e.removeChild(h);if(typeof i=="function"){var K=i;i=function(){var ce=Zi(Z);K.call(ce)}}var Z=Oa(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=Z,e[on]=Z.current,Dr(e.nodeType===8?e.parentNode:e),Xn(function(){Ji(t,Z,n,i)}),Z}function ts(e,t,n,i,h){var S=n._reactRootContainer;if(S){var U=S;if(typeof h=="function"){var K=h;h=function(){var Z=Zi(U);K.call(Z)}}Ji(t,U,e,h)}else U=id(n,t,e,h,i);return Zi(U)}Ya=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(as(t,n|1),Dt(t,dt()),(Xe&6)===0&&(vr=dt()+500,Cn()))}break;case 13:Xn(function(){var i=dn(e,1);if(i!==null){var h=Rt();qt(i,e,1,h)}}),Da(e,1)}},os=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Rt();qt(t,e,134217728,n)}Da(e,134217728)}},Ka=function(e){if(e.tag===13){var t=Fn(e),n=dn(e,t);if(n!==null){var i=Rt();qt(n,e,t,i)}Da(e,t)}},ja=function(){return Qe},Qa=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}},st=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var h=yi(i);if(!h)throw Error(r(90));j(i),pe(i,h)}}}break;case"textarea":We(e,n);break;case"select":t=n.value,t!=null&&we(e,!!n.multiple,t,!1)}},$e=wa,xe=Xn;var sd={usingClientEntryPoint:!1,Events:[_r,ir,yi,Ie,Le,wa]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||rd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{qr=ns.inject(ad),tn=ns}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sd,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(r(200));return nd(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!Na(e))throw Error(r(299));var n=!1,i="",h=fu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Oa(e,1,!1,null,null,n,!1,i,h),e[on]=t.current,Dr(e.nodeType===8?e.parentNode:e),new La(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Xn(e)},reactDom_production_min.hydrate=function(e,t,n){if(!es(t))throw Error(r(200));return ts(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!Na(e))throw Error(r(405));var i=n!=null&&n.hydratedSources||null,h=!1,S="",U=fu;if(n!=null&&(n.unstable_strictMode===!0&&(h=!0),n.identifierPrefix!==void 0&&(S=n.identifierPrefix),n.onRecoverableError!==void 0&&(U=n.onRecoverableError)),t=du(t,null,e,1,n??null,h,!1,S,U),e[on]=t.current,Dr(e),i)for(e=0;e<i.length;e++)n=i[e],h=n._getVersion,h=h(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,h]:t.mutableSourceEagerHydrationData.push(n,h);return new qi(t)},reactDom_production_min.render=function(e,t,n){if(!es(t))throw Error(r(200));return ts(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!es(e))throw Error(r(40));return e._reactRootContainer?(Xn(function(){ts(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=wa,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!es(n))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ts(e,t,n,!1,i)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(d){console.error(d)}}return b(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var b=requireReactDom();return client.createRoot=b.createRoot,client.hydrateRoot=b.hydrateRoot,client}var clientExports=requireClient();function commonjsRequire(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function b(a,f,m){for(var p=0,P=f.length,B;p<P;p++)(B||!(p in f))&&(B||(B=Array.prototype.slice.call(f,0,p)),B[p]=f[p]);return a.concat(B||Array.prototype.slice.call(f))}var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function c(a){var f=a.match(o);return f?f.map(Number):[]}function A(a){var f=[],m=String(a).trim();return m[0]!=="M"&&m[0]!=="m"||m.replace(r,function(p,P,B){var L=c(B),C=P.toLowerCase(),I=P;if(C==="m"&&L.length>2&&(f.push(b([I],L.splice(0,2))),C="l",I=I==="m"?"l":"L"),L.length<d[C])return"";for(f.push(b([I],L.splice(0,d[C])));L.length>=d[C]&&L.length&&d[C];)f.push(b([I],L.splice(0,d[C])));return""}),f}function E(a,f){var m=a.x*Math.cos(f)-a.y*Math.sin(f),p=a.y*Math.cos(f)+a.x*Math.sin(f);a.x=m,a.y=p}function R(a,f,m){a.x+=f,a.y+=m}function O(a,f){a.x*=f,a.y*=f}var u=(function(){function a(f){var m;this.commands=[],f&&f instanceof a?(m=this.commands).push.apply(m,f.commands):f&&(this.commands=A(f))}return a.prototype.addPath=function(f){var m;f&&f instanceof a&&(m=this.commands).push.apply(m,f.commands)},a.prototype.moveTo=function(f,m){this.commands.push(["M",f,m])},a.prototype.lineTo=function(f,m){this.commands.push(["L",f,m])},a.prototype.arc=function(f,m,p,P,B,L){this.commands.push(["AC",f,m,p,P,B,!!L])},a.prototype.arcTo=function(f,m,p,P,B){this.commands.push(["AT",f,m,p,P,B])},a.prototype.ellipse=function(f,m,p,P,B,L,C,I){this.commands.push(["E",f,m,p,P,B,L,C,!!I])},a.prototype.closePath=function(){this.commands.push(["Z"])},a.prototype.bezierCurveTo=function(f,m,p,P,B,L){this.commands.push(["C",f,m,p,P,B,L])},a.prototype.quadraticCurveTo=function(f,m,p,P){this.commands.push(["Q",f,m,p,P])},a.prototype.rect=function(f,m,p,P){this.commands.push(["R",f,m,p,P])},a.prototype.roundRect=function(f,m,p,P,B){typeof B>"u"?this.commands.push(["RR",f,m,p,P,0]):this.commands.push(["RR",f,m,p,P,B])},a})();function s(a,f){var m=0,p=0,P,B,L,C,I,H,X,$,Q,J,he,ue,de,fe,re,Y,M,x,k,T,_,W=null,V=null,z=null,y=null,w=null,F=null;a.beginPath();for(var N=0;N<f.length;++N){x=f[N][0],x!=="S"&&x!=="s"&&x!=="C"&&x!=="c"&&(W=null,V=null),x!=="T"&&x!=="t"&&x!=="Q"&&x!=="q"&&(z=null,y=null);var D=void 0;switch(x){case"m":case"M":D=f[N],x==="m"?(m+=D[1],p+=D[2]):(m=D[1],p=D[2]),(x==="M"||!w)&&(w={x:m,y:p}),a.moveTo(m,p);break;case"l":D=f[N],m+=D[1],p+=D[2],a.lineTo(m,p);break;case"L":D=f[N],m=D[1],p=D[2],a.lineTo(m,p);break;case"H":D=f[N],m=D[1],a.lineTo(m,p);break;case"h":D=f[N],m+=D[1],a.lineTo(m,p);break;case"V":D=f[N],p=D[1],a.lineTo(m,p);break;case"v":D=f[N],p+=D[1],a.lineTo(m,p);break;case"a":case"A":if(D=f[N],F===null)throw new Error("This should never happen");x==="a"?(m+=D[6],p+=D[7]):(m=D[6],p=D[7]),fe=D[1],re=D[2],X=D[3]*Math.PI/180,L=!!D[4],C=!!D[5],I={x:m,y:p},H={x:(F.x-I.x)/2,y:(F.y-I.y)/2},E(H,-X),$=H.x*H.x/(fe*fe)+H.y*H.y/(re*re),$>1&&($=Math.sqrt($),fe*=$,re*=$),k={x:fe*H.y/re,y:-(re*H.x)/fe},Q=fe*fe*re*re,J=fe*fe*H.y*H.y+re*re*H.x*H.x,C!==L?O(k,Math.sqrt((Q-J)/J)||0):O(k,-Math.sqrt((Q-J)/J)||0),B=Math.atan2((H.y-k.y)/re,(H.x-k.x)/fe),P=Math.atan2(-(H.y+k.y)/re,-(H.x+k.x)/fe),E(k,X),R(k,(I.x+F.x)/2,(I.y+F.y)/2),a.save(),a.translate(k.x,k.y),a.rotate(X),a.scale(fe,re),a.arc(0,0,1,B,P,!C),a.restore();break;case"C":D=f[N],W=D[3],V=D[4],m=D[5],p=D[6],a.bezierCurveTo(D[1],D[2],W,V,m,p);break;case"c":D=f[N],a.bezierCurveTo(D[1]+m,D[2]+p,D[3]+m,D[4]+p,D[5]+m,D[6]+p),W=D[3]+m,V=D[4]+p,m+=D[5],p+=D[6];break;case"S":D=f[N],(W===null||V===null)&&(W=m,V=p),a.bezierCurveTo(2*m-W,2*p-V,D[1],D[2],D[3],D[4]),W=D[1],V=D[2],m=D[3],p=D[4];break;case"s":D=f[N],(W===null||V===null)&&(W=m,V=p),a.bezierCurveTo(2*m-W,2*p-V,D[1]+m,D[2]+p,D[3]+m,D[4]+p),W=D[1]+m,V=D[2]+p,m+=D[3],p+=D[4];break;case"Q":D=f[N],z=D[1],y=D[2],m=D[3],p=D[4],a.quadraticCurveTo(z,y,m,p);break;case"q":D=f[N],z=D[1]+m,y=D[2]+p,m+=D[3],p+=D[4],a.quadraticCurveTo(z,y,m,p);break;case"T":D=f[N],(z===null||y===null)&&(z=m,y=p),z=2*m-z,y=2*p-y,m=D[1],p=D[2],a.quadraticCurveTo(z,y,m,p);break;case"t":D=f[N],(z===null||y===null)&&(z=m,y=p),z=2*m-z,y=2*p-y,m+=D[1],p+=D[2],a.quadraticCurveTo(z,y,m,p);break;case"z":case"Z":w&&(m=w.x,p=w.y),w=null,a.closePath();break;case"AC":D=f[N],m=D[1],p=D[2],de=D[3],B=D[4],P=D[5],T=D[6],a.arc(m,p,de,B,P,T);break;case"AT":D=f[N],he=D[1],ue=D[2],m=D[3],p=D[4],de=D[5],a.arcTo(he,ue,m,p,de);break;case"E":D=f[N],m=D[1],p=D[2],fe=D[3],re=D[4],X=D[5],B=D[6],P=D[7],T=D[8],a.save(),a.translate(m,p),a.rotate(X),a.scale(fe,re),a.arc(0,0,1,B,P,T),a.restore();break;case"R":D=f[N],m=D[1],p=D[2],Y=D[3],M=D[4],w={x:m,y:p},a.rect(m,p,Y,M);break;case"RR":D=f[N],m=D[1],p=D[2],Y=D[3],M=D[4],_=D[5],w={x:m,y:p},a.roundRect(m,p,Y,M,_);break}F?(F.x=m,F.y=p):F={x:m,y:p}}}function l(a){if(!(!a||!a.CanvasRenderingContext2D||a.Path2D)){var f=a.CanvasRenderingContext2D,m=f.prototype.fill,p=f.prototype.stroke,P=f.prototype.isPointInPath;f.prototype.fill=function(){for(var L=[],C=0;C<arguments.length;C++)L[C]=arguments[C];if(L[0]instanceof u){var I=L[0],H=L[1]||"nonzero";s(this,I.commands),m.apply(this,[H])}else{var H=L[0]||"nonzero";return m.apply(this,[H])}},f.prototype.stroke=function(L){L&&s(this,L.commands),p.apply(this)},f.prototype.isPointInPath=function(){for(var L=[],C=0;C<arguments.length;C++)L[C]=arguments[C];if(L[0]instanceof u){var I=L[0],H=L[1],X=L[2],$=L[3]||"nonzero";return s(this,I.commands),P.apply(this,[H,X,$])}else return P.apply(this,L)},a.Path2D=u}}function g(a,f,m,p,P){var B=this;if(P===void 0&&(P=0),typeof P=="number"&&(P=[P]),Array.isArray(P)){if(P.length===0||P.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(P.length," radii provided. Between one and four radii are necessary."));P.forEach(function($){if($<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(B.constructor.name,"': Radius value ").concat($," is negative."))})}else return;if(P.length===1&&P[0]===0)return this.rect(a,f,m,p);var L=Math.min(m,p)/2,C,I,H,X=C=I=H=Math.min(L,P[0]);P.length===2&&(C=H=Math.min(L,P[1])),P.length===3&&(C=H=Math.min(L,P[1]),I=Math.min(L,P[2])),P.length===4&&(C=Math.min(L,P[1]),I=Math.min(L,P[2]),H=Math.min(L,P[3])),this.moveTo(a,f+p-H),this.arcTo(a,f,a+X,f,X),this.arcTo(a+m,f,a+m,f+C,C),this.arcTo(a+m,f+p,a+m-I,f+p,I),this.arcTo(a,f+p,a,f+p-H,H),this.moveTo(a,f)}function v(a){if(!(!a||!a.CanvasRenderingContext2D)){var f=a.CanvasRenderingContext2D,m=a.Path2D;f&&!f.prototype.roundRect&&(f.prototype.roundRect=g),m&&!m.prototype.roundRect&&(m.prototype.roundRect=g)}}return l(window),v(window),path2dPolyfill_esm}var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(d,r){module.exports=d.pdfjsLib=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.VerbosityLevel=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.RenderingIntentFlag=d.PromiseCapability=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.PageActionEventType=d.OPS=d.MissingPDFException=d.MAX_IMAGE_SIZE_TO_CACHE=d.LINE_FACTOR=d.LINE_DESCENT_FACTOR=d.InvalidPDFException=d.ImageKind=d.IDENTITY_MATRIX=d.FormatError=d.FeatureTest=d.FONT_IDENTITY_MATRIX=d.DocumentActionEventType=d.CMapCompressionType=d.BaseException=d.BASELINE_FACTOR=d.AnnotationType=d.AnnotationReplyType=d.AnnotationPrefix=d.AnnotationMode=d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationEditorType=d.AnnotationEditorPrefix=d.AnnotationEditorParamsType=d.AnnotationBorderStyleType=d.AnnotationActionEventType=d.AbortException=void 0,d.assert=k,d.bytesToString=j,d.createValidAbsoluteUrl=_,d.getModificationDate=Lt,d.getUuid=Qn,d.getVerbosityLevel=re,d.info=Y,d.isArrayBuffer=nt,d.isArrayEqual=ct,d.isNodeJS=void 0,d.normalizeUnicode=Ln,d.objectFromMap=le,d.objectSize=se,d.setVerbosityLevel=fe,d.shadow=W,d.string32=Ae,d.stringToBytes=te,d.stringToPDFString=Ue,d.stringToUTF8String=We,d.unreachable=x,d.utf8StringToString=Ye,d.warn=M,r(2),r(84),r(86),r(87),r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");d.isNodeJS=o;const c=[1,0,0,1,0,0];d.IDENTITY_MATRIX=c;const A=[.001,0,0,.001,0,0];d.FONT_IDENTITY_MATRIX=A;const E=1e7;d.MAX_IMAGE_SIZE_TO_CACHE=E;const R=1.35;d.LINE_FACTOR=R;const O=.35;d.LINE_DESCENT_FACTOR=O;const u=O/R;d.BASELINE_FACTOR=u;const s={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};d.RenderingIntentFlag=s;const l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};d.AnnotationMode=l;const g="pdfjs_internal_editor_";d.AnnotationEditorPrefix=g;const v={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};d.AnnotationEditorType=v;const a={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};d.AnnotationEditorParamsType=a;const f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};d.PermissionFlag=f;const m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.TextRenderingMode=m;const p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.ImageKind=p;const P={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.AnnotationType=P;const B={GROUP:"Group",REPLY:"R"};d.AnnotationReplyType=B;const L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationFlag=L;const C={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFieldFlag=C;const I={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationBorderStyleType=I;const H={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};d.AnnotationActionEventType=H;const X={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};d.DocumentActionEventType=X;const $={O:"PageOpen",C:"PageClose"};d.PageActionEventType=$;const Q={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=Q;const J={NONE:0,BINARY:1};d.CMapCompressionType=J;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.OPS=he;const ue={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.PasswordResponses=ue;let de=Q.WARNINGS;function fe(ye){Number.isInteger(ye)&&(de=ye)}function re(){return de}function Y(ye){de>=Q.INFOS&&console.log(`Info: ${ye}`)}function M(ye){de>=Q.WARNINGS&&console.log(`Warning: ${ye}`)}function x(ye){throw new Error(ye)}function k(ye,ie){ye||x(ie)}function T(ye){switch(ye?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(ye){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ye)return null;try{if(ee&&typeof ye=="string"&&(ee.addDefaultProtocol&&ye.startsWith("www.")&&ye.match(/\./g)?.length>=2&&(ye=`http://${ye}`),ee.tryConvertEncoding))try{ye=We(ye)}catch{}const Te=ie?new URL(ye,ie):new URL(ye);if(T(Te))return Te}catch{}return null}function W(ye,ie,ee){let Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(ye,ie,{value:ee,enumerable:!Te,configurable:!0,writable:!1}),ee}const V=(function(){function ie(ee,Te){this.constructor===ie&&x("Cannot initialize BaseException."),this.message=ee,this.name=Te}return ie.prototype=new Error,ie.constructor=ie,ie})();d.BaseException=V;class z extends V{constructor(ie,ee){super(ie,"PasswordException"),this.code=ee}}d.PasswordException=z;class y extends V{constructor(ie,ee){super(ie,"UnknownErrorException"),this.details=ee}}d.UnknownErrorException=y;class w extends V{constructor(ie){super(ie,"InvalidPDFException")}}d.InvalidPDFException=w;class F extends V{constructor(ie){super(ie,"MissingPDFException")}}d.MissingPDFException=F;class N extends V{constructor(ie,ee){super(ie,"UnexpectedResponseException"),this.status=ee}}d.UnexpectedResponseException=N;class D extends V{constructor(ie){super(ie,"FormatError")}}d.FormatError=D;class G extends V{constructor(ie){super(ie,"AbortException")}}d.AbortException=G;function j(ye){(typeof ye!="object"||ye?.length===void 0)&&x("Invalid argument for bytesToString");const ie=ye.length,ee=8192;if(ie<ee)return String.fromCharCode.apply(null,ye);const Te=[];for(let Ge=0;Ge<ie;Ge+=ee){const st=Math.min(Ge+ee,ie),ne=ye.subarray(Ge,st);Te.push(String.fromCharCode.apply(null,ne))}return Te.join("")}function te(ye){typeof ye!="string"&&x("Invalid argument for stringToBytes");const ie=ye.length,ee=new Uint8Array(ie);for(let Te=0;Te<ie;++Te)ee[Te]=ye.charCodeAt(Te)&255;return ee}function Ae(ye){return String.fromCharCode(ye>>24&255,ye>>16&255,ye>>8&255,ye&255)}function se(ye){return Object.keys(ye).length}function le(ye){const ie=Object.create(null);for(const[ee,Te]of ye)ie[ee]=Te;return ie}function pe(){const ye=new Uint8Array(4);return ye[0]=1,new Uint32Array(ye.buffer,0,1)[0]===1}function ge(){try{return new Function(""),!0}catch{return!1}}class me{static get isLittleEndian(){return W(this,"isLittleEndian",pe())}static get isEvalSupported(){return W(this,"isEvalSupported",ge())}static get isOffscreenCanvasSupported(){return W(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?W(this,"platform",{isWin:!1,isMac:!1}):W(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return W(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}d.FeatureTest=me;const ke=[...Array(256).keys()].map(ye=>ye.toString(16).padStart(2,"0"));class we{static makeHexColor(ie,ee,Te){return`#${ke[ie]}${ke[ee]}${ke[Te]}`}static scaleMinMax(ie,ee){let Te;ie[0]?(ie[0]<0&&(Te=ee[0],ee[0]=ee[1],ee[1]=Te),ee[0]*=ie[0],ee[1]*=ie[0],ie[3]<0&&(Te=ee[2],ee[2]=ee[3],ee[3]=Te),ee[2]*=ie[3],ee[3]*=ie[3]):(Te=ee[0],ee[0]=ee[2],ee[2]=Te,Te=ee[1],ee[1]=ee[3],ee[3]=Te,ie[1]<0&&(Te=ee[2],ee[2]=ee[3],ee[3]=Te),ee[2]*=ie[1],ee[3]*=ie[1],ie[2]<0&&(Te=ee[0],ee[0]=ee[1],ee[1]=Te),ee[0]*=ie[2],ee[1]*=ie[2]),ee[0]+=ie[4],ee[1]+=ie[4],ee[2]+=ie[5],ee[3]+=ie[5]}static transform(ie,ee){return[ie[0]*ee[0]+ie[2]*ee[1],ie[1]*ee[0]+ie[3]*ee[1],ie[0]*ee[2]+ie[2]*ee[3],ie[1]*ee[2]+ie[3]*ee[3],ie[0]*ee[4]+ie[2]*ee[5]+ie[4],ie[1]*ee[4]+ie[3]*ee[5]+ie[5]]}static applyTransform(ie,ee){const Te=ie[0]*ee[0]+ie[1]*ee[2]+ee[4],Ge=ie[0]*ee[1]+ie[1]*ee[3]+ee[5];return[Te,Ge]}static applyInverseTransform(ie,ee){const Te=ee[0]*ee[3]-ee[1]*ee[2],Ge=(ie[0]*ee[3]-ie[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/Te,st=(-ie[0]*ee[1]+ie[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/Te;return[Ge,st]}static getAxialAlignedBoundingBox(ie,ee){const Te=this.applyTransform(ie,ee),Ge=this.applyTransform(ie.slice(2,4),ee),st=this.applyTransform([ie[0],ie[3]],ee),ne=this.applyTransform([ie[2],ie[1]],ee);return[Math.min(Te[0],Ge[0],st[0],ne[0]),Math.min(Te[1],Ge[1],st[1],ne[1]),Math.max(Te[0],Ge[0],st[0],ne[0]),Math.max(Te[1],Ge[1],st[1],ne[1])]}static inverseTransform(ie){const ee=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/ee,-ie[1]/ee,-ie[2]/ee,ie[0]/ee,(ie[2]*ie[5]-ie[4]*ie[3])/ee,(ie[4]*ie[1]-ie[5]*ie[0])/ee]}static singularValueDecompose2dScale(ie){const ee=[ie[0],ie[2],ie[1],ie[3]],Te=ie[0]*ee[0]+ie[1]*ee[2],Ge=ie[0]*ee[1]+ie[1]*ee[3],st=ie[2]*ee[0]+ie[3]*ee[2],ne=ie[2]*ee[1]+ie[3]*ee[3],Ce=(Te+ne)/2,Ne=Math.sqrt((Te+ne)**2-4*(Te*ne-st*Ge))/2,Ie=Ce+Ne||1,Le=Ce-Ne||1;return[Math.sqrt(Ie),Math.sqrt(Le)]}static normalizeRect(ie){const ee=ie.slice(0);return ie[0]>ie[2]&&(ee[0]=ie[2],ee[2]=ie[0]),ie[1]>ie[3]&&(ee[1]=ie[3],ee[3]=ie[1]),ee}static intersect(ie,ee){const Te=Math.max(Math.min(ie[0],ie[2]),Math.min(ee[0],ee[2])),Ge=Math.min(Math.max(ie[0],ie[2]),Math.max(ee[0],ee[2]));if(Te>Ge)return null;const st=Math.max(Math.min(ie[1],ie[3]),Math.min(ee[1],ee[3])),ne=Math.min(Math.max(ie[1],ie[3]),Math.max(ee[1],ee[3]));return st>ne?null:[Te,st,Ge,ne]}static bezierBoundingBox(ie,ee,Te,Ge,st,ne,Ce,Ne){const Ie=[],Le=[[],[]];let $e,xe,Ke,He,Ve,rt,gt,lt;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(xe=6*ie-12*Te+6*st,$e=-3*ie+9*Te-9*st+3*Ce,Ke=3*Te-3*ie):(xe=6*ee-12*Ge+6*ne,$e=-3*ee+9*Ge-9*ne+3*Ne,Ke=3*Ge-3*ee),Math.abs($e)<1e-12){if(Math.abs(xe)<1e-12)continue;He=-Ke/xe,0<He&&He<1&&Ie.push(He);continue}gt=xe*xe-4*Ke*$e,lt=Math.sqrt(gt),!(gt<0)&&(Ve=(-xe+lt)/(2*$e),0<Ve&&Ve<1&&Ie.push(Ve),rt=(-xe-lt)/(2*$e),0<rt&&rt<1&&Ie.push(rt))}let Nt=Ie.length,yt;const en=Nt;for(;Nt--;)He=Ie[Nt],yt=1-He,Le[0][Nt]=yt*yt*yt*ie+3*yt*yt*He*Te+3*yt*He*He*st+He*He*He*Ce,Le[1][Nt]=yt*yt*yt*ee+3*yt*yt*He*Ge+3*yt*He*He*ne+He*He*He*Ne;return Le[0][en]=ie,Le[1][en]=ee,Le[0][en+1]=Ce,Le[1][en+1]=Ne,Le[0].length=Le[1].length=en+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}d.Util=we;const Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(ye){if(ye[0]>=""){let ee;if(ye[0]===""&&ye[1]===""?ee="utf-16be":ye[0]===""&&ye[1]===""?ee="utf-16le":ye[0]===""&&ye[1]===""&&ye[2]===""&&(ee="utf-8"),ee)try{const Te=new TextDecoder(ee,{fatal:!0}),Ge=te(ye);return Te.decode(Ge)}catch(Te){M(`stringToPDFString: "${Te}".`)}}const ie=[];for(let ee=0,Te=ye.length;ee<Te;ee++){const Ge=Oe[ye.charCodeAt(ee)];ie.push(Ge?String.fromCharCode(Ge):ye.charAt(ee))}return ie.join("")}function We(ye){return decodeURIComponent(escape(ye))}function Ye(ye){return unescape(encodeURIComponent(ye))}function nt(ye){return typeof ye=="object"&&ye?.byteLength!==void 0}function ct(ye,ie){if(ye.length!==ie.length)return!1;for(let ee=0,Te=ye.length;ee<Te;ee++)if(ye[ee]!==ie[ee])return!1;return!0}function Lt(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[ye.getUTCFullYear().toString(),(ye.getUTCMonth()+1).toString().padStart(2,"0"),ye.getUTCDate().toString().padStart(2,"0"),ye.getUTCHours().toString().padStart(2,"0"),ye.getUTCMinutes().toString().padStart(2,"0"),ye.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ze{#e=!1;constructor(){this.promise=new Promise((ie,ee)=>{this.resolve=Te=>{this.#e=!0,ie(Te)},this.reject=Te=>{this.#e=!0,ee(Te)}})}get settled(){return this.#e}}d.PromiseCapability=Ze;let ft=null,qe=null;function Ln(ye){return ft||(ft=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qe=new Map([["","t"]])),ye.replaceAll(ft,(ie,ee,Te)=>ee?ee.normalize("NFKC"):qe.get(Te))}function Qn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ye=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ye);else for(let ie=0;ie<32;ie++)ye[ie]=Math.floor(Math.random()*255);return j(ye)}const gn="pdfjs_internal_id_";d.AnnotationPrefix=gn}),((b,d,r)=>{var o=r(3),c=r(4),A=r(69),E=r(70),R="WebAssembly",O=c[R],u=Error("e",{cause:7}).cause!==7,s=function(g,v){var a={};a[g]=E(g,v,u),o({global:!0,constructor:!0,arity:1,forced:u},a)},l=function(g,v){if(O&&O[g]){var a={};a[g]=E(R+"."+g,v,u),o({target:R,stat:!0,constructor:!0,arity:1,forced:u},a)}};s("Error",function(g){return function(a){return A(g,this,arguments)}}),s("EvalError",function(g){return function(a){return A(g,this,arguments)}}),s("RangeError",function(g){return function(a){return A(g,this,arguments)}}),s("ReferenceError",function(g){return function(a){return A(g,this,arguments)}}),s("SyntaxError",function(g){return function(a){return A(g,this,arguments)}}),s("TypeError",function(g){return function(a){return A(g,this,arguments)}}),s("URIError",function(g){return function(a){return A(g,this,arguments)}}),l("CompileError",function(g){return function(a){return A(g,this,arguments)}}),l("LinkError",function(g){return function(a){return A(g,this,arguments)}}),l("RuntimeError",function(g){return function(a){return A(g,this,arguments)}})}),((b,d,r)=>{var o=r(4),c=r(5).f,A=r(44),E=r(48),R=r(38),O=r(56),u=r(68);b.exports=function(s,l){var g=s.target,v=s.global,a=s.stat,f,m,p,P,B,L;if(v?m=o:a?m=o[g]||R(g,{}):m=(o[g]||{}).prototype,m)for(p in l){if(B=l[p],s.dontCallGetSet?(L=c(m,p),P=L&&L.value):P=m[p],f=u(v?p:g+(a?".":"#")+p,s.forced),!f&&P!==void 0){if(typeof B==typeof P)continue;O(B,P)}(s.sham||P&&P.sham)&&A(B,"sham",!0),E(m,p,B,s)}}}),(function(b){var d=function(r){return r&&r.Math===Math&&r};b.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||this||Function("return this")()}),((b,d,r)=>{var o=r(6),c=r(8),A=r(10),E=r(11),R=r(12),O=r(18),u=r(39),s=r(42),l=Object.getOwnPropertyDescriptor;d.f=o?l:function(v,a){if(v=R(v),a=O(a),s)try{return l(v,a)}catch{}if(u(v,a))return E(!c(A.f,v,a),v[a])}}),((b,d,r)=>{var o=r(7);b.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),(b=>{b.exports=function(d){try{return!!d()}catch{return!0}}}),((b,d,r)=>{var o=r(9),c=Function.prototype.call;b.exports=o?c.bind(c):function(){return c.apply(c,arguments)}}),((b,d,r)=>{var o=r(7);b.exports=!o(function(){var c=(function(){}).bind();return typeof c!="function"||c.hasOwnProperty("prototype")})}),((b,d)=>{var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!r.call({1:2},1);d.f=c?function(E){var R=o(this,E);return!!R&&R.enumerable}:r}),(b=>{b.exports=function(d,r){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:r}}}),((b,d,r)=>{var o=r(13),c=r(16);b.exports=function(A){return o(c(A))}}),((b,d,r)=>{var o=r(14),c=r(7),A=r(15),E=Object,R=o("".split);b.exports=c(function(){return!E("z").propertyIsEnumerable(0)})?function(O){return A(O)==="String"?R(O,""):E(O)}:E}),((b,d,r)=>{var o=r(9),c=Function.prototype,A=c.call,E=o&&c.bind.bind(A,A);b.exports=o?E:function(R){return function(){return A.apply(R,arguments)}}}),((b,d,r)=>{var o=r(14),c=o({}.toString),A=o("".slice);b.exports=function(E){return A(c(E),8,-1)}}),((b,d,r)=>{var o=r(17),c=TypeError;b.exports=function(A){if(o(A))throw c("Can't call method on "+A);return A}}),(b=>{b.exports=function(d){return d==null}}),((b,d,r)=>{var o=r(19),c=r(23);b.exports=function(A){var E=o(A,"string");return c(E)?E:E+""}}),((b,d,r)=>{var o=r(8),c=r(20),A=r(23),E=r(30),R=r(33),O=r(34),u=TypeError,s=O("toPrimitive");b.exports=function(l,g){if(!c(l)||A(l))return l;var v=E(l,s),a;if(v){if(g===void 0&&(g="default"),a=o(v,l,g),!c(a)||A(a))return a;throw u("Can't convert object to primitive value")}return g===void 0&&(g="number"),R(l,g)}}),((b,d,r)=>{var o=r(21),c=r(22),A=c.all;b.exports=c.IS_HTMLDDA?function(E){return typeof E=="object"?E!==null:o(E)||E===A}:function(E){return typeof E=="object"?E!==null:o(E)}}),((b,d,r)=>{var o=r(22),c=o.all;b.exports=o.IS_HTMLDDA?function(A){return typeof A=="function"||A===c}:function(A){return typeof A=="function"}}),(b=>{var d=typeof document=="object"&&document.all,r=typeof d>"u"&&d!==void 0;b.exports={all:d,IS_HTMLDDA:r}}),((b,d,r)=>{var o=r(24),c=r(21),A=r(25),E=r(26),R=Object;b.exports=E?function(O){return typeof O=="symbol"}:function(O){var u=o("Symbol");return c(u)&&A(u.prototype,R(O))}}),((b,d,r)=>{var o=r(4),c=r(21),A=function(E){return c(E)?E:void 0};b.exports=function(E,R){return arguments.length<2?A(o[E]):o[E]&&o[E][R]}}),((b,d,r)=>{var o=r(14);b.exports=o({}.isPrototypeOf)}),((b,d,r)=>{var o=r(27);b.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),((b,d,r)=>{var o=r(28),c=r(7),A=r(4),E=A.String;b.exports=!!Object.getOwnPropertySymbols&&!c(function(){var R=Symbol("symbol detection");return!E(R)||!(Object(R)instanceof Symbol)||!Symbol.sham&&o&&o<41})}),((b,d,r)=>{var o=r(4),c=r(29),A=o.process,E=o.Deno,R=A&&A.versions||E&&E.version,O=R&&R.v8,u,s;O&&(u=O.split("."),s=u[0]>0&&u[0]<4?1:+(u[0]+u[1])),!s&&c&&(u=c.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=c.match(/Chrome\/(\d+)/),u&&(s=+u[1]))),b.exports=s}),(b=>{b.exports=typeof navigator<"u"&&String(navigator.userAgent)||""}),((b,d,r)=>{var o=r(31),c=r(17);b.exports=function(A,E){var R=A[E];return c(R)?void 0:o(R)}}),((b,d,r)=>{var o=r(21),c=r(32),A=TypeError;b.exports=function(E){if(o(E))return E;throw A(c(E)+" is not a function")}}),(b=>{var d=String;b.exports=function(r){try{return d(r)}catch{return"Object"}}}),((b,d,r)=>{var o=r(8),c=r(21),A=r(20),E=TypeError;b.exports=function(R,O){var u,s;if(O==="string"&&c(u=R.toString)&&!A(s=o(u,R))||c(u=R.valueOf)&&!A(s=o(u,R))||O!=="string"&&c(u=R.toString)&&!A(s=o(u,R)))return s;throw E("Can't convert object to primitive value")}}),((b,d,r)=>{var o=r(4),c=r(35),A=r(39),E=r(41),R=r(27),O=r(26),u=o.Symbol,s=c("wks"),l=O?u.for||u:u&&u.withoutSetter||E;b.exports=function(g){return A(s,g)||(s[g]=R&&A(u,g)?u[g]:l("Symbol."+g)),s[g]}}),((b,d,r)=>{var o=r(36),c=r(37);(b.exports=function(A,E){return c[A]||(c[A]=E!==void 0?E:{})})("versions",[]).push({version:"3.32.2",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})}),(b=>{b.exports=!1}),((b,d,r)=>{var o=r(4),c=r(38),A="__core-js_shared__",E=o[A]||c(A,{});b.exports=E}),((b,d,r)=>{var o=r(4),c=Object.defineProperty;b.exports=function(A,E){try{c(o,A,{value:E,configurable:!0,writable:!0})}catch{o[A]=E}return E}}),((b,d,r)=>{var o=r(14),c=r(40),A=o({}.hasOwnProperty);b.exports=Object.hasOwn||function(R,O){return A(c(R),O)}}),((b,d,r)=>{var o=r(16),c=Object;b.exports=function(A){return c(o(A))}}),((b,d,r)=>{var o=r(14),c=0,A=Math.random(),E=o(1 .toString);b.exports=function(R){return"Symbol("+(R===void 0?"":R)+")_"+E(++c+A,36)}}),((b,d,r)=>{var o=r(6),c=r(7),A=r(43);b.exports=!o&&!c(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),((b,d,r)=>{var o=r(4),c=r(20),A=o.document,E=c(A)&&c(A.createElement);b.exports=function(R){return E?A.createElement(R):{}}}),((b,d,r)=>{var o=r(6),c=r(45),A=r(11);b.exports=o?function(E,R,O){return c.f(E,R,A(1,O))}:function(E,R,O){return E[R]=O,E}}),((b,d,r)=>{var o=r(6),c=r(42),A=r(46),E=r(47),R=r(18),O=TypeError,u=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",g="configurable",v="writable";d.f=o?A?function(f,m,p){if(E(f),m=R(m),E(p),typeof f=="function"&&m==="prototype"&&"value"in p&&v in p&&!p[v]){var P=s(f,m);P&&P[v]&&(f[m]=p.value,p={configurable:g in p?p[g]:P[g],enumerable:l in p?p[l]:P[l],writable:!1})}return u(f,m,p)}:u:function(f,m,p){if(E(f),m=R(m),E(p),c)try{return u(f,m,p)}catch{}if("get"in p||"set"in p)throw O("Accessors not supported");return"value"in p&&(f[m]=p.value),f}}),((b,d,r)=>{var o=r(6),c=r(7);b.exports=o&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),((b,d,r)=>{var o=r(20),c=String,A=TypeError;b.exports=function(E){if(o(E))return E;throw A(c(E)+" is not an object")}}),((b,d,r)=>{var o=r(21),c=r(45),A=r(49),E=r(38);b.exports=function(R,O,u,s){s||(s={});var l=s.enumerable,g=s.name!==void 0?s.name:O;if(o(u)&&A(u,g,s),s.global)l?R[O]=u:E(O,u);else{try{s.unsafe?R[O]&&(l=!0):delete R[O]}catch{}l?R[O]=u:c.f(R,O,{value:u,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return R}}),((b,d,r)=>{var o=r(14),c=r(7),A=r(21),E=r(39),R=r(6),O=r(50).CONFIGURABLE,u=r(51),s=r(52),l=s.enforce,g=s.get,v=String,a=Object.defineProperty,f=o("".slice),m=o("".replace),p=o([].join),P=R&&!c(function(){return a(function(){},"length",{value:8}).length!==8}),B=String(String).split("String"),L=b.exports=function(C,I,H){f(v(I),0,7)==="Symbol("&&(I="["+m(v(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),H&&H.getter&&(I="get "+I),H&&H.setter&&(I="set "+I),(!E(C,"name")||O&&C.name!==I)&&(R?a(C,"name",{value:I,configurable:!0}):C.name=I),P&&H&&E(H,"arity")&&C.length!==H.arity&&a(C,"length",{value:H.arity});try{H&&E(H,"constructor")&&H.constructor?R&&a(C,"prototype",{writable:!1}):C.prototype&&(C.prototype=void 0)}catch{}var X=l(C);return E(X,"source")||(X.source=p(B,typeof I=="string"?I:"")),C};Function.prototype.toString=L(function(){return A(this)&&g(this).source||u(this)},"toString")}),((b,d,r)=>{var o=r(6),c=r(39),A=Function.prototype,E=o&&Object.getOwnPropertyDescriptor,R=c(A,"name"),O=R&&(function(){}).name==="something",u=R&&(!o||o&&E(A,"name").configurable);b.exports={EXISTS:R,PROPER:O,CONFIGURABLE:u}}),((b,d,r)=>{var o=r(14),c=r(21),A=r(37),E=o(Function.toString);c(A.inspectSource)||(A.inspectSource=function(R){return E(R)}),b.exports=A.inspectSource}),((b,d,r)=>{var o=r(53),c=r(4),A=r(20),E=r(44),R=r(39),O=r(37),u=r(54),s=r(55),l="Object already initialized",g=c.TypeError,v=c.WeakMap,a,f,m,p=function(C){return m(C)?f(C):a(C,{})},P=function(C){return function(I){var H;if(!A(I)||(H=f(I)).type!==C)throw g("Incompatible receiver, "+C+" required");return H}};if(o||O.state){var B=O.state||(O.state=new v);B.get=B.get,B.has=B.has,B.set=B.set,a=function(C,I){if(B.has(C))throw g(l);return I.facade=C,B.set(C,I),I},f=function(C){return B.get(C)||{}},m=function(C){return B.has(C)}}else{var L=u("state");s[L]=!0,a=function(C,I){if(R(C,L))throw g(l);return I.facade=C,E(C,L,I),I},f=function(C){return R(C,L)?C[L]:{}},m=function(C){return R(C,L)}}b.exports={set:a,get:f,has:m,enforce:p,getterFor:P}}),((b,d,r)=>{var o=r(4),c=r(21),A=o.WeakMap;b.exports=c(A)&&/native code/.test(String(A))}),((b,d,r)=>{var o=r(35),c=r(41),A=o("keys");b.exports=function(E){return A[E]||(A[E]=c(E))}}),(b=>{b.exports={}}),((b,d,r)=>{var o=r(39),c=r(57),A=r(5),E=r(45);b.exports=function(R,O,u){for(var s=c(O),l=E.f,g=A.f,v=0;v<s.length;v++){var a=s[v];!o(R,a)&&!(u&&o(u,a))&&l(R,a,g(O,a))}}}),((b,d,r)=>{var o=r(24),c=r(14),A=r(58),E=r(67),R=r(47),O=c([].concat);b.exports=o("Reflect","ownKeys")||function(s){var l=A.f(R(s)),g=E.f;return g?O(l,g(s)):l}}),((b,d,r)=>{var o=r(59),c=r(66),A=c.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(R){return o(R,A)}}),((b,d,r)=>{var o=r(14),c=r(39),A=r(12),E=r(60).indexOf,R=r(55),O=o([].push);b.exports=function(u,s){var l=A(u),g=0,v=[],a;for(a in l)!c(R,a)&&c(l,a)&&O(v,a);for(;s.length>g;)c(l,a=s[g++])&&(~E(v,a)||O(v,a));return v}}),((b,d,r)=>{var o=r(12),c=r(61),A=r(64),E=function(R){return function(O,u,s){var l=o(O),g=A(l),v=c(s,g),a;if(R&&u!==u){for(;g>v;)if(a=l[v++],a!==a)return!0}else for(;g>v;v++)if((R||v in l)&&l[v]===u)return R||v||0;return!R&&-1}};b.exports={includes:E(!0),indexOf:E(!1)}}),((b,d,r)=>{var o=r(62),c=Math.max,A=Math.min;b.exports=function(E,R){var O=o(E);return O<0?c(O+R,0):A(O,R)}}),((b,d,r)=>{var o=r(63);b.exports=function(c){var A=+c;return A!==A||A===0?0:o(A)}}),(b=>{var d=Math.ceil,r=Math.floor;b.exports=Math.trunc||function(c){var A=+c;return(A>0?r:d)(A)}}),((b,d,r)=>{var o=r(65);b.exports=function(c){return o(c.length)}}),((b,d,r)=>{var o=r(62),c=Math.min;b.exports=function(A){return A>0?c(o(A),9007199254740991):0}}),(b=>{b.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),((b,d)=>{d.f=Object.getOwnPropertySymbols}),((b,d,r)=>{var o=r(7),c=r(21),A=/#|\.prototype\./,E=function(l,g){var v=O[R(l)];return v===s?!0:v===u?!1:c(g)?o(g):!!g},R=E.normalize=function(l){return String(l).replace(A,".").toLowerCase()},O=E.data={},u=E.NATIVE="N",s=E.POLYFILL="P";b.exports=E}),((b,d,r)=>{var o=r(9),c=Function.prototype,A=c.apply,E=c.call;b.exports=typeof Reflect=="object"&&Reflect.apply||(o?E.bind(A):function(){return E.apply(A,arguments)})}),((b,d,r)=>{var o=r(24),c=r(39),A=r(44),E=r(25),R=r(71),O=r(56),u=r(74),s=r(75),l=r(76),g=r(80),v=r(81),a=r(6),f=r(36);b.exports=function(m,p,P,B){var L="stackTraceLimit",C=B?2:1,I=m.split("."),H=I[I.length-1],X=o.apply(null,I);if(X){var $=X.prototype;if(!f&&c($,"cause")&&delete $.cause,!P)return X;var Q=o("Error"),J=p(function(he,ue){var de=l(B?ue:he,void 0),fe=B?new X(he):new X;return de!==void 0&&A(fe,"message",de),v(fe,J,fe.stack,2),this&&E($,this)&&s(fe,this,J),arguments.length>C&&g(fe,arguments[C]),fe});if(J.prototype=$,H!=="Error"?R?R(J,Q):O(J,Q,{name:!0}):a&&L in X&&(u(J,X,L),u(J,X,"prepareStackTrace")),O(J,X),!f)try{$.name!==H&&A($,"name",H),$.constructor=J}catch{}return J}}}),((b,d,r)=>{var o=r(72),c=r(47),A=r(73);b.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var E=!1,R={},O;try{O=o(Object.prototype,"__proto__","set"),O(R,[]),E=R instanceof Array}catch{}return function(s,l){return c(s),A(l),E?O(s,l):s.__proto__=l,s}})():void 0)}),((b,d,r)=>{var o=r(14),c=r(31);b.exports=function(A,E,R){try{return o(c(Object.getOwnPropertyDescriptor(A,E)[R]))}catch{}}}),((b,d,r)=>{var o=r(21),c=String,A=TypeError;b.exports=function(E){if(typeof E=="object"||o(E))return E;throw A("Can't set "+c(E)+" as a prototype")}}),((b,d,r)=>{var o=r(45).f;b.exports=function(c,A,E){E in c||o(c,E,{configurable:!0,get:function(){return A[E]},set:function(R){A[E]=R}})}}),((b,d,r)=>{var o=r(21),c=r(20),A=r(71);b.exports=function(E,R,O){var u,s;return A&&o(u=R.constructor)&&u!==O&&c(s=u.prototype)&&s!==O.prototype&&A(E,s),E}}),((b,d,r)=>{var o=r(77);b.exports=function(c,A){return c===void 0?arguments.length<2?"":A:o(c)}}),((b,d,r)=>{var o=r(78),c=String;b.exports=function(A){if(o(A)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return c(A)}}),((b,d,r)=>{var o=r(79),c=r(21),A=r(15),E=r(34),R=E("toStringTag"),O=Object,u=A((function(){return arguments})())==="Arguments",s=function(l,g){try{return l[g]}catch{}};b.exports=o?A:function(l){var g,v,a;return l===void 0?"Undefined":l===null?"Null":typeof(v=s(g=O(l),R))=="string"?v:u?A(g):(a=A(g))==="Object"&&c(g.callee)?"Arguments":a}}),((b,d,r)=>{var o=r(34),c=o("toStringTag"),A={};A[c]="z",b.exports=String(A)==="[object z]"}),((b,d,r)=>{var o=r(20),c=r(44);b.exports=function(A,E){o(E)&&"cause"in E&&c(A,"cause",E.cause)}}),((b,d,r)=>{var o=r(44),c=r(82),A=r(83),E=Error.captureStackTrace;b.exports=function(R,O,u,s){A&&(E?E(R,O):o(R,"stack",c(u,s)))}}),((b,d,r)=>{var o=r(14),c=Error,A=o("".replace),E=(function(u){return String(c(u).stack)})("zxcasd"),R=/\n\s*at [^:]*:[^\n]*/,O=R.test(E);b.exports=function(u,s){if(O&&typeof u=="string"&&!c.prepareStackTrace)for(;s--;)u=A(u,R,"");return u}}),((b,d,r)=>{var o=r(7),c=r(11);b.exports=!o(function(){var A=Error("a");return"stack"in A?(Object.defineProperty(A,"stack",c(1,7)),A.stack!==7):!0})}),((b,d,r)=>{var o=r(48),c=r(14),A=r(77),E=r(85),R=URLSearchParams,O=R.prototype,u=c(O.append),s=c(O.delete),l=c(O.forEach),g=c([].push),v=new R("a=1&a=2&b=3");v.delete("a",1),v.delete("b",void 0),v+""!="a=2"&&o(O,"delete",function(a){var f=arguments.length,m=f<2?void 0:arguments[1];if(f&&m===void 0)return s(this,a);var p=[];l(this,function($,Q){g(p,{key:Q,value:$})}),E(f,1);for(var P=A(a),B=A(m),L=0,C=0,I=!1,H=p.length,X;L<H;)X=p[L++],I||X.key===P?(I=!0,s(this,X.key)):C++;for(;C<H;)X=p[C++],X.key===P&&X.value===B||u(this,X.key,X.value)},{enumerable:!0,unsafe:!0})}),(b=>{var d=TypeError;b.exports=function(r,o){if(r<o)throw d("Not enough arguments");return r}}),((b,d,r)=>{var o=r(48),c=r(14),A=r(77),E=r(85),R=URLSearchParams,O=R.prototype,u=c(O.getAll),s=c(O.has),l=new R("a=1");(l.has("a",2)||!l.has("a",void 0))&&o(O,"has",function(v){var a=arguments.length,f=a<2?void 0:arguments[1];if(a&&f===void 0)return s(this,v);var m=u(this,v);E(a,1);for(var p=A(f),P=0;P<m.length;)if(m[P++]===p)return!0;return!1},{enumerable:!0,unsafe:!0})}),((b,d,r)=>{var o=r(6),c=r(14),A=r(88),E=URLSearchParams.prototype,R=c(E.forEach);o&&!("size"in E)&&A(E,"size",{get:function(){var u=0;return R(this,function(){u++}),u},configurable:!0,enumerable:!0})}),((b,d,r)=>{var o=r(49),c=r(45);b.exports=function(A,E,R){return R.get&&o(R.get,E,{getter:!0}),R.set&&o(R.set,E,{setter:!0}),c.f(A,E,R)}}),((b,d,r)=>{var o=r(3),c=r(40),A=r(64),E=r(90),R=r(92),O=r(7),u=O(function(){return[].push.call({length:4294967296},1)!==4294967297}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(g){return g instanceof TypeError}},l=u||!s();o({target:"Array",proto:!0,arity:1,forced:l},{push:function(v){var a=c(this),f=A(a),m=arguments.length;R(f+m);for(var p=0;p<m;p++)a[f]=arguments[p],f++;return E(a,f),f}})}),((b,d,r)=>{var o=r(6),c=r(91),A=TypeError,E=Object.getOwnPropertyDescriptor,R=o&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(O){return O instanceof TypeError}})();b.exports=R?function(O,u){if(c(O)&&!E(O,"length").writable)throw A("Cannot set read only .length");return O.length=u}:function(O,u){return O.length=u}}),((b,d,r)=>{var o=r(15);b.exports=Array.isArray||function(A){return o(A)==="Array"}}),(b=>{var d=TypeError,r=9007199254740991;b.exports=function(o){if(o>r)throw d("Maximum allowed index exceeded");return o}}),((b,d,r)=>{var o=r(94),c=r(98).findLast,A=o.aTypedArray,E=o.exportTypedArrayMethod;E("findLast",function(O){return c(A(this),O,arguments.length>1?arguments[1]:void 0)})}),((b,d,r)=>{var o=r(95),c=r(6),A=r(4),E=r(21),R=r(20),O=r(39),u=r(78),s=r(32),l=r(44),g=r(48),v=r(88),a=r(25),f=r(96),m=r(71),p=r(34),P=r(41),B=r(52),L=B.enforce,C=B.get,I=A.Int8Array,H=I&&I.prototype,X=A.Uint8ClampedArray,$=X&&X.prototype,Q=I&&f(I),J=H&&f(H),he=Object.prototype,ue=A.TypeError,de=p("toStringTag"),fe=P("TYPED_ARRAY_TAG"),re="TypedArrayConstructor",Y=o&&!!m&&u(A.opera)!=="Opera",M=!1,x,k,T,_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},V=function(j){if(!R(j))return!1;var te=u(j);return te==="DataView"||O(_,te)||O(W,te)},z=function(G){var j=f(G);if(R(j)){var te=C(j);return te&&O(te,re)?te[re]:z(j)}},y=function(G){if(!R(G))return!1;var j=u(G);return O(_,j)||O(W,j)},w=function(G){if(y(G))return G;throw ue("Target is not a typed array")},F=function(G){if(E(G)&&(!m||a(Q,G)))return G;throw ue(s(G)+" is not a typed array constructor")},N=function(G,j,te,Ae){if(c){if(te)for(var se in _){var le=A[se];if(le&&O(le.prototype,G))try{delete le.prototype[G]}catch{try{le.prototype[G]=j}catch{}}}(!J[G]||te)&&g(J,G,te?j:Y&&H[G]||j,Ae)}},D=function(G,j,te){var Ae,se;if(c){if(m){if(te){for(Ae in _)if(se=A[Ae],se&&O(se,G))try{delete se[G]}catch{}}if(!Q[G]||te)try{return g(Q,G,te?j:Y&&Q[G]||j)}catch{}else return}for(Ae in _)se=A[Ae],se&&(!se[G]||te)&&g(se,G,j)}};for(x in _)k=A[x],T=k&&k.prototype,T?L(T)[re]=k:Y=!1;for(x in W)k=A[x],T=k&&k.prototype,T&&(L(T)[re]=k);if((!Y||!E(Q)||Q===Function.prototype)&&(Q=function(){throw ue("Incorrect invocation")},Y))for(x in _)A[x]&&m(A[x],Q);if((!Y||!J||J===he)&&(J=Q.prototype,Y))for(x in _)A[x]&&m(A[x].prototype,J);if(Y&&f($)!==J&&m($,J),c&&!O(J,de)){M=!0,v(J,de,{configurable:!0,get:function(){return R(this)?this[fe]:void 0}});for(x in _)A[x]&&l(A[x],fe,x)}b.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:M&&fe,aTypedArray:w,aTypedArrayConstructor:F,exportTypedArrayMethod:N,exportTypedArrayStaticMethod:D,getTypedArrayConstructor:z,isView:V,isTypedArray:y,TypedArray:Q,TypedArrayPrototype:J}}),(b=>{b.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),((b,d,r)=>{var o=r(39),c=r(21),A=r(40),E=r(54),R=r(97),O=E("IE_PROTO"),u=Object,s=u.prototype;b.exports=R?u.getPrototypeOf:function(l){var g=A(l);if(o(g,O))return g[O];var v=g.constructor;return c(v)&&g instanceof v?v.prototype:g instanceof u?s:null}}),((b,d,r)=>{var o=r(7);b.exports=!o(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})}),((b,d,r)=>{var o=r(99),c=r(13),A=r(40),E=r(64),R=function(O){var u=O===1;return function(s,l,g){for(var v=A(s),a=c(v),f=o(l,g),m=E(a),p,P;m-- >0;)if(p=a[m],P=f(p,m,v),P)switch(O){case 0:return p;case 1:return m}return u?-1:void 0}};b.exports={findLast:R(0),findLastIndex:R(1)}}),((b,d,r)=>{var o=r(100),c=r(31),A=r(9),E=o(o.bind);b.exports=function(R,O){return c(R),O===void 0?R:A?E(R,O):function(){return R.apply(O,arguments)}}}),((b,d,r)=>{var o=r(15),c=r(14);b.exports=function(A){if(o(A)==="Function")return c(A)}}),((b,d,r)=>{var o=r(94),c=r(98).findLastIndex,A=o.aTypedArray,E=o.exportTypedArrayMethod;E("findLastIndex",function(O){return c(A(this),O,arguments.length>1?arguments[1]:void 0)})}),((b,d,r)=>{var o=r(4),c=r(8),A=r(94),E=r(64),R=r(103),O=r(40),u=r(7),s=o.RangeError,l=o.Int8Array,g=l&&l.prototype,v=g&&g.set,a=A.aTypedArray,f=A.exportTypedArrayMethod,m=!u(function(){var P=new Uint8ClampedArray(2);return c(v,P,{length:1,0:3},1),P[1]!==3}),p=m&&A.NATIVE_ARRAY_BUFFER_VIEWS&&u(function(){var P=new l(2);return P.set(1),P.set("2",1),P[0]!==0||P[1]!==2});f("set",function(B){a(this);var L=R(arguments.length>1?arguments[1]:void 0,1),C=O(B);if(m)return c(v,this,C,L);var I=this.length,H=E(C),X=0;if(H+L>I)throw s("Wrong length");for(;X<H;)this[L+X]=C[X++]},!m||p)}),((b,d,r)=>{var o=r(104),c=RangeError;b.exports=function(A,E){var R=o(A);if(R%E)throw c("Wrong offset");return R}}),((b,d,r)=>{var o=r(62),c=RangeError;b.exports=function(A){var E=o(A);if(E<0)throw c("The argument can't be less than 0");return E}}),((b,d,r)=>{var o=r(106),c=r(94),A=c.aTypedArray,E=c.exportTypedArrayMethod,R=c.getTypedArrayConstructor;E("toReversed",function(){return o(A(this),R(this))})}),((b,d,r)=>{var o=r(64);b.exports=function(c,A){for(var E=o(c),R=new A(E),O=0;O<E;O++)R[O]=c[E-O-1];return R}}),((b,d,r)=>{var o=r(94),c=r(14),A=r(31),E=r(108),R=o.aTypedArray,O=o.getTypedArrayConstructor,u=o.exportTypedArrayMethod,s=c(o.TypedArrayPrototype.sort);u("toSorted",function(g){g!==void 0&&A(g);var v=R(this),a=E(O(v),v);return s(a,g)})}),((b,d,r)=>{var o=r(64);b.exports=function(c,A){for(var E=0,R=o(A),O=new c(R);R>E;)O[E]=A[E++];return O}}),((b,d,r)=>{var o=r(110),c=r(94),A=r(111),E=r(62),R=r(112),O=c.aTypedArray,u=c.getTypedArrayConstructor,s=c.exportTypedArrayMethod,l=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(g){return g===8}})();s("with",function(g,v){var a=O(this),f=E(g),m=A(a)?R(v):+v;return o(a,u(a),f,m)},!l)}),((b,d,r)=>{var o=r(64),c=r(62),A=RangeError;b.exports=function(E,R,O,u){var s=o(E),l=c(O),g=l<0?s+l:l;if(g>=s||g<0)throw A("Incorrect index");for(var v=new R(s),a=0;a<s;a++)v[a]=a===g?u:E[a];return v}}),((b,d,r)=>{var o=r(78);b.exports=function(c){var A=o(c);return A==="BigInt64Array"||A==="BigUint64Array"}}),((b,d,r)=>{var o=r(19),c=TypeError;b.exports=function(A){var E=o(A,"number");if(typeof E=="number")throw c("Can't convert number to bigint");return BigInt(E)}}),((b,d,r)=>{var o=r(6),c=r(88),A=r(114),E=ArrayBuffer.prototype;o&&!("detached"in E)&&c(E,"detached",{configurable:!0,get:function(){return A(this)}})}),((b,d,r)=>{var o=r(14),c=r(115),A=o(ArrayBuffer.prototype.slice);b.exports=function(E){if(c(E)!==0)return!1;try{return A(E,0,0),!1}catch{return!0}}}),((b,d,r)=>{var o=r(72),c=r(15),A=TypeError;b.exports=o(ArrayBuffer.prototype,"byteLength","get")||function(E){if(c(E)!=="ArrayBuffer")throw A("ArrayBuffer expected");return E.byteLength}}),((b,d,r)=>{var o=r(3),c=r(117);c&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return c(this,arguments.length?arguments[0]:void 0,!0)}})}),((b,d,r)=>{var o=r(4),c=r(14),A=r(72),E=r(118),R=r(114),O=r(115),u=r(119),s=o.TypeError,l=o.structuredClone,g=o.ArrayBuffer,v=o.DataView,a=Math.min,f=g.prototype,m=v.prototype,p=c(f.slice),P=A(f,"resizable","get"),B=A(f,"maxByteLength","get"),L=c(m.getInt8),C=c(m.setInt8);b.exports=u&&function(I,H,X){var $=O(I),Q=H===void 0?$:E(H),J=!P||!P(I);if(R(I))throw s("ArrayBuffer is detached");var he=l(I,{transfer:[I]});if($===Q&&(X||J))return he;if($>=Q&&(!X||J))return p(he,0,Q);for(var ue=X&&!J&&B?{maxByteLength:B(he)}:void 0,de=new g(Q,ue),fe=new v(he),re=new v(de),Y=a(Q,$),M=0;M<Y;M++)C(re,M,L(fe,M));return de}}),((b,d,r)=>{var o=r(62),c=r(65),A=RangeError;b.exports=function(E){if(E===void 0)return 0;var R=o(E),O=c(R);if(R!==O)throw A("Wrong length or index");return O}}),((b,d,r)=>{var o=r(4),c=r(7),A=r(28),E=r(120),R=r(121),O=r(122),u=o.structuredClone;b.exports=!!u&&!c(function(){if(R&&A>92||O&&A>94||E&&A>97)return!1;var s=new ArrayBuffer(8),l=u(s,{transfer:[s]});return s.byteLength!==0||l.byteLength!==8})}),((b,d,r)=>{var o=r(121),c=r(122);b.exports=!o&&!c&&typeof window=="object"&&typeof document=="object"}),(b=>{b.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"}),((b,d,r)=>{var o=r(4),c=r(15);b.exports=c(o.process)==="process"}),((b,d,r)=>{var o=r(3),c=r(117);c&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return c(this,arguments.length?arguments[0]:void 0,!1)}})}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(b){if(typeof b=="string"||b instanceof URL?b={url:b}:(0,_util.isArrayBuffer)(b)&&(b={data:b}),typeof b!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!b.url&&!b.data&&!b.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,{docId:r}=d,o=b.url?getUrlProp(b.url):null,c=b.data?getDataProp(b.data):null,A=b.httpHeaders||null,E=b.withCredentials===!0,R=b.password??null,O=b.range instanceof PDFDataRangeTransport?b.range:null,u=Number.isInteger(b.rangeChunkSize)&&b.rangeChunkSize>0?b.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let s=b.worker instanceof PDFWorker?b.worker:null;const l=b.verbosity,g=typeof b.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(b.docBaseUrl)?b.docBaseUrl:null,v=typeof b.cMapUrl=="string"?b.cMapUrl:null,a=b.cMapPacked!==!1,f=b.CMapReaderFactory||DefaultCMapReaderFactory,m=typeof b.standardFontDataUrl=="string"?b.standardFontDataUrl:null,p=b.StandardFontDataFactory||DefaultStandardFontDataFactory,P=b.stopAtErrors!==!0,B=Number.isInteger(b.maxImageSize)&&b.maxImageSize>-1?b.maxImageSize:-1,L=b.isEvalSupported!==!1,C=typeof b.isOffscreenCanvasSupported=="boolean"?b.isOffscreenCanvasSupported:!_util.isNodeJS,I=Number.isInteger(b.canvasMaxAreaInBytes)?b.canvasMaxAreaInBytes:-1,H=typeof b.disableFontFace=="boolean"?b.disableFontFace:_util.isNodeJS,X=b.fontExtraProperties===!0,$=b.enableXfa===!0,Q=b.ownerDocument||globalThis.document,J=b.disableRange===!0,he=b.disableStream===!0,ue=b.disableAutoFetch===!0,de=b.pdfBug===!0,fe=O?O.length:b.length??NaN,re=typeof b.useSystemFonts=="boolean"?b.useSystemFonts:!_util.isNodeJS&&!H,Y=typeof b.useWorkerFetch=="boolean"?b.useWorkerFetch:f===_display_utils.DOMCMapReaderFactory&&p===_display_utils.DOMStandardFontDataFactory&&v&&m&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(m,document.baseURI),M=b.canvasFactory||new DefaultCanvasFactory({ownerDocument:Q}),x=b.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:Q}),k=null;(0,_util.setVerbosityLevel)(l);const T={canvasFactory:M,filterFactory:x};if(Y||(T.cMapReaderFactory=new f({baseUrl:v,isCompressed:a}),T.standardFontDataFactory=new p({baseUrl:m})),!s){const V={verbosity:l,port:_worker_options.GlobalWorkerOptions.workerPort};s=V.port?PDFWorker.fromPort(V):new PDFWorker(V),d._worker=s}const _={docId:r,apiVersion:"3.11.174",data:c,password:R,disableAutoFetch:ue,rangeChunkSize:u,length:fe,docBaseUrl:g,enableXfa:$,evaluatorOptions:{maxImageSize:B,disableFontFace:H,ignoreErrors:P,isEvalSupported:L,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:I,fontExtraProperties:X,useSystemFonts:re,cMapUrl:Y?v:null,standardFontDataUrl:Y?m:null}},W={ignoreErrors:P,isEvalSupported:L,disableFontFace:H,fontExtraProperties:X,enableXfa:$,ownerDocument:Q,disableAutoFetch:ue,pdfBug:de,styleElement:k};return s.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const V=_fetchDocument(s,_),z=new Promise(function(y){let w;O?w=new _transport_stream.PDFDataTransportStream({length:fe,initialData:O.initialData,progressiveDone:O.progressiveDone,contentDispositionFilename:O.contentDispositionFilename,disableRange:J,disableStream:he},O):c||(w=(N=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(N):(0,_display_utils.isValidFetchUrl)(N.url)?new _displayFetch_stream.PDFFetchStream(N):new _displayNetwork.PDFNetworkStream(N))({url:o,length:fe,httpHeaders:A,withCredentials:E,rangeChunkSize:u,disableRange:J,disableStream:he})),y(w)});return Promise.all([V,z]).then(function(y){let[w,F]=y;if(d.destroyed)throw new Error("Loading aborted");const N=new _message_handler.MessageHandler(r,w,s.port),D=new WorkerTransport(N,d,F,W,T);d._transport=D,N.send("Ready",null)})}).catch(d._capability.reject),d}async function _fetchDocument(b,d){if(b.destroyed)throw new Error("Worker was destroyed");const r=await b.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(b.destroyed)throw new Error("Worker was destroyed");return r}function getUrlProp(b){if(b instanceof URL)return b.href;try{return new URL(b,window.location).href}catch{if(_util.isNodeJS&&typeof b=="string")return b}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(b){if(_util.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength)return b;if(typeof b=="string")return(0,_util.stringToBytes)(b);if(typeof b=="object"&&!isNaN(b?.length)||(0,_util.isArrayBuffer)(b))return new Uint8Array(b);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(d){throw this._worker?.port&&delete this._worker._pendingDestroy,d}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=d,this.initialData=r,this.progressiveDone=o,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,r){for(const o of this._rangeListeners)o(d,r)}onDataProgress(d,r){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(d,r)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,r){this._pdfInfo=d,this._transport=r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const c=[];for(const A in o)c.push(...o[A]);return c}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(d,r,o){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=d,this._pageInfo=r,this._transport=o,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:d,rotation:r=this.rotate,offsetX:o=0,offsetY:c=0,dontFlip:A=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:r,offsetX:o,offsetY:c,dontFlip:A})}getAnnotations(){let{intent:d="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(d){let{canvasContext:r,viewport:o,intent:c="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:E=null,background:R=null,optionalContentConfigPromise:O=null,annotationCanvasMap:u=null,pageColors:s=null,printAnnotationStorage:l=null}=d;this._stats?.time("Overall");const g=this._transport.getRenderingIntent(c,A,l);this.#t=!1,this.#r(),O||(O=this._transport.getOptionalContentConfig());let v=this._intentStates.get(g.cacheKey);v||(v=Object.create(null),this._intentStates.set(g.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const a=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=new _util.PromiseCapability,v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const f=P=>{v.renderTasks.delete(m),(this._maybeCleanupAfterRender||a)&&(this.#t=!0),this.#n(!a),P?(m.capability.reject(P),this._abortOperatorList({intentState:v,reason:P instanceof Error?P:new Error(P)})):m.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},m=new InternalRenderTask({callback:f,params:{canvasContext:r,viewport:o,transform:E,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!a,pdfBug:this._pdfBug,pageColors:s});(v.renderTasks||=new Set).add(m);const p=m.task;return Promise.all([v.displayReadyCapability.promise,O]).then(P=>{let[B,L]=P;if(this.destroyed){f();return}this._stats?.time("Rendering"),m.initializeGraphics({transparency:B,optionalContentConfig:L}),m.operatorListChanged()}).catch(f),p}getOperatorList(){let{intent:d="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function c(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(R))}const A=this._transport.getRenderingIntent(d,r,o,!0);let E=this._intentStates.get(A.cacheKey);E||(E=Object.create(null),this._intentStates.set(A.cacheKey,E));let R;return E.opListReadCapability||(R=Object.create(null),R.operatorListChanged=c,E.opListReadCapability=new _util.PromiseCapability,(E.renderTasks||=new Set).add(R),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A)),E.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:d=!1,disableNormalization:r=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:d===!0,disableNormalization:r===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const r=this.streamTextContent(d);return new Promise(function(o,c){function A(){E.read().then(function(O){let{value:u,done:s}=O;if(s){o(R);return}Object.assign(R.styles,u.styles),R.items.push(...u.items),A()},c)}const E=r.getReader(),R={items:[],styles:Object.create(null)};A()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const o of r.renderTasks)d.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(d)}cleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#t=!0;const r=this.#n(!1);return d&&r&&(this._stats&&=new _display_utils.StatTimer),r}#n(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#r(),!this.#t||this.destroyed)return!1;if(d)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:r,operatorList:o}of this._intentStates.values())if(r.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(d,r){const o=this._intentStates.get(r);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(d))}_renderPageChunk(d,r){for(let o=0,c=d.length;o<c;o++)r.operatorList.fnArray.push(d.fnArray[o]),r.operatorList.argsArray.push(d.argsArray[o]);r.operatorList.lastChunk=d.lastChunk,r.operatorList.separateAnnots=d.separateAnnots;for(const o of r.renderTasks)o.operatorListChanged();d.lastChunk&&this.#n(!0)}_pumpOperatorList(d){let{renderingIntent:r,cacheKey:o,annotationStorageSerializable:c}=d;const{map:A,transfers:E}=c,O=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:o,annotationStorage:A},E).getReader(),u=this._intentStates.get(o);u.streamReader=O;const s=()=>{O.read().then(l=>{let{value:g,done:v}=l;if(v){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,u),s())},l=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();this.#n(!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(l);else if(u.opListReadCapability)u.opListReadCapability.reject(l);else throw l}})};s()}_abortOperatorList(d){let{intentState:r,reason:o,force:c=!1}=d;if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!c){if(r.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException){let A=RENDERING_CANCELLED_TIMEOUT;o.extraDelay>0&&o.extraDelay<1e3&&(A+=o.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:o,force:!0})},A);return}}if(r.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[A,E]of this._intentStates)if(E===r){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(d,r){const o={data:structuredClone(d,null)};this.#t.then(()=>{for(const c of this.#e)c.call(this,o)})}addEventListener(d,r){this.#e.add(r)}removeEventListener(d,r){this.#e.delete(r)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const b=document?.currentScript?.src;b&&(PDFWorkerUtil.fallbackWorkerSrc=b.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(b,d){let r;try{if(r=new URL(b),!r.origin||r.origin==="null")return!1}catch{return!1}const o=new URL(d,r);return r.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(b){const d=`importScripts("${b}");`;return URL.createObjectURL(new Blob([d]))}}class PDFWorker{static#workerPorts;constructor(){let{name:b=null,port:d=null,verbosity:r=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=b,this.destroyed=!1,this.verbosity=r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,d){if(PDFWorker.#workerPorts?.has(d))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(d,this),this._initializeFromPort(d);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(b){this._port=b,this._messageHandler=new _message_handler.MessageHandler("main","worker",b),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:b}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,b)||(b=PDFWorkerUtil.createCDNWrapper(new URL(b,window.location).href));const d=new Worker(b),r=new _message_handler.MessageHandler("main","worker",d),o=()=>{d.removeEventListener("error",c),r.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||o()};d.addEventListener("error",c),r.on("test",E=>{if(d.removeEventListener("error",c),this.destroyed){o();return}E?(this._messageHandler=r,this._port=d,this._webWorker=d,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),d.terminate())}),r.on("ready",E=>{if(d.removeEventListener("error",c),this.destroyed){o();return}try{A()}catch{this._setupFakeWorker()}});const A=()=>{const E=new Uint8Array;r.send("test",E,[E.buffer])};A();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(b=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const d=new LoopbackPort;this._port=d;const r=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(r+"_worker",r,d);b.setup(o,d);const c=new _message_handler.MessageHandler(r,r+"_worker",d);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(b=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${b.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(b){if(!b?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const d=this.#workerPorts?.get(b.port);if(d){if(d._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return d}return new PDFWorker(b)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(d,r,o,c,A){this.messageHandler=d,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,this.canvasFactory=A.canvasFactory,this.filterFactory=A.filterFactory,this.cMapReaderFactory=A.cMapReaderFactory,this.standardFontDataFactory=A.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=this.#e.get(d);if(o)return o;const c=this.messageHandler.sendWithPromise(d,r);return this.#e.set(d,c),c}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=_util.RenderingIntentFlag.DISPLAY,E=_annotation_storage.SerializableEmpty;switch(d){case"any":A=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":A=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(r){case _util.AnnotationMode.DISABLE:A+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:A+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:A+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=(A&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return c&&(A+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:A,cacheKey:`${A}_${E.hash}`,annotationStorageSerializable:E}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const o of this.#t.values())d.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return d.push(r),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:r}=this;d.on("GetReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=A=>{this._lastProgress={loaded:A.loaded,total:A.total}},c.onPull=()=>{this._fullReader.read().then(function(A){let{value:E,done:R}=A;if(R){c.close();return}(0,_util.assert)(E instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(E),1,[E])}).catch(A=>{c.error(A)})},c.onCancel=A=>{this._fullReader.cancel(A),c.ready.catch(E=>{if(!this.destroyed)throw E})}}),d.on("ReaderHeadersReady",o=>{const c=new _util.PromiseCapability,A=this._fullReader;return A.headersReady.then(()=>{(!A.isStreamingSupported||!A.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),A.onProgress=E=>{r.onProgress?.({loaded:E.loaded,total:E.total})}),c.resolve({isStreamingSupported:A.isStreamingSupported,isRangeSupported:A.isRangeSupported,contentLength:A.contentLength})},c.reject),c.promise}),d.on("GetRangeReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const A=this._networkStream.getRangeReader(o.begin,o.end);if(!A){c.close();return}c.onPull=()=>{A.read().then(function(E){let{value:R,done:O}=E;if(O){c.close();return}(0,_util.assert)(R instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(R),1,[R])}).catch(E=>{c.error(E)})},c.onCancel=E=>{A.cancel(E),c.ready.catch(R=>{if(!this.destroyed)throw R})}}),d.on("GetDoc",o=>{let{pdfInfo:c}=o;this._numPages=c.numPages,this._htmlForXfa=c.htmlForXfa,delete c.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(c,this))}),d.on("DocException",function(o){let c;switch(o.name){case"PasswordException":c=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":c=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(c)}),d.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,r.onPassword){const c=A=>{A instanceof Error?this.#r.reject(A):this.#r.resolve({password:A})};try{r.onPassword(c,o.code)}catch(A){this.#r.reject(A)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),d.on("DataLoaded",o=>{r.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),d.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),d.on("commonobj",o=>{let[c,A,E]=o;if(!this.destroyed&&!this.commonObjs.has(c))switch(A){case"Font":const R=this._params;if("error"in E){const s=E.error;(0,_util.warn)(`Error during font loading: ${s}`),this.commonObjs.resolve(c,s);break}const O=R.pdfBug&&globalThis.FontInspector?.enabled?(s,l)=>globalThis.FontInspector.fontAdded(s,l):null,u=new _font_loader.FontFaceObject(E,{isEvalSupported:R.isEvalSupported,disableFontFace:R.disableFontFace,ignoreErrors:R.ignoreErrors,inspectFont:O});this.fontLoader.bind(u).catch(s=>d.sendWithPromise("FontFallback",{id:c})).finally(()=>{!R.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(c,u)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(c,E);break;default:throw new Error(`Got unknown common object type ${A}`)}}),d.on("obj",o=>{let[c,A,E,R]=o;if(this.destroyed)return;const O=this.#t.get(A);if(!O.objs.has(c))switch(E){case"Image":if(O.objs.resolve(c,R),R){let u;if(R.bitmap){const{width:s,height:l}=R;u=s*l*4}else u=R.data?.length||0;u>_util.MAX_IMAGE_SIZE_TO_CACHE&&(O._maybeCleanupAfterRender=!0)}break;case"Pattern":O.objs.resolve(c,R);break;default:throw new Error(`Got unknown object type ${E}`)}}),d.on("DocProgress",o=>{this.destroyed||r.onProgress?.({loaded:o.loaded,total:o.total})}),d.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:d,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:d,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=d-1,o=this.#n.get(r);if(o)return o;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(A=>{if(this.destroyed)throw new Error("Transport destroyed");const E=new PDFPageProxy(r,A,this,this._params.pdfBug);return this.#t.set(r,E),E});return this.#n.set(r,c),c}getPageIndex(d){return typeof d!="object"||d===null||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:r})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return typeof d!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",r=this.#e.get(d);if(r)return r;const o=this.messageHandler.sendWithPromise(d,null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(d,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),d||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:d,enableXfa:r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:r})}}class PDFObjects{#e=Object.create(null);#t(d){return this.#e[d]||={capability:new _util.PromiseCapability,data:null}}get(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){const c=this.#t(d);return c.capability.promise.then(()=>r(c.data)),null}const o=this.#e[d];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${d}.`);return o.data}has(d){return this.#e[d]?.capability.settled||!1}resolve(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=this.#t(d);o.data=r,o.capability.resolve()}clear(){for(const d in this.#e){const{data:r}=this.#e[d];r?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(d){this.#e=d,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.#e.cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=this.#e.operatorList;if(!d)return!1;const{annotationCanvasMap:r}=this.#e;return d.form||d.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor(d){let{callback:r,params:o,objs:c,commonObjs:A,annotationCanvasMap:E,operatorList:R,pageIndex:O,canvasFactory:u,filterFactory:s,useRequestAnimationFrame:l=!1,pdfBug:g=!1,pageColors:v=null}=d;this.callback=r,this.params=o,this.objs=c,this.commonObjs=A,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=R,this._pageIndex=O,this.canvasFactory=u,this.filterFactory=s,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(d){let{transparency:r=!1,optionalContentConfig:o}=d;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:c,viewport:A,transform:E,background:R}=this.params;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:E,viewport:A,transparency:r,background:R}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((b,d,r)=>{var o=r(3),c=r(126),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("difference")},{difference:c})}),((b,d,r)=>{var o=r(127),c=r(128),A=r(129),E=r(132),R=r(133),O=r(130),u=r(131),s=c.has,l=c.remove;b.exports=function(v){var a=o(this),f=R(v),m=A(a);return E(a)<=f.size?O(a,function(p){f.includes(p)&&l(m,p)}):u(f.getIterator(),function(p){s(a,p)&&l(m,p)}),m}}),((b,d,r)=>{var o=r(128).has;b.exports=function(c){return o(c),c}}),((b,d,r)=>{var o=r(14),c=Set.prototype;b.exports={Set,add:o(c.add),has:o(c.has),remove:o(c.delete),proto:c}}),((b,d,r)=>{var o=r(128),c=r(130),A=o.Set,E=o.add;b.exports=function(R){var O=new A;return c(R,function(u){E(O,u)}),O}}),((b,d,r)=>{var o=r(14),c=r(131),A=r(128),E=A.Set,R=A.proto,O=o(R.forEach),u=o(R.keys),s=u(new E).next;b.exports=function(l,g,v){return v?c({iterator:u(l),next:s},g):O(l,g)}}),((b,d,r)=>{var o=r(8);b.exports=function(c,A,E){for(var R=E?c:c.iterator,O=c.next,u,s;!(u=o(O,R)).done;)if(s=A(u.value),s!==void 0)return s}}),((b,d,r)=>{var o=r(72),c=r(128);b.exports=o(c.proto,"size","get")||function(A){return A.size}}),((b,d,r)=>{var o=r(31),c=r(47),A=r(8),E=r(62),R=r(134),O="Invalid size",u=RangeError,s=TypeError,l=Math.max,g=function(v,a,f,m){this.set=v,this.size=a,this.has=f,this.keys=m};g.prototype={getIterator:function(){return R(c(A(this.keys,this.set)))},includes:function(v){return A(this.has,this.set,v)}},b.exports=function(v){c(v);var a=+v.size;if(a!==a)throw s(O);var f=E(a);if(f<0)throw u(O);return new g(v,l(f,0),o(v.has),o(v.keys))}}),(b=>{b.exports=function(d){return{iterator:d,next:d.next,done:!1}}}),((b,d,r)=>{var o=r(24),c=function(A){return{size:A,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};b.exports=function(A){var E=o("Set");try{new E()[A](c(0));try{return new E()[A](c(-1)),!1}catch{return!0}}catch{return!1}}}),((b,d,r)=>{var o=r(3),c=r(7),A=r(137),E=r(135),R=!E("intersection")||c(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});o({target:"Set",proto:!0,real:!0,forced:R},{intersection:A})}),((b,d,r)=>{var o=r(127),c=r(128),A=r(132),E=r(133),R=r(130),O=r(131),u=c.Set,s=c.add,l=c.has;b.exports=function(v){var a=o(this),f=E(v),m=new u;return A(a)>f.size?O(f.getIterator(),function(p){l(a,p)&&s(m,p)}):R(a,function(p){f.includes(p)&&s(m,p)}),m}}),((b,d,r)=>{var o=r(3),c=r(139),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isDisjointFrom")},{isDisjointFrom:c})}),((b,d,r)=>{var o=r(127),c=r(128).has,A=r(132),E=r(133),R=r(130),O=r(131),u=r(140);b.exports=function(l){var g=o(this),v=E(l);if(A(g)<=v.size)return R(g,function(f){if(v.includes(f))return!1},!0)!==!1;var a=v.getIterator();return O(a,function(f){if(c(g,f))return u(a,"normal",!1)})!==!1}}),((b,d,r)=>{var o=r(8),c=r(47),A=r(30);b.exports=function(E,R,O){var u,s;c(E);try{if(u=A(E,"return"),!u){if(R==="throw")throw O;return O}u=o(u,E)}catch(l){s=!0,u=l}if(R==="throw")throw O;if(s)throw u;return c(u),O}}),((b,d,r)=>{var o=r(3),c=r(142),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isSubsetOf")},{isSubsetOf:c})}),((b,d,r)=>{var o=r(127),c=r(132),A=r(130),E=r(133);b.exports=function(O){var u=o(this),s=E(O);return c(u)>s.size?!1:A(u,function(l){if(!s.includes(l))return!1},!0)!==!1}}),((b,d,r)=>{var o=r(3),c=r(144),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isSupersetOf")},{isSupersetOf:c})}),((b,d,r)=>{var o=r(127),c=r(128).has,A=r(132),E=r(133),R=r(131),O=r(140);b.exports=function(s){var l=o(this),g=E(s);if(A(l)<g.size)return!1;var v=g.getIterator();return R(v,function(a){if(!c(l,a))return O(v,"normal",!1)})!==!1}}),((b,d,r)=>{var o=r(3),c=r(146),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("symmetricDifference")},{symmetricDifference:c})}),((b,d,r)=>{var o=r(127),c=r(128),A=r(129),E=r(133),R=r(131),O=c.add,u=c.has,s=c.remove;b.exports=function(g){var v=o(this),a=E(g).getIterator(),f=A(v);return R(a,function(m){u(v,m)?s(f,m):O(f,m)}),f}}),((b,d,r)=>{var o=r(3),c=r(148),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("union")},{union:c})}),((b,d,r)=>{var o=r(127),c=r(128).add,A=r(129),E=r(133),R=r(131);b.exports=function(u){var s=o(this),l=E(u).getIterator(),g=A(s);return R(l,function(v){c(g,v)}),g}}),((b,d,r)=>{var o=r(3),c=r(4),A=r(24),E=r(11),R=r(45).f,O=r(39),u=r(150),s=r(75),l=r(76),g=r(151),v=r(82),a=r(6),f=r(36),m="DOMException",p=A("Error"),P=A(m),B=function(){u(this,L);var re=arguments.length,Y=l(re<1?void 0:arguments[0]),M=l(re<2?void 0:arguments[1],"Error"),x=new P(Y,M),k=p(Y);return k.name=m,R(x,"stack",E(1,v(k.stack,1))),s(x,this,B),x},L=B.prototype=P.prototype,C="stack"in p(m),I="stack"in new P(1,2),H=P&&a&&Object.getOwnPropertyDescriptor(c,m),X=!!H&&!(H.writable&&H.configurable),$=C&&!X&&!I;o({global:!0,constructor:!0,forced:f||$},{DOMException:$?B:P});var Q=A(m),J=Q.prototype;if(J.constructor!==Q){f||R(J,"constructor",E(1,Q));for(var he in g)if(O(g,he)){var ue=g[he],de=ue.s;O(Q,de)||R(Q,de,E(6,ue.c))}}}),((b,d,r)=>{var o=r(25),c=TypeError;b.exports=function(A,E){if(o(E,A))return A;throw c("Incorrect invocation")}}),(b=>{b.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}),((b,d,r)=>{var o=r(36),c=r(3),A=r(4),E=r(24),R=r(14),O=r(7),u=r(41),s=r(21),l=r(153),g=r(17),v=r(20),a=r(23),f=r(154),m=r(47),p=r(78),P=r(39),B=r(159),L=r(44),C=r(64),I=r(85),H=r(160),X=r(162),$=r(128),Q=r(83),J=r(119),he=A.Object,ue=A.Array,de=A.Date,fe=A.Error,re=A.EvalError,Y=A.RangeError,M=A.ReferenceError,x=A.SyntaxError,k=A.TypeError,T=A.URIError,_=A.PerformanceMark,W=A.WebAssembly,V=W&&W.CompileError||fe,z=W&&W.LinkError||fe,y=W&&W.RuntimeError||fe,w=E("DOMException"),F=X.Map,N=X.has,D=X.get,G=X.set,j=$.Set,te=$.add,Ae=E("Object","keys"),se=R([].push),le=R((!0).valueOf),pe=R(1 .valueOf),ge=R("".valueOf),me=R(de.prototype.getTime),ke=u("structuredClone"),we="DataCloneError",Oe="Transferring",Ue=function(ne){return!O(function(){var Ce=new A.Set([7]),Ne=ne(Ce),Ie=ne(he(7));return Ne===Ce||!Ne.has(7)||typeof Ie!="object"||+Ie!=7})&&ne},We=function(ne,Ce){return!O(function(){var Ne=new Ce,Ie=ne({a:Ne,b:Ne});return!(Ie&&Ie.a===Ie.b&&Ie.a instanceof Ce&&Ie.a.stack===Ne.stack)})},Ye=function(ne){return!O(function(){var Ce=ne(new A.AggregateError([1],ke,{cause:3}));return Ce.name!=="AggregateError"||Ce.errors[0]!==1||Ce.message!==ke||Ce.cause!==3})},nt=A.structuredClone,ct=o||!We(nt,fe)||!We(nt,w)||!Ye(nt),Lt=!nt&&Ue(function(ne){return new _(ke,{detail:ne}).detail}),Ze=Ue(nt)||Lt,ft=function(ne){throw new w("Uncloneable type: "+ne,we)},qe=function(ne,Ce){throw new w((Ce||"Cloning")+" of "+ne+" cannot be properly polyfilled in this engine",we)},Ln=function(ne,Ce){return Ze||qe(Ce),Ze(ne)},Qn=function(){var ne;try{ne=new A.DataTransfer}catch{try{ne=new A.ClipboardEvent("").clipboardData}catch{}}return ne&&ne.items&&ne.files?ne:null},gn=function(ne,Ce,Ne){if(N(Ce,ne))return D(Ce,ne);var Ie=Ne||p(ne),Le,$e,xe,Ke,He,Ve;if(Ie==="SharedArrayBuffer")Ze?Le=Ze(ne):Le=ne;else{var rt=A.DataView;!rt&&typeof ne.slice!="function"&&qe("ArrayBuffer");try{if(typeof ne.slice=="function"&&!ne.resizable)Le=ne.slice(0);else for($e=ne.byteLength,xe=("maxByteLength"in ne)?{maxByteLength:ne.maxByteLength}:void 0,Le=new ArrayBuffer($e,xe),Ke=new rt(ne),He=new rt(Le),Ve=0;Ve<$e;Ve++)He.setUint8(Ve,Ke.getUint8(Ve))}catch{throw new w("ArrayBuffer is detached",we)}}return G(Ce,ne,Le),Le},ye=function(ne,Ce,Ne,Ie,Le){var $e=A[Ce];return v($e)||qe(Ce),new $e(gn(ne.buffer,Le),Ne,Ie)},ie=function(ne,Ce,Ne){this.object=ne,this.type=Ce,this.metadata=Ne},ee=function(ne,Ce,Ne){if(a(ne)&&ft("Symbol"),!v(ne))return ne;if(Ce){if(N(Ce,ne))return D(Ce,ne)}else Ce=new F;var Ie=p(ne),Le,$e,xe,Ke,He,Ve,rt,gt;switch(Ie){case"Array":xe=ue(C(ne));break;case"Object":xe={};break;case"Map":xe=new F;break;case"Set":xe=new j;break;case"RegExp":xe=new RegExp(ne.source,H(ne));break;case"Error":switch($e=ne.name,$e){case"AggregateError":xe=E("AggregateError")([]);break;case"EvalError":xe=re();break;case"RangeError":xe=Y();break;case"ReferenceError":xe=M();break;case"SyntaxError":xe=x();break;case"TypeError":xe=k();break;case"URIError":xe=T();break;case"CompileError":xe=V();break;case"LinkError":xe=z();break;case"RuntimeError":xe=y();break;default:xe=fe()}break;case"DOMException":xe=new w(ne.message,ne.name);break;case"ArrayBuffer":case"SharedArrayBuffer":xe=Ne?new ie(ne,Ie):gn(ne,Ce,Ie);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ve=Ie==="DataView"?ne.byteLength:ne.length,xe=Ne?new ie(ne,Ie,{offset:ne.byteOffset,length:Ve}):ye(ne,Ie,ne.byteOffset,Ve,Ce);break;case"DOMQuad":try{xe=new DOMQuad(ee(ne.p1,Ce,Ne),ee(ne.p2,Ce,Ne),ee(ne.p3,Ce,Ne),ee(ne.p4,Ce,Ne))}catch{xe=Ln(ne,Ie)}break;case"File":if(Ze)try{xe=Ze(ne),p(xe)!==Ie&&(xe=void 0)}catch{}if(!xe)try{xe=new File([ne],ne.name,ne)}catch{}xe||qe(Ie);break;case"FileList":if(Ke=Qn(),Ke){for(He=0,Ve=C(ne);He<Ve;He++)Ke.items.add(ee(ne[He],Ce,Ne));xe=Ke.files}else xe=Ln(ne,Ie);break;case"ImageData":try{xe=new ImageData(ee(ne.data,Ce,Ne),ne.width,ne.height,{colorSpace:ne.colorSpace})}catch{xe=Ln(ne,Ie)}break;default:if(Ze)xe=Ze(ne);else switch(Ie){case"BigInt":xe=he(ne.valueOf());break;case"Boolean":xe=he(le(ne));break;case"Number":xe=he(pe(ne));break;case"String":xe=he(ge(ne));break;case"Date":xe=new de(me(ne));break;case"Blob":try{xe=ne.slice(0,ne.size,ne.type)}catch{qe(Ie)}break;case"DOMPoint":case"DOMPointReadOnly":Le=A[Ie];try{xe=Le.fromPoint?Le.fromPoint(ne):new Le(ne.x,ne.y,ne.z,ne.w)}catch{qe(Ie)}break;case"DOMRect":case"DOMRectReadOnly":Le=A[Ie];try{xe=Le.fromRect?Le.fromRect(ne):new Le(ne.x,ne.y,ne.width,ne.height)}catch{qe(Ie)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Le=A[Ie];try{xe=Le.fromMatrix?Le.fromMatrix(ne):new Le(ne)}catch{qe(Ie)}break;case"AudioData":case"VideoFrame":s(ne.clone)||qe(Ie);try{xe=ne.clone()}catch{ft(Ie)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":qe(Ie);default:ft(Ie)}}switch(G(Ce,ne,xe),Ie){case"Array":case"Object":for(rt=Ae(ne),He=0,Ve=C(rt);He<Ve;He++)gt=rt[He],B(xe,gt,ee(ne[gt],Ce,Ne));break;case"Map":ne.forEach(function(lt,Nt){G(xe,ee(Nt,Ce,Ne),ee(lt,Ce,Ne))});break;case"Set":ne.forEach(function(lt){te(xe,ee(lt,Ce,Ne))});break;case"Error":L(xe,"message",ee(ne.message,Ce,Ne)),P(ne,"cause")&&L(xe,"cause",ee(ne.cause,Ce,Ne)),$e==="AggregateError"&&(xe.errors=ee(ne.errors,Ce,Ne));case"DOMException":Q&&L(xe,"stack",ee(ne.stack,Ce,Ne))}return xe},Te=function(ne,Ce){if(!v(ne))return ne;if(N(Ce,ne))return D(Ce,ne);var Ne,Ie,Le,$e,xe,Ke,He,Ve;if(ne instanceof ie)switch(Ne=ne.type,Ie=ne.object,Ne){case"ArrayBuffer":case"SharedArrayBuffer":Ve=gn(Ie,Ce,Ne);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Le=ne.metadata,Ve=ye(Ie,Ne,Le.offset,Le.length,Ce)}else switch(p(ne)){case"Array":case"Object":for(Ke=Ae(ne),$e=0,xe=C(Ke);$e<xe;$e++)He=Ke[$e],ne[He]=Te(ne[He],Ce);break;case"Map":Ve=new F,ne.forEach(function(rt,gt){G(Ve,Te(gt,Ce),Te(rt,Ce))});break;case"Set":Ve=new j,ne.forEach(function(rt){te(Ve,Te(rt,Ce))});break;case"Error":ne.message=Te(ne.message,Ce),P(ne,"cause")&&(ne.cause=Te(ne.cause,Ce)),ne.name==="AggregateError"&&(ne.errors=Te(ne.errors,Ce));case"DOMException":Q&&(ne.stack=Te(ne.stack,Ce))}return G(Ce,ne,Ve||ne),Ve||ne},Ge=function(ne,Ce){if(!v(ne))throw k("Transfer option cannot be converted to a sequence");var Ne=[];f(ne,function(lt){se(Ne,m(lt))});for(var Ie=0,Le=C(Ne),$e=[],xe,Ke,He,Ve,rt,gt;Ie<Le;){if(xe=Ne[Ie++],Ke=p(xe),Ke==="ArrayBuffer"){se($e,xe);continue}if(N(Ce,xe))throw new w("Duplicate transferable",we);if(J)Ve=nt(xe,{transfer:[xe]});else switch(Ke){case"ImageBitmap":He=A.OffscreenCanvas,l(He)||qe(Ke,Oe);try{rt=new He(xe.width,xe.height),gt=rt.getContext("bitmaprenderer"),gt.transferFromImageBitmap(xe),Ve=rt.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!s(xe.clone)||!s(xe.close))&&qe(Ke,Oe);try{Ve=xe.clone(),xe.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":qe(Ke,Oe)}if(Ve===void 0)throw new w("This object cannot be transferred: "+Ke,we);G(Ce,xe,Ve)}return $e},st=function(ne,Ce){for(var Ne=0,Ie=C(ne),Le,$e;Ne<Ie;){if(Le=ne[Ne++],N(Ce,Le))throw new w("Duplicate transferable",we);J?$e=nt(Le,{transfer:[Le]}):(s(Le.transfer)||qe("ArrayBuffer",Oe),$e=Le.transfer()),G(Ce,Le,$e)}};c({global:!0,enumerable:!0,sham:!J,forced:ct},{structuredClone:function(Ce){var Ne=I(arguments.length,1)>1&&!g(arguments[1])?m(arguments[1]):void 0,Ie=Ne?Ne.transfer:void 0,Le=!1,$e,xe;Ie!==void 0&&($e=new F,xe=Ge(Ie,$e),Le=!!C(xe));var Ke=ee(Ce,$e,Le);return Le&&($e=new F,st(Ie,$e),Ke=Te(Ke,$e)),Ke}})}),((b,d,r)=>{var o=r(14),c=r(7),A=r(21),E=r(78),R=r(24),O=r(51),u=function(){},s=[],l=R("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=o(g.exec),a=!g.exec(u),f=function(P){if(!A(P))return!1;try{return l(u,s,P),!0}catch{return!1}},m=function(P){if(!A(P))return!1;switch(E(P)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return a||!!v(g,O(P))}catch{return!0}};m.sham=!0,b.exports=!l||c(function(){var p;return f(f.call)||!f(Object)||!f(function(){p=!0})||p})?m:f}),((b,d,r)=>{var o=r(99),c=r(8),A=r(47),E=r(32),R=r(155),O=r(64),u=r(25),s=r(157),l=r(158),g=r(140),v=TypeError,a=function(m,p){this.stopped=m,this.result=p},f=a.prototype;b.exports=function(m,p,P){var B=P&&P.that,L=!!(P&&P.AS_ENTRIES),C=!!(P&&P.IS_RECORD),I=!!(P&&P.IS_ITERATOR),H=!!(P&&P.INTERRUPTED),X=o(p,B),$,Q,J,he,ue,de,fe,re=function(M){return $&&g($,"normal",M),new a(!0,M)},Y=function(M){return L?(A(M),H?X(M[0],M[1],re):X(M[0],M[1])):H?X(M,re):X(M)};if(C)$=m.iterator;else if(I)$=m;else{if(Q=l(m),!Q)throw v(E(m)+" is not iterable");if(R(Q)){for(J=0,he=O(m);he>J;J++)if(ue=Y(m[J]),ue&&u(f,ue))return ue;return new a(!1)}$=s(m,Q)}for(de=C?m.next:$.next;!(fe=c(de,$)).done;){try{ue=Y(fe.value)}catch(M){g($,"throw",M)}if(typeof ue=="object"&&ue&&u(f,ue))return ue}return new a(!1)}}),((b,d,r)=>{var o=r(34),c=r(156),A=o("iterator"),E=Array.prototype;b.exports=function(R){return R!==void 0&&(c.Array===R||E[A]===R)}}),(b=>{b.exports={}}),((b,d,r)=>{var o=r(8),c=r(31),A=r(47),E=r(32),R=r(158),O=TypeError;b.exports=function(u,s){var l=arguments.length<2?R(u):s;if(c(l))return A(o(l,u));throw O(E(u)+" is not iterable")}}),((b,d,r)=>{var o=r(78),c=r(30),A=r(17),E=r(156),R=r(34),O=R("iterator");b.exports=function(u){if(!A(u))return c(u,O)||c(u,"@@iterator")||E[o(u)]}}),((b,d,r)=>{var o=r(18),c=r(45),A=r(11);b.exports=function(E,R,O){var u=o(R);u in E?c.f(E,u,A(0,O)):E[u]=O}}),((b,d,r)=>{var o=r(8),c=r(39),A=r(25),E=r(161),R=RegExp.prototype;b.exports=function(O){var u=O.flags;return u===void 0&&!("flags"in R)&&!c(O,"flags")&&A(R,O)?o(E,O):u}}),((b,d,r)=>{var o=r(47);b.exports=function(){var c=o(this),A="";return c.hasIndices&&(A+="d"),c.global&&(A+="g"),c.ignoreCase&&(A+="i"),c.multiline&&(A+="m"),c.dotAll&&(A+="s"),c.unicode&&(A+="u"),c.unicodeSets&&(A+="v"),c.sticky&&(A+="y"),A}}),((b,d,r)=>{var o=r(14),c=Map.prototype;b.exports={Map,set:o(c.set),get:o(c.get),has:o(c.has),remove:o(c.delete),proto:c}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SerializableEmpty=d.PrintAnnotationStorage=d.AnnotationStorage=void 0,r(89),r(149),r(152);var o=r(1),c=r(164),A=r(170);const E=Object.freeze({map:null,hash:"",transfers:void 0});d.SerializableEmpty=E;class R{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(s,l){const g=this.#t.get(s);return g===void 0?l:Object.assign(l,g)}getRawValue(s){return this.#t.get(s)}remove(s){if(this.#t.delete(s),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const l of this.#t.values())if(l instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(s,l){const g=this.#t.get(s);let v=!1;if(g!==void 0)for(const[a,f]of Object.entries(l))g[a]!==f&&(v=!0,g[a]=f);else v=!0,this.#t.set(s,l);v&&this.#n(),l instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(l.constructor._type)}has(s){return this.#t.has(s)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(s){for(const[l,g]of Object.entries(s))this.setValue(l,g)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new O(this)}get serializable(){if(this.#t.size===0)return E;const s=new Map,l=new A.MurmurHash3_64,g=[],v=Object.create(null);let a=!1;for(const[f,m]of this.#t){const p=m instanceof c.AnnotationEditor?m.serialize(!1,v):m;p&&(s.set(f,p),l.update(`${f}:${JSON.stringify(p)}`),a||=!!p.bitmap)}if(a)for(const f of s.values())f.bitmap&&g.push(f.bitmap);return s.size>0?{map:s,hash:l.hexdigest(),transfers:g}:E}}d.AnnotationStorage=R;class O extends R{#e;constructor(s){super();const{map:l,hash:g,transfers:v}=s.serializable,a=structuredClone(l,null);this.#e={map:a,hash:g,transfers:v}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}d.PrintAnnotationStorage=O}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditor=void 0,r(89),r(2);var o=r(165),c=r(1),A=r(168);class E{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=E._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(u){this.constructor===E&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=u.parent,this.id=u.id,this.width=this.height=null,this.pageIndex=u.parent.pageIndex,this.name=u.name,this.div=null,this._uiManager=u.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=u.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:l,pageHeight:g,pageX:v,pageY:a}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[l,g],this.pageTranslation=[v,a];const[f,m]=this.parentDimensions;this.x=u.x/f,this.y=u.y/m,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(u){const s=new R({id:u.parent.getNextId(),parent:u.parent,uiManager:u._uiManager});s.annotationElementId=u.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(E._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(g=>[g,u.get(g)])),s?.strings)for(const g of s.strings)E._l10nPromise.set(g,u.get(g));if(E._borderLineWidth!==-1)return;const l=getComputedStyle(document.documentElement);E._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}static updateDefaultParams(u,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(u){return!1}static paste(u,s){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(u){this.#h=u,this.div?.classList.toggle("draggable",u)}center(){const[u,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(u*2),this.y+=this.width*u/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(u*2),this.y-=this.width*u/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(u){this._uiManager.addCommands(u)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(u){u!==null&&(this.pageIndex=u.pageIndex,this.pageDimensions=u.pageDimensions),this.parent=u}focusin(u){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(u){!this._focusEventsAllowed||!this.isAttachedToDOM||u.relatedTarget?.closest(`#${this.id}`)||(u.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(u,s,l,g){const[v,a]=this.parentDimensions;[l,g]=this.screenToPageTranslation(l,g),this.x=(u+l)/v,this.y=(s+g)/a,this.fixAndSetPosition()}#v(u,s,l){let[g,v]=u;[s,l]=this.screenToPageTranslation(s,l),this.x+=s/g,this.y+=l/v,this.fixAndSetPosition()}translate(u,s){this.#v(this.parentDimensions,u,s)}translateInPage(u,s){this.#v(this.pageDimensions,u,s),this.div.scrollIntoView({block:"nearest"})}drag(u,s){const[l,g]=this.parentDimensions;if(this.x+=u/l,this.y+=s/g,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:v,y:a}=this;const[f,m]=this.#m();v+=f,a+=m,this.div.style.left=`${(100*v).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[u,s]=this.parentDimensions,{_borderLineWidth:l}=E,g=l/u,v=l/s;switch(this.rotation){case 90:return[-g,v];case 180:return[g,v];case 270:return[g,-v];default:return[-g,-v]}}fixAndSetPosition(){const[u,s]=this.pageDimensions;let{x:l,y:g,width:v,height:a}=this;switch(v*=u,a*=s,l*=u,g*=s,this.rotation){case 0:l=Math.max(0,Math.min(u-v,l)),g=Math.max(0,Math.min(s-a,g));break;case 90:l=Math.max(0,Math.min(u-a,l)),g=Math.min(s,Math.max(v,g));break;case 180:l=Math.min(u,Math.max(v,l)),g=Math.min(s,Math.max(a,g));break;case 270:l=Math.min(u,Math.max(a,l)),g=Math.max(0,Math.min(s-v,g));break}this.x=l/=u,this.y=g/=s;const[f,m]=this.#m();l+=f,g+=m;const{style:p}=this.div;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}static#g(u,s,l){switch(l){case 90:return[s,-u];case 180:return[-u,-s];case 270:return[-s,u];default:return[u,s]}}screenToPageTranslation(u,s){return E.#g(u,s,this.parentRotation)}pageTranslationToScreen(u,s){return E.#g(u,s,360-this.parentRotation)}#c(u){switch(u){case 90:{const[s,l]=this.pageDimensions;return[0,-s/l,l/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,l]=this.pageDimensions;return[0,s/l,-l/s,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:u,pageDimensions:[s,l]}=this,g=s*u,v=l*u;return c.FeatureTest.isCSSRoundSupported?[Math.round(g),Math.round(v)]:[g,v]}setDims(u,s){const[l,g]=this.parentDimensions;this.div.style.width=`${(100*u/l).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*s/g).toFixed(2)}%`),this.#n?.classList.toggle("small",u<E.SMALL_EDITOR_SIZE||s<E.SMALL_EDITOR_SIZE)}fixDims(){const{style:u}=this.div,{height:s,width:l}=u,g=l.endsWith("%"),v=!this.#a&&s.endsWith("%");if(g&&v)return;const[a,f]=this.parentDimensions;g||(u.width=`${(100*parseFloat(l)/a).toFixed(2)}%`),!this.#a&&!v&&(u.height=`${(100*parseFloat(s)/f).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const u=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||u.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const s of u){const l=document.createElement("div");this.#s.append(l),l.classList.add("resizer",s),l.addEventListener("pointerdown",this.#x.bind(this,s)),l.addEventListener("contextmenu",A.noContextMenu)}this.div.prepend(this.#s)}#x(u,s){s.preventDefault();const{isMac:l}=c.FeatureTest.platform;if(s.button!==0||s.ctrlKey&&l)return;const g=this.#E.bind(this,u),v=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};window.addEventListener("pointermove",g,a);const f=this.x,m=this.y,p=this.width,P=this.height,B=this.parent.div.style.cursor,L=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const C=()=>{this._isDraggable=v,window.removeEventListener("pointerup",C),window.removeEventListener("blur",C),window.removeEventListener("pointermove",g,a),this.parent.div.style.cursor=B,this.div.style.cursor=L;const I=this.x,H=this.y,X=this.width,$=this.height;I===f&&H===m&&X===p&&$===P||this.addCommands({cmd:()=>{this.width=X,this.height=$,this.x=I,this.y=H;const[Q,J]=this.parentDimensions;this.setDims(Q*X,J*$),this.fixAndSetPosition()},undo:()=>{this.width=p,this.height=P,this.x=f,this.y=m;const[Q,J]=this.parentDimensions;this.setDims(Q*p,J*P),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",C),window.addEventListener("blur",C)}#E(u,s){const[l,g]=this.parentDimensions,v=this.x,a=this.y,f=this.width,m=this.height,p=E.MIN_SIZE/l,P=E.MIN_SIZE/g,B=z=>Math.round(z*1e4)/1e4,L=this.#c(this.rotation),C=(z,y)=>[L[0]*z+L[2]*y,L[1]*z+L[3]*y],I=this.#c(360-this.rotation),H=(z,y)=>[I[0]*z+I[2]*y,I[1]*z+I[3]*y];let X,$,Q=!1,J=!1;switch(u){case"topLeft":Q=!0,X=(z,y)=>[0,0],$=(z,y)=>[z,y];break;case"topMiddle":X=(z,y)=>[z/2,0],$=(z,y)=>[z/2,y];break;case"topRight":Q=!0,X=(z,y)=>[z,0],$=(z,y)=>[0,y];break;case"middleRight":J=!0,X=(z,y)=>[z,y/2],$=(z,y)=>[0,y/2];break;case"bottomRight":Q=!0,X=(z,y)=>[z,y],$=(z,y)=>[0,0];break;case"bottomMiddle":X=(z,y)=>[z/2,y],$=(z,y)=>[z/2,0];break;case"bottomLeft":Q=!0,X=(z,y)=>[0,y],$=(z,y)=>[z,0];break;case"middleLeft":J=!0,X=(z,y)=>[0,y/2],$=(z,y)=>[z,y/2];break}const he=X(f,m),ue=$(f,m);let de=C(...ue);const fe=B(v+de[0]),re=B(a+de[1]);let Y=1,M=1,[x,k]=this.screenToPageTranslation(s.movementX,s.movementY);if([x,k]=H(x/l,k/g),Q){const z=Math.hypot(f,m);Y=M=Math.max(Math.min(Math.hypot(ue[0]-he[0]-x,ue[1]-he[1]-k)/z,1/f,1/m),p/f,P/m)}else J?Y=Math.max(p,Math.min(1,Math.abs(ue[0]-he[0]-x)))/f:M=Math.max(P,Math.min(1,Math.abs(ue[1]-he[1]-k)))/m;const T=B(f*Y),_=B(m*M);de=C(...$(T,_));const W=fe-de[0],V=re-de[1];this.width=T,this.height=_,this.x=W,this.y=V,this.setDims(l*T,g*_),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const u=this.#n=document.createElement("button");u.className="altText";const s=await E._l10nPromise.get("editor_alt_text_button_label");u.textContent=s,u.setAttribute("aria-label",s),u.tabIndex="0",u.addEventListener("contextmenu",A.noContextMenu),u.addEventListener("pointerdown",l=>l.stopPropagation()),u.addEventListener("click",l=>{l.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),u.addEventListener("keydown",l=>{l.target===u&&l.key==="Enter"&&(l.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(u),E.SMALL_EDITOR_SIZE||(E.SMALL_EDITOR_SIZE=Math.min(128,Math.round(u.getBoundingClientRect().width*1.4)))}async#T(){const u=this.#n;if(!u)return;if(!this.#e&&!this.#t){u.classList.remove("done"),this.#r?.remove();return}E._l10nPromise.get("editor_alt_text_edit_button_label").then(l=>{u.setAttribute("aria-label",l)});let s=this.#r;if(!s){this.#r=s=document.createElement("span"),s.className="tooltip",s.setAttribute("role","tooltip");const l=s.id=`alt-text-tooltip-${this.id}`;u.setAttribute("aria-describedby",l);const g=100;u.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},g)}),u.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}u.classList.add("done"),s.innerText=this.#t?await E._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,s.parentNode||u.append(s)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData(u){let{altText:s,decorative:l}=u;this.#e===s&&this.#t===l||(this.#e=s,this.#t=l,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[u,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/u).toFixed(2)}%`,this.div.style.maxHeight=`${(100*u/s).toFixed(2)}%`);const[l,g]=this.getInitialTranslation();return this.translate(l,g),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(u){const{isMac:s}=c.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&s){u.preventDefault();return}this.#i=!0,this.#P(u)}#P(u){if(!this._isDraggable)return;const s=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let l,g;s&&(l={passive:!0,capture:!0},g=a=>{const[f,m]=this.screenToPageTranslation(a.movementX,a.movementY);this._uiManager.dragSelectedEditors(f,m)},window.addEventListener("pointermove",g,l));const v=()=>{if(window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),s&&window.removeEventListener("pointermove",g,l),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:a}=c.FeatureTest.platform;u.ctrlKey&&!a||u.shiftKey||u.metaKey&&a?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",v),window.addEventListener("blur",v)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(u,s,l){u.changeParent(this),this.x=s,this.y=l,this.fixAndSetPosition()}getRect(u,s){const l=this.parentScale,[g,v]=this.pageDimensions,[a,f]=this.pageTranslation,m=u/l,p=s/l,P=this.x*g,B=this.y*v,L=this.width*g,C=this.height*v;switch(this.rotation){case 0:return[P+m+a,v-B-p-C+f,P+m+L+a,v-B-p+f];case 90:return[P+p+a,v-B+m+f,P+p+C+a,v-B+m+L+f];case 180:return[P-m-L+a,v-B+p+f,P-m+a,v-B+p+C+f];case 270:return[P-p-C+a,v-B-m-L+f,P-p+a,v-B-m+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(u,s){const[l,g,v,a]=u,f=v-l,m=a-g;switch(this.rotation){case 0:return[l,s-a,f,m];case 90:return[l,s-g,m,f];case 180:return[v,s-g,f,m];case 270:return[v,s-a,m,f];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(u,s,l){const g=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:l});g.rotation=u.rotation;const[v,a]=g.pageDimensions,[f,m,p,P]=g.getRectInCurrentCoords(u.rect,a);return g.x=f/v,g.y=m/a,g.width=p/v,g.height=P/a,g}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(u,s){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(u){this.#f=u,this.parent&&(u?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(u,s){this.#a=!0;const l=u/s,{style:g}=this.div;g.aspectRatio=l,g.height="auto"}static get MIN_SIZE(){return 16}}d.AnnotationEditor=E;class R extends E{constructor(u){super(u),this.annotationElementId=u.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyboardManager=d.CommandManager=d.ColorManager=d.AnnotationEditorUIManager=void 0,d.bindEvents=A,d.opacityToHex=E,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(166);var o=r(1),c=r(168);function A(v,a,f){for(const m of f)a.addEventListener(m,v[m].bind(v))}function E(v){return Math.round(Math.min(255,Math.max(1,255*v))).toString(16).padStart(2,"0")}class R{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class O{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const a='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',m=new OffscreenCanvas(1,3).getContext("2d"),p=new Image;p.src=a;const P=p.decode().then(()=>(m.drawImage(p,0,0,1,1,0,0,1,3),new Uint32Array(m.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",P)}async#r(a,f){this.#n||=new Map;let m=this.#n.get(a);if(m===null)return null;if(m?.bitmap)return m.refCounter+=1,m;try{m||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let p;if(typeof f=="string"){m.url=f;const P=await fetch(f);if(!P.ok)throw new Error(P.statusText);p=await P.blob()}else p=m.file=f;if(p.type==="image/svg+xml"){const P=O._isSVGFittingCanvas,B=new FileReader,L=new Image,C=new Promise((I,H)=>{L.onload=()=>{m.bitmap=L,m.isSvg=!0,I()},B.onload=async()=>{const X=m.svgUrl=B.result;L.src=await P?`${X}#svgView(preserveAspectRatio(none))`:X},L.onerror=B.onerror=H});B.readAsDataURL(p),await C}else m.bitmap=await createImageBitmap(p);m.refCounter=1}catch(p){console.error(p),m=null}return this.#n.set(a,m),m&&this.#n.set(m.id,m),m}async getFromFile(a){const{lastModified:f,name:m,size:p,type:P}=a;return this.#r(`${f}_${m}_${p}_${P}`,a)}async getFromUrl(a){return this.#r(a,a)}async getFromId(a){this.#n||=new Map;const f=this.#n.get(a);return f?f.bitmap?(f.refCounter+=1,f):f.file?this.getFromFile(f.file):this.getFromUrl(f.url):null}getSvgUrl(a){const f=this.#n.get(a);return f?.isSvg?f.svgUrl:null}deleteId(a){this.#n||=new Map;const f=this.#n.get(a);f&&(f.refCounter-=1,f.refCounter===0&&(f.bitmap=null))}isValidId(a){return a.startsWith(`image_${this.#e}_`)}}class u{#e=[];#t=!1;#n;#r=-1;constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;this.#n=a}add(a){let{cmd:f,undo:m,mustExec:p,type:P=NaN,overwriteIfSameType:B=!1,keepUndo:L=!1}=a;if(p&&f(),this.#t)return;const C={cmd:f,undo:m,type:P};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(C);return}if(B&&this.#e[this.#r].type===P){L&&(C.undo=this.#e[this.#r].undo),this.#e[this.#r]=C;return}const I=this.#r+1;I===this.#n?this.#e.splice(0,1):(this.#r=I,I<this.#e.length&&this.#e.splice(I)),this.#e.push(C)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}d.CommandManager=u;class s{constructor(a){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:f}=o.FeatureTest.platform;for(const[m,p,P={}]of a)for(const B of m){const L=B.startsWith("mac+");f&&L?(this.callbacks.set(B.slice(4),{callback:p,options:P}),this.allKeys.add(B.split("+").at(-1))):!f&&!L&&(this.callbacks.set(B,{callback:p,options:P}),this.allKeys.add(B.split("+").at(-1)))}}#e(a){a.altKey&&this.buffer.push("alt"),a.ctrlKey&&this.buffer.push("ctrl"),a.metaKey&&this.buffer.push("meta"),a.shiftKey&&this.buffer.push("shift"),this.buffer.push(a.key);const f=this.buffer.join("+");return this.buffer.length=0,f}exec(a,f){if(!this.allKeys.has(f.key))return;const m=this.callbacks.get(this.#e(f));if(!m)return;const{callback:p,options:{bubbles:P=!1,args:B=[],checker:L=null}}=m;L&&!L(a,f)||(p.bind(a,...B)(),P||(f.stopPropagation(),f.preventDefault()))}}d.KeyboardManager=s;class l{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const a=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(a),(0,o.shadow)(this,"_colors",a)}convert(a){const f=(0,c.getRGB)(a);if(!window.matchMedia("(forced-colors: active)").matches)return f;for(const[m,p]of this._colors)if(p.every((P,B)=>P===f[B]))return l._colorsMapping.get(m);return f}getHexCode(a){const f=this._colors.get(a);return f?o.Util.makeHexColor(...f):a}}d.ColorManager=l;class g{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new u;#s=0;#l=new Set;#u=null;#i=null;#f=new Set;#d=null;#h=new R;#p=!1;#v=!1;#m=null;#g=o.AnnotationEditorType.NONE;#c=new Set;#y=null;#x=this.blur.bind(this);#E=this.focus.bind(this);#T=this.copy.bind(this);#P=this.cut.bind(this);#D=this.paste.bind(this);#L=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#A=this.onPageChanging.bind(this);#O=this.onScaleChanging.bind(this);#R=this.onRotationChanging.bind(this);#M={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#S=[0,0];#w=null;#k=null;#_=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const a=g.prototype,f=P=>{const{activeElement:B}=document;return B&&P.#k.contains(B)&&P.hasSomethingToControl()},m=this.TRANSLATE_SMALL,p=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new s([[["ctrl+a","mac+meta+a"],a.selectAll],[["ctrl+z","mac+meta+z"],a.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],a.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],a.delete],[["Escape","mac+Escape"],a.unselectAll],[["ArrowLeft","mac+ArrowLeft"],a.translateSelectedEditors,{args:[-m,0],checker:f}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a.translateSelectedEditors,{args:[-p,0],checker:f}],[["ArrowRight","mac+ArrowRight"],a.translateSelectedEditors,{args:[m,0],checker:f}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a.translateSelectedEditors,{args:[p,0],checker:f}],[["ArrowUp","mac+ArrowUp"],a.translateSelectedEditors,{args:[0,-m],checker:f}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a.translateSelectedEditors,{args:[0,-p],checker:f}],[["ArrowDown","mac+ArrowDown"],a.translateSelectedEditors,{args:[0,m],checker:f}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a.translateSelectedEditors,{args:[0,p],checker:f}]]))}constructor(a,f,m,p,P,B){this.#k=a,this.#_=f,this.#r=m,this._eventBus=p,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#A),this._eventBus._on("scalechanging",this.#O),this._eventBus._on("rotationchanging",this.#R),this.#o=P.annotationStorage,this.#d=P.filterFactory,this.#y=B,this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#U(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#A),this._eventBus._off("scalechanging",this.#O),this._eventBus._off("rotationchanging",this.#R);for(const a of this.#n.values())a.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#c.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#k).direction)}editAltText(a){this.#r?.editAltText(this,a)}onPageChanging(a){let{pageNumber:f}=a;this.#s=f-1}focusMainContainer(){this.#k.focus()}findParent(a,f){for(const m of this.#n.values()){const{x:p,y:P,width:B,height:L}=m.div.getBoundingClientRect();if(a>=p&&a<=p+B&&f>=P&&f<=P+L)return m}return null}disableUserSelect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#_.classList.toggle("noUserSelect",a)}addShouldRescale(a){this.#f.add(a)}removeShouldRescale(a){this.#f.delete(a)}onScaleChanging(a){let{scale:f}=a;this.commitOrRemove(),this.viewParameters.realScale=f*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const m of this.#f)m.onScaleChanging()}onRotationChanging(a){let{pagesRotation:f}=a;this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(a){!a.isEmpty()&&this.#o&&!this.#o.has(a.id)&&this.#o.setValue(a.id,a)}#B(){window.addEventListener("focus",this.#E),window.addEventListener("blur",this.#x)}#U(){window.removeEventListener("focus",this.#E),window.removeEventListener("blur",this.#x)}blur(){if(!this.hasSelection)return;const{activeElement:a}=document;for(const f of this.#c)if(f.div.contains(a)){this.#m=[f,a],f._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[a,f]=this.#m;this.#m=null,f.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0}),f.focus()}#z(){window.addEventListener("keydown",this.#L,{capture:!0})}#F(){window.removeEventListener("keydown",this.#L,{capture:!0})}#I(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#P),document.addEventListener("paste",this.#D)}#C(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#P),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#z(),this.#I()}removeEditListeners(){this.#F(),this.#C()}copy(a){if(a.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const f=[];for(const m of this.#c){const p=m.serialize(!0);p&&f.push(p)}f.length!==0&&a.clipboardData.setData("application/pdfjs",JSON.stringify(f))}cut(a){this.copy(a),this.delete()}paste(a){a.preventDefault();const{clipboardData:f}=a;for(const P of f.items)for(const B of this.#i)if(B.isHandlingMimeForPasting(P.type)){B.paste(P,this.currentLayer);return}let m=f.getData("application/pdfjs");if(!m)return;try{m=JSON.parse(m)}catch(P){(0,o.warn)(`paste: "${P.message}".`);return}if(!Array.isArray(m))return;this.unselectAll();const p=this.currentLayer;try{const P=[];for(const C of m){const I=p.deserialize(C);if(!I)return;P.push(I)}const B=()=>{for(const C of P)this.#$(C);this.#V(P)},L=()=>{for(const C of P)C.remove()};this.addCommands({cmd:B,undo:L,mustExec:!0})}catch(P){(0,o.warn)(`paste: "${P.message}".`)}}keydown(a){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,a)}onEditingAction(a){["undo","redo","delete","selectAll"].includes(a.name)&&this[a.name]()}#b(a){Object.entries(a).some(m=>{let[p,P]=m;return this.#M[p]!==P})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#M,a)})}#W(a){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:a})}setEditingState(a){a?(this.#B(),this.#z(),this.#I(),this.#b({isEditing:this.#g!==o.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#U(),this.#F(),this.#C(),this.#b({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(a){if(!this.#i){this.#i=a;for(const f of this.#i)this.#W(f.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(a){return this.#n.get(a)}get currentPageIndex(){return this.#s}addLayer(a){this.#n.set(a.pageIndex,a),this.#p?a.enable():a.disable()}removeLayer(a){this.#n.delete(a.pageIndex)}updateMode(a){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.#g!==a){if(this.#g=a,a===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#X();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const m of this.#n.values())m.updateMode(a);if(f){for(const m of this.#t.values())if(m.annotationElementId===f){this.setSelected(m),m.enterInEditMode();break}}}}updateToolbar(a){a!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:a})}updateParams(a,f){if(this.#i){if(a===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(a);return}for(const m of this.#c)m.updateParams(a,f);for(const m of this.#i)m.updateDefaultParams(a,f)}}enableWaiting(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#v!==a){this.#v=a;for(const f of this.#n.values())a?f.disableClick():f.enableClick(),f.div.classList.toggle("waiting",a)}}#G(){if(!this.#p){this.#p=!0;for(const a of this.#n.values())a.enable()}}#X(){if(this.unselectAll(),this.#p){this.#p=!1;for(const a of this.#n.values())a.disable()}}getEditors(a){const f=[];for(const m of this.#t.values())m.pageIndex===a&&f.push(m);return f}getEditor(a){return this.#t.get(a)}addEditor(a){this.#t.set(a.id,a)}removeEditor(a){this.#t.delete(a.id),this.unselect(a),(!a.annotationElementId||!this.#l.has(a.annotationElementId))&&this.#o?.remove(a.id)}addDeletedAnnotationElement(a){this.#l.add(a.annotationElementId),a.deleted=!0}isDeletedAnnotationElement(a){return this.#l.has(a)}removeDeletedAnnotationElement(a){this.#l.delete(a.annotationElementId),a.deleted=!1}#$(a){const f=this.#n.get(a.pageIndex);f?f.addOrRebuild(a):this.addEditor(a)}setActiveEditor(a){this.#e!==a&&(this.#e=a,a&&this.#W(a.propertiesToUpdate))}toggleSelected(a){if(this.#c.has(a)){this.#c.delete(a),a.unselect(),this.#b({hasSelectedEditor:this.hasSelection});return}this.#c.add(a),a.select(),this.#W(a.propertiesToUpdate),this.#b({hasSelectedEditor:!0})}setSelected(a){for(const f of this.#c)f!==a&&f.unselect();this.#c.clear(),this.#c.add(a),a.select(),this.#W(a.propertiesToUpdate),this.#b({hasSelectedEditor:!0})}isSelected(a){return this.#c.has(a)}unselect(a){a.unselect(),this.#c.delete(a),this.#b({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#a.undo(),this.#b({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#a.redo(),this.#b({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(a){this.#a.add(a),this.#b({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const a of this.#t.values())return a.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const a=[...this.#c],f=()=>{for(const p of a)p.remove()},m=()=>{for(const p of a)this.#$(p)};this.addCommands({cmd:f,undo:m,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#V(a){this.#c.clear();for(const f of a)f.isEmpty()||(this.#c.add(f),f.select());this.#b({hasSelectedEditor:!0})}selectAll(){for(const a of this.#c)a.commit();this.#V(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const a of this.#c)a.unselect();this.#c.clear(),this.#b({hasSelectedEditor:!1})}}translateSelectedEditors(a,f){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;this.#S[0]+=a,this.#S[1]+=f;const[p,P]=this.#S,B=[...this.#c],L=1e3;this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.#w=null,this.#S[0]=this.#S[1]=0,this.addCommands({cmd:()=>{for(const C of B)this.#t.has(C.id)&&C.translateInPage(p,P)},undo:()=>{for(const C of B)this.#t.has(C.id)&&C.translateInPage(-p,-P)},mustExec:!1})},L);for(const C of B)C.translateInPage(a,f)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const a of this.#c)this.#u.set(a,{savedX:a.x,savedY:a.y,savedPageIndex:a.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const a=this.#u;this.#u=null;let f=!1;for(const[{x:p,y:P,pageIndex:B},L]of a)L.newX=p,L.newY=P,L.newPageIndex=B,f||=p!==L.savedX||P!==L.savedY||B!==L.savedPageIndex;if(!f)return!1;const m=(p,P,B,L)=>{if(this.#t.has(p.id)){const C=this.#n.get(L);C?p._setParentAndPosition(C,P,B):(p.pageIndex=L,p.x=P,p.y=B)}};return this.addCommands({cmd:()=>{for(const[p,{newX:P,newY:B,newPageIndex:L}]of a)m(p,P,B,L)},undo:()=>{for(const[p,{savedX:P,savedY:B,savedPageIndex:L}]of a)m(p,P,B,L)},mustExec:!0}),!0}dragSelectedEditors(a,f){if(this.#u)for(const m of this.#u.keys())m.drag(a,f)}rebuild(a){if(a.parent===null){const f=this.getLayer(a.pageIndex);f?(f.changeParent(a),f.addOrRebuild(a)):(this.addEditor(a),this.addToAnnotationStorage(a),a.rebuild())}else a.parent.addOrRebuild(a)}isActive(a){return this.#e===a}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,o.shadow)(this,"imageManager",new O)}}d.AnnotationEditorUIManager=g}),((b,d,r)=>{var o=r(3),c=r(6),A=r(4),E=r(24),R=r(14),O=r(8),u=r(21),s=r(20),l=r(91),g=r(39),v=r(77),a=r(64),f=r(159),m=r(7),p=r(167),P=r(27),B=A.JSON,L=A.Number,C=A.SyntaxError,I=B&&B.parse,H=E("Object","keys"),X=Object.getOwnPropertyDescriptor,$=R("".charAt),Q=R("".slice),J=R(/./.exec),he=R([].push),ue=/^\d$/,de=/^[1-9]$/,fe=/^(?:-|\d)$/,re=/^[\t\n\r ]$/,Y=0,M=1,x=function(y,w){y=v(y);var F=new W(y,0),N=F.parse(),D=N.value,G=F.skip(re,N.end);if(G<y.length)throw C('Unexpected extra character: "'+$(y,G)+'" after the parsed data at: '+G);return u(w)?k({"":D},"",w,N):D},k=function(y,w,F,N){var D=y[w],G=N&&D===N.value,j=G&&typeof N.source=="string"?{source:N.source}:{},te,Ae,se,le,pe;if(s(D)){var ge=l(D),me=G?N.nodes:ge?[]:{};if(ge)for(te=me.length,se=a(D),le=0;le<se;le++)T(D,le,k(D,""+le,F,le<te?me[le]:void 0));else for(Ae=H(D),se=a(Ae),le=0;le<se;le++)pe=Ae[le],T(D,pe,k(D,pe,F,g(me,pe)?me[pe]:void 0))}return O(F,y,w,D,j)},T=function(y,w,F){if(c){var N=X(y,w);if(N&&!N.configurable)return}F===void 0?delete y[w]:f(y,w,F)},_=function(y,w,F,N){this.value=y,this.end=w,this.source=F,this.nodes=N},W=function(y,w){this.source=y,this.index=w};W.prototype={fork:function(y){return new W(this.source,y)},parse:function(){var y=this.source,w=this.skip(re,this.index),F=this.fork(w),N=$(y,w);if(J(fe,N))return F.number();switch(N){case"{":return F.object();case"[":return F.array();case'"':return F.string();case"t":return F.keyword(!0);case"f":return F.keyword(!1);case"n":return F.keyword(null)}throw C('Unexpected character: "'+N+'" at: '+w)},node:function(y,w,F,N,D){return new _(w,N,y?null:Q(this.source,F,N),D)},object:function(){for(var y=this.source,w=this.index+1,F=!1,N={},D={};w<y.length;){if(w=this.until(['"',"}"],w),$(y,w)==="}"&&!F){w++;break}var G=this.fork(w).string(),j=G.value;w=G.end,w=this.until([":"],w)+1,w=this.skip(re,w),G=this.fork(w).parse(),f(D,j,G),f(N,j,G.value),w=this.until([",","}"],G.end);var te=$(y,w);if(te===",")F=!0,w++;else if(te==="}"){w++;break}}return this.node(M,N,this.index,w,D)},array:function(){for(var y=this.source,w=this.index+1,F=!1,N=[],D=[];w<y.length;){if(w=this.skip(re,w),$(y,w)==="]"&&!F){w++;break}var G=this.fork(w).parse();if(he(D,G),he(N,G.value),w=this.until([",","]"],G.end),$(y,w)===",")F=!0,w++;else if($(y,w)==="]"){w++;break}}return this.node(M,N,this.index,w,D)},string:function(){var y=this.index,w=p(this.source,this.index+1);return this.node(Y,w.value,y,w.end)},number:function(){var y=this.source,w=this.index,F=w;if($(y,F)==="-"&&F++,$(y,F)==="0")F++;else if(J(de,$(y,F)))F=this.skip(ue,++F);else throw C("Failed to parse number at: "+F);if($(y,F)==="."&&(F=this.skip(ue,++F)),$(y,F)==="e"||$(y,F)==="E"){F++,($(y,F)==="+"||$(y,F)==="-")&&F++;var N=F;if(F=this.skip(ue,F),N===F)throw C("Failed to parse number's exponent value at: "+F)}return this.node(Y,L(Q(y,w,F)),w,F)},keyword:function(y){var w=""+y,F=this.index,N=F+w.length;if(Q(this.source,F,N)!==w)throw C("Failed to parse value at: "+F);return this.node(Y,y,F,N)},skip:function(y,w){for(var F=this.source;w<F.length&&J(y,$(F,w));w++);return w},until:function(y,w){w=this.skip(re,w);for(var F=$(this.source,w),N=0;N<y.length;N++)if(y[N]===F)return w;throw C('Unexpected character: "'+F+'" at: '+w)}};var V=m(function(){var y="9007199254740993",w;return I(y,function(F,N,D){w=D.source}),w!==y}),z=P&&!m(function(){return 1/I("-0 	")!==-1/0});o({target:"JSON",stat:!0,forced:V},{parse:function(w,F){return z&&!u(F)?I(w):x(w,F)}})}),((b,d,r)=>{var o=r(14),c=r(39),A=SyntaxError,E=parseInt,R=String.fromCharCode,O=o("".charAt),u=o("".slice),s=o(/./.exec),l={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},g=/^[\da-f]{4}$/i,v=/^[\u0000-\u001F]$/;b.exports=function(a,f){for(var m=!0,p="";f<a.length;){var P=O(a,f);if(P==="\\"){var B=u(a,f,f+2);if(c(l,B))p+=l[B],f+=2;else if(B==="\\u"){f+=2;var L=u(a,f,f+4);if(!s(g,L))throw A("Bad Unicode escape at: "+f);p+=R(E(L,16)),f+=4}else throw A('Unknown escape sequence: "'+B+'"')}else if(P==='"'){m=!1,f++;break}else{if(s(v,P))throw A("Bad control character in string literal at: "+f);p+=P,f++}}if(m)throw A("Unterminated string at: "+f);return{value:p,end:f}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StatTimer=d.RenderingCancelledException=d.PixelsPerInch=d.PageViewport=d.PDFDateString=d.DOMStandardFontDataFactory=d.DOMSVGFactory=d.DOMFilterFactory=d.DOMCanvasFactory=d.DOMCMapReaderFactory=void 0,d.deprecated=H,d.getColorValues=he,d.getCurrentTransform=ue,d.getCurrentTransformInverse=de,d.getFilenameFromUrl=p,d.getPdfFilenameFromUrl=P,d.getRGB=J,d.getXfaPageViewport=Q,d.isDataScheme=f,d.isPdfFile=m,d.isValidFetchUrl=L,d.loadScript=I,d.noContextMenu=C,d.setLayerDimensions=fe,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89),r(84),r(86),r(87);var o=r(169),c=r(1);const A="http://www.w3.org/2000/svg";class E{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}d.PixelsPerInch=E;class R extends o.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#u;#i;#f=0;constructor(){let{docId:Y,ownerDocument:M=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.#n=Y,this.#r=M}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const Y=this.#r.createElement("div"),{style:M}=Y;M.visibility="hidden",M.contain="strict",M.width=M.height=0,M.position="absolute",M.top=M.left=0,M.zIndex=-1;const x=this.#r.createElementNS(A,"svg");x.setAttribute("width",0),x.setAttribute("height",0),this.#t=this.#r.createElementNS(A,"defs"),Y.append(x),x.append(this.#t),this.#r.body.append(Y)}return this.#t}addFilter(Y){if(!Y)return"none";let M=this.#d.get(Y);if(M)return M;let x,k,T,_;if(Y.length===1){const y=Y[0],w=new Array(256);for(let F=0;F<256;F++)w[F]=y[F]/255;_=x=k=T=w.join(",")}else{const[y,w,F]=Y,N=new Array(256),D=new Array(256),G=new Array(256);for(let j=0;j<256;j++)N[j]=y[j]/255,D[j]=w[j]/255,G[j]=F[j]/255;x=N.join(","),k=D.join(","),T=G.join(","),_=`${x}${k}${T}`}if(M=this.#d.get(_),M)return this.#d.set(Y,M),M;const W=`g_${this.#n}_transfer_map_${this.#f++}`,V=`url(#${W})`;this.#d.set(Y,V),this.#d.set(_,V);const z=this.#v(W);return this.#g(x,k,T,z),V}addHCMFilter(Y,M){const x=`${Y}-${M}`;if(this.#a===x)return this.#s;if(this.#a=x,this.#s="none",this.#o?.remove(),!Y||!M)return this.#s;const k=this.#c(Y);Y=c.Util.makeHexColor(...k);const T=this.#c(M);if(M=c.Util.makeHexColor(...T),this.#h.style.color="",Y==="#000000"&&M==="#ffffff"||Y===M)return this.#s;const _=new Array(256);for(let w=0;w<=255;w++){const F=w/255;_[w]=F<=.03928?F/12.92:((F+.055)/1.055)**2.4}const W=_.join(","),V=`g_${this.#n}_hcm_filter`,z=this.#l=this.#v(V);this.#g(W,W,W,z),this.#p(z);const y=(w,F)=>{const N=k[w]/255,D=T[w]/255,G=new Array(F+1);for(let j=0;j<=F;j++)G[j]=N+j/F*(D-N);return G.join(",")};return this.#g(y(0,5),y(1,5),y(2,5),z),this.#s=`url(#${V})`,this.#s}addHighlightHCMFilter(Y,M,x,k){const T=`${Y}-${M}-${x}-${k}`;if(this.#u===T)return this.#i;if(this.#u=T,this.#i="none",this.#l?.remove(),!Y||!M)return this.#i;const[_,W]=[Y,M].map(this.#c.bind(this));let V=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),z=Math.round(.2126*W[0]+.7152*W[1]+.0722*W[2]),[y,w]=[x,k].map(this.#c.bind(this));z<V&&([V,z,y,w]=[z,V,w,y]),this.#h.style.color="";const F=(G,j,te)=>{const Ae=new Array(256),se=(z-V)/te,le=G/255,pe=(j-G)/(255*te);let ge=0;for(let me=0;me<=te;me++){const ke=Math.round(V+me*se),we=le+me*pe;for(let Oe=ge;Oe<=ke;Oe++)Ae[Oe]=we;ge=ke+1}for(let me=ge;me<256;me++)Ae[me]=Ae[ge-1];return Ae.join(",")},N=`g_${this.#n}_hcm_highlight_filter`,D=this.#l=this.#v(N);return this.#p(D),this.#g(F(y[0],w[0],5),F(y[1],w[1],5),F(y[2],w[2],5),D),this.#i=`url(#${N})`,this.#i}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(Y){const M=this.#r.createElementNS(A,"feColorMatrix");M.setAttribute("type","matrix"),M.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(M)}#v(Y){const M=this.#r.createElementNS(A,"filter");return M.setAttribute("color-interpolation-filters","sRGB"),M.setAttribute("id",Y),this.#h.append(M),M}#m(Y,M,x){const k=this.#r.createElementNS(A,M);k.setAttribute("type","discrete"),k.setAttribute("tableValues",x),Y.append(k)}#g(Y,M,x,k){const T=this.#r.createElementNS(A,"feComponentTransfer");k.append(T),this.#m(T,"feFuncR",Y),this.#m(T,"feFuncG",M),this.#m(T,"feFuncB",x)}#c(Y){return this.#h.style.color=Y,J(getComputedStyle(this.#h).getPropertyValue("color"))}}d.DOMFilterFactory=R;class O extends o.BaseCanvasFactory{constructor(){let{ownerDocument:Y=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Y}_createCanvas(Y,M){const x=this._document.createElement("canvas");return x.width=Y,x.height=M,x}}d.DOMCanvasFactory=O;async function u(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L(re,document.baseURI)){const M=await fetch(re);if(!M.ok)throw new Error(M.statusText);return Y?new Uint8Array(await M.arrayBuffer()):(0,c.stringToBytes)(await M.text())}return new Promise((M,x)=>{const k=new XMLHttpRequest;k.open("GET",re,!0),Y&&(k.responseType="arraybuffer"),k.onreadystatechange=()=>{if(k.readyState===XMLHttpRequest.DONE){if(k.status===200||k.status===0){let T;if(Y&&k.response?T=new Uint8Array(k.response):!Y&&k.responseText&&(T=(0,c.stringToBytes)(k.responseText)),T){M(T);return}}x(new Error(k.statusText))}},k.send(null)})}class s extends o.BaseCMapReaderFactory{_fetchData(Y,M){return u(Y,this.isCompressed).then(x=>({cMapData:x,compressionType:M}))}}d.DOMCMapReaderFactory=s;class l extends o.BaseStandardFontDataFactory{_fetchData(Y){return u(Y,!0)}}d.DOMStandardFontDataFactory=l;class g extends o.BaseSVGFactory{_createSVG(Y){return document.createElementNS(A,Y)}}d.DOMSVGFactory=g;class v{constructor(Y){let{viewBox:M,scale:x,rotation:k,offsetX:T=0,offsetY:_=0,dontFlip:W=!1}=Y;this.viewBox=M,this.scale=x,this.rotation=k,this.offsetX=T,this.offsetY=_;const V=(M[2]+M[0])/2,z=(M[3]+M[1])/2;let y,w,F,N;switch(k%=360,k<0&&(k+=360),k){case 180:y=-1,w=0,F=0,N=1;break;case 90:y=0,w=1,F=1,N=0;break;case 270:y=0,w=-1,F=-1,N=0;break;case 0:y=1,w=0,F=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(F=-F,N=-N);let D,G,j,te;y===0?(D=Math.abs(z-M[1])*x+T,G=Math.abs(V-M[0])*x+_,j=(M[3]-M[1])*x,te=(M[2]-M[0])*x):(D=Math.abs(V-M[0])*x+T,G=Math.abs(z-M[1])*x+_,j=(M[2]-M[0])*x,te=(M[3]-M[1])*x),this.transform=[y*x,w*x,F*x,N*x,D-y*x*V-F*x*z,G-w*x*V-N*x*z],this.width=j,this.height=te}get rawDims(){const{viewBox:Y}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone(){let{scale:Y=this.scale,rotation:M=this.rotation,offsetX:x=this.offsetX,offsetY:k=this.offsetY,dontFlip:T=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new v({viewBox:this.viewBox.slice(),scale:Y,rotation:M,offsetX:x,offsetY:k,dontFlip:T})}convertToViewportPoint(Y,M){return c.Util.applyTransform([Y,M],this.transform)}convertToViewportRectangle(Y){const M=c.Util.applyTransform([Y[0],Y[1]],this.transform),x=c.Util.applyTransform([Y[2],Y[3]],this.transform);return[M[0],M[1],x[0],x[1]]}convertToPdfPoint(Y,M){return c.Util.applyInverseTransform([Y,M],this.transform)}}d.PageViewport=v;class a extends c.BaseException{constructor(Y){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Y,"RenderingCancelledException"),this.extraDelay=M}}d.RenderingCancelledException=a;function f(re){const Y=re.length;let M=0;for(;M<Y&&re[M].trim()==="";)M++;return re.substring(M,M+5).toLowerCase()==="data:"}function m(re){return typeof re=="string"&&/\.pdf$/i.test(re)}function p(re){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([re]=re.split(/[#?]/,1)),re.substring(re.lastIndexOf("/")+1)}function P(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof re!="string")return Y;if(f(re))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const M=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,x=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,k=M.exec(re);let T=x.exec(k[1])||x.exec(k[2])||x.exec(k[3]);if(T&&(T=T[0],T.includes("%")))try{T=x.exec(decodeURIComponent(T))[0]}catch{}return T||Y}class B{started=Object.create(null);times=[];time(Y){Y in this.started&&(0,c.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,c.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let M=0;for(const{name:x}of this.times)M=Math.max(x.length,M);for(const{name:x,start:k,end:T}of this.times)Y.push(`${x.padEnd(M)} ${T-k}ms
`);return Y.join("")}}d.StatTimer=B;function L(re,Y){try{const{protocol:M}=Y?new URL(re,Y):new URL(re);return M==="http:"||M==="https:"}catch{return!1}}function C(re){re.preventDefault()}function I(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((M,x)=>{const k=document.createElement("script");k.src=re,k.onload=function(T){Y&&k.remove(),M(T)},k.onerror=function(){x(new Error(`Cannot load script at: ${k.src}`))},(document.head||document.documentElement).append(k)})}function H(re){console.log("Deprecated API usage: "+re)}let X;class ${static toDateObject(Y){if(!Y||typeof Y!="string")return null;X||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const M=X.exec(Y);if(!M)return null;const x=parseInt(M[1],10);let k=parseInt(M[2],10);k=k>=1&&k<=12?k-1:0;let T=parseInt(M[3],10);T=T>=1&&T<=31?T:1;let _=parseInt(M[4],10);_=_>=0&&_<=23?_:0;let W=parseInt(M[5],10);W=W>=0&&W<=59?W:0;let V=parseInt(M[6],10);V=V>=0&&V<=59?V:0;const z=M[7]||"Z";let y=parseInt(M[8],10);y=y>=0&&y<=23?y:0;let w=parseInt(M[9],10)||0;return w=w>=0&&w<=59?w:0,z==="-"?(_+=y,W+=w):z==="+"&&(_-=y,W-=w),new Date(Date.UTC(x,k,T,_,W,V))}}d.PDFDateString=$;function Q(re,Y){let{scale:M=1,rotation:x=0}=Y;const{width:k,height:T}=re.attributes.style,_=[0,0,parseInt(k),parseInt(T)];return new v({viewBox:_,scale:M,rotation:x})}function J(re){if(re.startsWith("#")){const Y=parseInt(re.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return re.startsWith("rgb(")?re.slice(4,-1).split(",").map(Y=>parseInt(Y)):re.startsWith("rgba(")?re.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,c.warn)(`Not a valid color format: "${re}"`),[0,0,0])}function he(re){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const M of re.keys()){Y.style.color=M;const x=window.getComputedStyle(Y).color;re.set(M,J(x))}Y.remove()}function ue(re){const{a:Y,b:M,c:x,d:k,e:T,f:_}=re.getTransform();return[Y,M,x,k,T,_]}function de(re){const{a:Y,b:M,c:x,d:k,e:T,f:_}=re.getTransform().invertSelf();return[Y,M,x,k,T,_]}function fe(re,Y){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Y instanceof v){const{pageWidth:k,pageHeight:T}=Y.rawDims,{style:_}=re,W=c.FeatureTest.isCSSRoundSupported,V=`var(--scale-factor) * ${k}px`,z=`var(--scale-factor) * ${T}px`,y=W?`round(${V}, 1px)`:`calc(${V})`,w=W?`round(${z}, 1px)`:`calc(${z})`;!M||Y.rotation%180===0?(_.width=y,_.height=w):(_.width=w,_.height=y)}x&&re.setAttribute("data-main-rotation",Y.rotation)}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseStandardFontDataFactory=d.BaseSVGFactory=d.BaseFilterFactory=d.BaseCanvasFactory=d.BaseCMapReaderFactory=void 0,r(2);var o=r(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(s){return"none"}addHCMFilter(s,l){return"none"}addHighlightHCMFilter(s,l,g,v){return"none"}destroy(){}}d.BaseFilterFactory=c;class A{constructor(){this.constructor===A&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,l){if(s<=0||l<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(s,l);return{canvas:g,context:g.getContext("2d")}}reset(s,l,g){if(!s.canvas)throw new Error("Canvas is not specified");if(l<=0||g<=0)throw new Error("Invalid canvas size");s.canvas.width=l,s.canvas.height=g}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,l){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}d.BaseCanvasFactory=A;class E{constructor(s){let{baseUrl:l=null,isCompressed:g=!0}=s;this.constructor===E&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=g}async fetch(s){let{name:l}=s;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const g=this.baseUrl+l+(this.isCompressed?".bcmap":""),v=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(g,v).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${g}`)})}_fetchData(s,l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}d.BaseCMapReaderFactory=E;class R{constructor(s){let{baseUrl:l=null}=s;this.constructor===R&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch(s){let{filename:l}=s;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const g=`${this.baseUrl}${l}`;return this._fetchData(g).catch(v=>{throw new Error(`Unable to load font data at: ${g}`)})}_fetchData(s){(0,o.unreachable)("Abstract method `_fetchData` called.")}}d.BaseStandardFontDataFactory=R;class O{constructor(){this.constructor===O&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,l){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(s<=0||l<=0)throw new Error("Invalid SVG dimensions");const v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),g||(v.setAttribute("width",`${s}px`),v.setAttribute("height",`${l}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${s} ${l}`),v}createElement(s){if(typeof s!="string")throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,o.unreachable)("Abstract method `_createSVG` called.")}}d.BaseSVGFactory=O}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MurmurHash3_64=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2);var o=r(1);const c=3285377520,A=4294901760,E=65535;class R{constructor(u){this.h1=u?u&4294967295:c,this.h2=u?u&4294967295:c}update(u){let s,l;if(typeof u=="string"){s=new Uint8Array(u.length*2),l=0;for(let H=0,X=u.length;H<X;H++){const $=u.charCodeAt(H);$<=255?s[l++]=$:(s[l++]=$>>>8,s[l++]=$&255)}}else if((0,o.isArrayBuffer)(u))s=u.slice(),l=s.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const g=l>>2,v=l-g*4,a=new Uint32Array(s.buffer,0,g);let f=0,m=0,p=this.h1,P=this.h2;const B=3432918353,L=461845907,C=B&E,I=L&E;for(let H=0;H<g;H++)H&1?(f=a[H],f=f*B&A|f*C&E,f=f<<15|f>>>17,f=f*L&A|f*I&E,p^=f,p=p<<13|p>>>19,p=p*5+3864292196):(m=a[H],m=m*B&A|m*C&E,m=m<<15|m>>>17,m=m*L&A|m*I&E,P^=m,P=P<<13|P>>>19,P=P*5+3864292196);switch(f=0,v){case 3:f^=s[g*4+2]<<16;case 2:f^=s[g*4+1]<<8;case 1:f^=s[g*4],f=f*B&A|f*C&E,f=f<<15|f>>>17,f=f*L&A|f*I&E,g&1?p^=f:P^=f}this.h1=p,this.h2=P}hexdigest(){let u=this.h1,s=this.h2;return u^=s>>>1,u=u*3981806797&A|u*36045&E,s=s*4283543511&A|((s<<16|u>>>16)*2950163797&A)>>>16,u^=s>>>1,u=u*444984403&A|u*60499&E,s=s*3301882366&A|((s<<16|u>>>16)*3120437893&A)>>>16,u^=s>>>1,(u>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}d.MurmurHash3_64=R}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FontLoader=d.FontFaceObject=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(89),r(149);var o=r(1);class c{#e=new Set;constructor(R){let{ownerDocument:O=globalThis.document,styleElement:u=null}=R;this._document=O,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(R){this.nativeFontFaces.add(R),this._document.fonts.add(R)}removeNativeFontFace(R){this.nativeFontFaces.delete(R),this._document.fonts.delete(R)}insertRule(R){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const O=this.styleElement.sheet;O.insertRule(R,O.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(R){if(!(!R||this.#e.has(R.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:O,src:u,style:s}=R,l=new FontFace(O,u,s);this.addNativeFontFace(l);try{await l.load(),this.#e.add(O)}catch{(0,o.warn)(`Cannot load system font: ${R.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(R){if(R.attached||R.missingFile&&!R.systemFontInfo)return;if(R.attached=!0,R.systemFontInfo){await this.loadSystemFont(R.systemFontInfo);return}if(this.isFontLoadingAPISupported){const u=R.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(s){throw(0,o.warn)(`Failed to load font '${u.family}': '${s}'.`),R.disableFontFace=!0,s}}return}const O=R.createFontFaceRule();if(O){if(this.insertRule(O),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const s=this._queueLoadingCallback(u);this._prepareFontLoadEvent(R,s)})}}get isFontLoadingAPISupported(){const R=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",R)}get isSyncFontLoadingSupported(){let R=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(R=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){function O(){for((0,o.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;u.length>0&&u[0].done;){const l=u.shift();setTimeout(l.callback,0)}}const{loadingRequests:u}=this,s={done:!1,complete:O,callback:R};return u.push(s),s}get _loadTestFont(){const R=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",R)}_prepareFontLoadEvent(R,O){function u(Q,J){return Q.charCodeAt(J)<<24|Q.charCodeAt(J+1)<<16|Q.charCodeAt(J+2)<<8|Q.charCodeAt(J+3)&255}function s(Q,J,he,ue){const de=Q.substring(0,J),fe=Q.substring(J+he);return de+ue+fe}let l,g;const v=this._document.createElement("canvas");v.width=1,v.height=1;const a=v.getContext("2d");let f=0;function m(Q,J){if(++f>30){(0,o.warn)("Load test font never loaded."),J();return}if(a.font="30px "+Q,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(m.bind(null,Q,J))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=s(P,976,p.length,p);const L=16,C=1482184792;let I=u(P,L);for(l=0,g=p.length-3;l<g;l+=4)I=I-C+u(p,l)|0;l<p.length&&(I=I-C+u(p+"XXX",l)|0),P=s(P,L,4,(0,o.string32)(I));const H=`url(data:font/opentype;base64,${btoa(P)});`,X=`@font-face {font-family:"${p}";src:${H}}`;this.insertRule(X);const $=this._document.createElement("div");$.style.visibility="hidden",$.style.width=$.style.height="10px",$.style.position="absolute",$.style.top=$.style.left="0px";for(const Q of[R.loadedName,p]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=Q,$.append(J)}this._document.body.append($),m(p,()=>{$.remove(),O.complete()})}}d.FontLoader=c;class A{constructor(R,O){let{isEvalSupported:u=!0,disableFontFace:s=!1,ignoreErrors:l=!1,inspectFont:g=null}=O;this.compiledGlyphs=Object.create(null);for(const v in R)this[v]=R[v];this.isEvalSupported=u!==!1,this.disableFontFace=s===!0,this.ignoreErrors=l===!0,this._inspectFont=g}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(!this.cssFontInfo)R=new FontFace(this.loadedName,this.data,{});else{const O={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(O.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,O)}return this._inspectFont?.(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,o.bytesToString)(this.data),O=`url(data:${this.mimetype};base64,${btoa(R)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${O}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${O}}`}return this._inspectFont?.(this,O),u}getPathGenerator(R,O){if(this.compiledGlyphs[O]!==void 0)return this.compiledGlyphs[O];let u;try{u=R.get(this.loadedName+"_path_"+O)}catch(s){if(!this.ignoreErrors)throw s;return(0,o.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[O]=function(l,g){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const s=[];for(const l of u){const g=l.args!==void 0?l.args.join(","):"";s.push("c.",l.cmd,"(",g,`);
`)}return this.compiledGlyphs[O]=new Function("c","size",s.join(""))}return this.compiledGlyphs[O]=function(s,l){for(const g of u)g.cmd==="scale"&&(g.args=[l,-l]),s[g.cmd].apply(s,g.args)}}}d.FontFaceObject=A}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NodeStandardFontDataFactory=d.NodeFilterFactory=d.NodeCanvasFactory=d.NodeCMapReaderFactory=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(169),c=r(1);(function(){if(!(globalThis.DOMMatrix||!c.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(l){(0,c.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${l}".`)}})(),(function(){if(!(globalThis.Path2D||!c.isNodeJS))try{const{CanvasRenderingContext2D:l}=require$$6,{polyfillPath2D:g}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=l,g(globalThis)}catch(l){(0,c.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${l}".`)}})();const A=function(s){return new Promise((l,g)=>{require$$6.readFile(s,(a,f)=>{if(a||!f){g(new Error(a));return}l(new Uint8Array(f))})})};class E extends o.BaseFilterFactory{}d.NodeFilterFactory=E;class R extends o.BaseCanvasFactory{_createCanvas(l,g){return require$$6.createCanvas(l,g)}}d.NodeCanvasFactory=R;class O extends o.BaseCMapReaderFactory{_fetchData(l,g){return A(l).then(v=>({cMapData:v,compressionType:g}))}}d.NodeCMapReaderFactory=O;class u extends o.BaseStandardFontDataFactory{_fetchData(l){return A(l)}}d.NodeStandardFontDataFactory=u}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CanvasGraphics=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(168),A=r(174),E=r(175);const R=16,O=100,u=4096,s=15,l=10,g=1e3,v=16;function a(M,x){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){x.save(),this.__originalSave()},M.restore=function(){x.restore(),this.__originalRestore()},M.translate=function(T,_){x.translate(T,_),this.__originalTranslate(T,_)},M.scale=function(T,_){x.scale(T,_),this.__originalScale(T,_)},M.transform=function(T,_,W,V,z,y){x.transform(T,_,W,V,z,y),this.__originalTransform(T,_,W,V,z,y)},M.setTransform=function(T,_,W,V,z,y){x.setTransform(T,_,W,V,z,y),this.__originalSetTransform(T,_,W,V,z,y)},M.resetTransform=function(){x.resetTransform(),this.__originalResetTransform()},M.rotate=function(T){x.rotate(T),this.__originalRotate(T)},M.clip=function(T){x.clip(T),this.__originalClip(T)},M.moveTo=function(k,T){x.moveTo(k,T),this.__originalMoveTo(k,T)},M.lineTo=function(k,T){x.lineTo(k,T),this.__originalLineTo(k,T)},M.bezierCurveTo=function(k,T,_,W,V,z){x.bezierCurveTo(k,T,_,W,V,z),this.__originalBezierCurveTo(k,T,_,W,V,z)},M.rect=function(k,T,_,W){x.rect(k,T,_,W),this.__originalRect(k,T,_,W)},M.closePath=function(){x.closePath(),this.__originalClosePath()},M.beginPath=function(){x.beginPath(),this.__originalBeginPath()}}class f{constructor(x){this.canvasFactory=x,this.cache=Object.create(null)}getCanvas(x,k,T){let _;return this.cache[x]!==void 0?(_=this.cache[x],this.canvasFactory.reset(_,k,T)):(_=this.canvasFactory.create(k,T),this.cache[x]=_),_}delete(x){delete this.cache[x]}clear(){for(const x in this.cache){const k=this.cache[x];this.canvasFactory.destroy(k),delete this.cache[x]}}}function m(M,x,k,T,_,W,V,z,y,w){const[F,N,D,G,j,te]=(0,c.getCurrentTransform)(M);if(N===0&&D===0){const le=V*F+j,pe=Math.round(le),ge=z*G+te,me=Math.round(ge),ke=(V+y)*F+j,we=Math.abs(Math.round(ke)-pe)||1,Oe=(z+w)*G+te,Ue=Math.abs(Math.round(Oe)-me)||1;return M.setTransform(Math.sign(F),0,0,Math.sign(G),pe,me),M.drawImage(x,k,T,_,W,0,0,we,Ue),M.setTransform(F,N,D,G,j,te),[we,Ue]}if(F===0&&G===0){const le=z*D+j,pe=Math.round(le),ge=V*N+te,me=Math.round(ge),ke=(z+w)*D+j,we=Math.abs(Math.round(ke)-pe)||1,Oe=(V+y)*N+te,Ue=Math.abs(Math.round(Oe)-me)||1;return M.setTransform(0,Math.sign(N),Math.sign(D),0,pe,me),M.drawImage(x,k,T,_,W,0,0,Ue,we),M.setTransform(F,N,D,G,j,te),[Ue,we]}M.drawImage(x,k,T,_,W,V,z,y,w);const Ae=Math.hypot(F,N),se=Math.hypot(D,G);return[Ae*y,se*w]}function p(M){const{width:x,height:k}=M;if(x>g||k>g)return null;const T=1e3,_=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),W=x+1;let V=new Uint8Array(W*(k+1)),z,y,w;const F=x+7&-8;let N=new Uint8Array(F*k),D=0;for(const se of M.data){let le=128;for(;le>0;)N[D++]=se&le?0:255,le>>=1}let G=0;for(D=0,N[D]!==0&&(V[0]=1,++G),y=1;y<x;y++)N[D]!==N[D+1]&&(V[y]=N[D]?2:1,++G),D++;for(N[D]!==0&&(V[y]=2,++G),z=1;z<k;z++){D=z*F,w=z*W,N[D-F]!==N[D]&&(V[w]=N[D]?1:8,++G);let se=(N[D]?4:0)+(N[D-F]?8:0);for(y=1;y<x;y++)se=(se>>2)+(N[D+1]?4:0)+(N[D-F+1]?8:0),_[se]&&(V[w+y]=_[se],++G),D++;if(N[D-F]!==N[D]&&(V[w+y]=N[D]?2:4,++G),G>T)return null}for(D=F*(k-1),w=z*W,N[D]!==0&&(V[w]=8,++G),y=1;y<x;y++)N[D]!==N[D+1]&&(V[w+y]=N[D]?4:8,++G),D++;if(N[D]!==0&&(V[w+y]=4,++G),G>T)return null;const j=new Int32Array([0,W,-1,0,-W,0,0,0,1]),te=new Path2D;for(z=0;G&&z<=k;z++){let se=z*W;const le=se+x;for(;se<le&&!V[se];)se++;if(se===le)continue;te.moveTo(se%W,z);const pe=se;let ge=V[se];do{const me=j[ge];do se+=me;while(!V[se]);const ke=V[se];ke!==5&&ke!==10?(ge=ke,V[se]=0):(ge=ke&51*ge>>4,V[se]&=ge>>2|ge<<2),te.lineTo(se%W,se/W|0),V[se]||--G}while(pe!==se);--z}return N=null,V=null,function(se){se.save(),se.scale(1/x,-1/k),se.translate(0,-k),se.fill(te),se.beginPath(),se.restore()}}class P{constructor(x,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,x,k])}clone(){const x=Object.create(this);return x.clipBox=this.clipBox.slice(),x}setCurrentPoint(x,k){this.x=x,this.y=k}updatePathMinMax(x,k,T){[k,T]=o.Util.applyTransform([k,T],x),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,T)}updateRectMinMax(x,k){const T=o.Util.applyTransform(k,x),_=o.Util.applyTransform(k.slice(2),x);this.minX=Math.min(this.minX,T[0],_[0]),this.minY=Math.min(this.minY,T[1],_[1]),this.maxX=Math.max(this.maxX,T[0],_[0]),this.maxY=Math.max(this.maxY,T[1],_[1])}updateScalingPathMinMax(x,k){o.Util.scaleMinMax(x,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(x,k,T,_,W,V,z,y,w,F){const N=o.Util.bezierBoundingBox(k,T,_,W,V,z,y,w);if(F){F[0]=Math.min(F[0],N[0],N[2]),F[1]=Math.max(F[1],N[0],N[2]),F[2]=Math.min(F[2],N[1],N[3]),F[3]=Math.max(F[3],N[1],N[3]);return}this.updateRectMinMax(x,N)}getPathBoundingBox(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const T=[this.minX,this.minY,this.maxX,this.maxY];if(x===A.PathType.STROKE){k||(0,o.unreachable)("Stroke bounding box must include transform.");const _=o.Util.singularValueDecompose2dScale(k),W=_[0]*this.lineWidth/2,V=_[1]*this.lineWidth/2;T[0]-=W,T[1]-=V,T[2]+=W,T[3]+=V}return T}updateClipFromPath(){const x=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(x||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(x){this.clipBox=x,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.Util.intersect(this.clipBox,this.getPathBoundingBox(x,k))}}function B(M,x){if(typeof ImageData<"u"&&x instanceof ImageData){M.putImageData(x,0,0);return}const k=x.height,T=x.width,_=k%v,W=(k-_)/v,V=_===0?W:W+1,z=M.createImageData(T,v);let y=0,w;const F=x.data,N=z.data;let D,G,j,te;if(x.kind===o.ImageKind.GRAYSCALE_1BPP){const Ae=F.byteLength,se=new Uint32Array(N.buffer,0,N.byteLength>>2),le=se.length,pe=T+7>>3,ge=4294967295,me=o.FeatureTest.isLittleEndian?4278190080:255;for(D=0;D<V;D++){for(j=D<W?v:_,w=0,G=0;G<j;G++){const ke=Ae-y;let we=0;const Oe=ke>pe?T:ke*8-7,Ue=Oe&-8;let We=0,Ye=0;for(;we<Ue;we+=8)Ye=F[y++],se[w++]=Ye&128?ge:me,se[w++]=Ye&64?ge:me,se[w++]=Ye&32?ge:me,se[w++]=Ye&16?ge:me,se[w++]=Ye&8?ge:me,se[w++]=Ye&4?ge:me,se[w++]=Ye&2?ge:me,se[w++]=Ye&1?ge:me;for(;we<Oe;we++)We===0&&(Ye=F[y++],We=128),se[w++]=Ye&We?ge:me,We>>=1}for(;w<le;)se[w++]=0;M.putImageData(z,0,D*v)}}else if(x.kind===o.ImageKind.RGBA_32BPP){for(G=0,te=T*v*4,D=0;D<W;D++)N.set(F.subarray(y,y+te)),y+=te,M.putImageData(z,0,G),G+=v;D<V&&(te=T*_*4,N.set(F.subarray(y,y+te)),M.putImageData(z,0,G))}else if(x.kind===o.ImageKind.RGB_24BPP)for(j=v,te=T*j,D=0;D<V;D++){for(D>=W&&(j=_,te=T*j),w=0,G=te;G--;)N[w++]=F[y++],N[w++]=F[y++],N[w++]=F[y++],N[w++]=255;M.putImageData(z,0,D*v)}else throw new Error(`bad image kind: ${x.kind}`)}function L(M,x){if(x.bitmap){M.drawImage(x.bitmap,0,0);return}const k=x.height,T=x.width,_=k%v,W=(k-_)/v,V=_===0?W:W+1,z=M.createImageData(T,v);let y=0;const w=x.data,F=z.data;for(let N=0;N<V;N++){const D=N<W?v:_;({srcPos:y}=(0,E.convertBlackAndWhiteToRGBA)({src:w,srcPos:y,dest:F,width:T,height:D,nonBlackColor:0})),M.putImageData(z,0,N*v)}}function C(M,x){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const T of k)M[T]!==void 0&&(x[T]=M[T]);M.setLineDash!==void 0&&(x.setLineDash(M.getLineDash()),x.lineDashOffset=M.lineDashOffset)}function I(M){if(M.strokeStyle=M.fillStyle="#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0),!o.isNodeJS){const{filter:x}=M;x!=="none"&&x!==""&&(M.filter="none")}}function H(M,x,k,T){const _=M.length;for(let W=3;W<_;W+=4){const V=M[W];if(V===0)M[W-3]=x,M[W-2]=k,M[W-1]=T;else if(V<255){const z=255-V;M[W-3]=M[W-3]*V+x*z>>8,M[W-2]=M[W-2]*V+k*z>>8,M[W-1]=M[W-1]*V+T*z>>8}}}function X(M,x,k){const T=M.length,_=1/255;for(let W=3;W<T;W+=4){const V=k?k[M[W]]:M[W];x[W]=x[W]*V*_|0}}function $(M,x,k){const T=M.length;for(let _=3;_<T;_+=4){const W=M[_-3]*77+M[_-2]*152+M[_-1]*28;x[_]=k?x[_]*k[W>>8]>>8:x[_]*W>>16}}function Q(M,x,k,T,_,W,V,z,y,w,F){const N=!!W,D=N?W[0]:0,G=N?W[1]:0,j=N?W[2]:0,te=_==="Luminosity"?$:X,se=Math.min(T,Math.ceil(1048576/k));for(let le=0;le<T;le+=se){const pe=Math.min(se,T-le),ge=M.getImageData(z-w,le+(y-F),k,pe),me=x.getImageData(z,le+y,k,pe);N&&H(ge.data,D,G,j),te(ge.data,me.data,V),x.putImageData(me,z,le+y)}}function J(M,x,k,T){const _=T[0],W=T[1],V=T[2]-_,z=T[3]-W;V===0||z===0||(Q(x.context,k,V,z,x.subtype,x.backdrop,x.transferMap,_,W,x.offsetX,x.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(k.canvas,0,0),M.restore())}function he(M,x){const k=o.Util.singularValueDecompose2dScale(M);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const T=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return x!==void 0?x:k[0]<=T||k[1]<=T}const ue=["butt","round","square"],de=["miter","round","bevel"],fe={},re={};class Y{constructor(x,k,T,_,W,V,z,y){let{optionalContentConfig:w,markedContentStack:F=null}=V;this.ctx=x,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=T,this.canvasFactory=_,this.filterFactory=W,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=F||[],this.optionalContentConfig=w,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=z,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=y,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof x=="string"?x.startsWith("g_")?this.commonObjs.get(x):this.objs.get(x):k}beginDrawing(x){let{transform:k,viewport:T,transparency:_=!1,background:W=null}=x;const V=this.ctx.canvas.width,z=this.ctx.canvas.height,y=this.ctx.fillStyle;if(this.ctx.fillStyle=W||"#ffffff",this.ctx.fillRect(0,0,V,z),this.ctx.fillStyle=y,_){const w=this.cachedCanvases.getCanvas("transparent",V,z);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...T.transform),this.viewportScale=T.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(x,k,T,_){const W=x.argsArray,V=x.fnArray;let z=k||0;const y=W.length;if(y===z)return z;const w=y-z>l&&typeof T=="function",F=w?Date.now()+s:0;let N=0;const D=this.commonObjs,G=this.objs;let j;for(;;){if(_!==void 0&&z===_.nextBreakPoint)return _.breakIt(z,T),z;if(j=V[z],j!==o.OPS.dependency)this[j].apply(this,W[z]);else for(const te of W[z]){const Ae=te.startsWith("g_")?D:G;if(!Ae.has(te))return Ae.get(te,T),z}if(z++,z===y)return z;if(w&&++N>l){if(Date.now()>F)return T(),z;N=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const x of this._cachedBitmapsMap.values()){for(const k of x.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);x.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const x=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(x!=="none"){const k=this.ctx.filter;this.ctx.filter=x,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=k}}}_scaleImage(x,k){const T=x.width,_=x.height;let W=Math.max(Math.hypot(k[0],k[1]),1),V=Math.max(Math.hypot(k[2],k[3]),1),z=T,y=_,w="prescale1",F,N;for(;W>2&&z>1||V>2&&y>1;){let D=z,G=y;W>2&&z>1&&(D=z>=16384?Math.floor(z/2)-1||1:Math.ceil(z/2),W/=z/D),V>2&&y>1&&(G=y>=16384?Math.floor(y/2)-1||1:Math.ceil(y)/2,V/=y/G),F=this.cachedCanvases.getCanvas(w,D,G),N=F.context,N.clearRect(0,0,D,G),N.drawImage(x,0,0,z,y,0,0,D,G),x=F.canvas,z=D,y=G,w=w==="prescale1"?"prescale2":"prescale1"}return{img:x,paintWidth:z,paintHeight:y}}_createMaskCanvas(x){const k=this.ctx,{width:T,height:_}=x,W=this.current.fillColor,V=this.current.patternFill,z=(0,c.getCurrentTransform)(k);let y,w,F,N;if((x.bitmap||x.data)&&x.count>1){const we=x.bitmap||x.data.buffer;w=JSON.stringify(V?z:[z.slice(0,4),W]),y=this._cachedBitmapsMap.get(we),y||(y=new Map,this._cachedBitmapsMap.set(we,y));const Oe=y.get(w);if(Oe&&!V){const Ue=Math.round(Math.min(z[0],z[2])+z[4]),We=Math.round(Math.min(z[1],z[3])+z[5]);return{canvas:Oe,offsetX:Ue,offsetY:We}}F=Oe}F||(N=this.cachedCanvases.getCanvas("maskCanvas",T,_),L(N.context,x));let D=o.Util.transform(z,[1/T,0,0,-1/_,0,0]);D=o.Util.transform(D,[1,0,0,1,0,-_]);const G=o.Util.applyTransform([0,0],D),j=o.Util.applyTransform([T,_],D),te=o.Util.normalizeRect([G[0],G[1],j[0],j[1]]),Ae=Math.round(te[2]-te[0])||1,se=Math.round(te[3]-te[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",Ae,se),pe=le.context,ge=Math.min(G[0],j[0]),me=Math.min(G[1],j[1]);pe.translate(-ge,-me),pe.transform(...D),F||(F=this._scaleImage(N.canvas,(0,c.getCurrentTransformInverse)(pe)),F=F.img,y&&V&&y.set(w,F)),pe.imageSmoothingEnabled=he((0,c.getCurrentTransform)(pe),x.interpolate),m(pe,F,0,0,F.width,F.height,0,0,T,_),pe.globalCompositeOperation="source-in";const ke=o.Util.transform((0,c.getCurrentTransformInverse)(pe),[1,0,0,1,-ge,-me]);return pe.fillStyle=V?W.getPattern(k,this,ke,A.PathType.FILL):W,pe.fillRect(0,0,T,_),y&&!V&&(this.cachedCanvases.delete("fillCanvas"),y.set(w,le.canvas)),{canvas:le.canvas,offsetX:Math.round(ge),offsetY:Math.round(me)}}setLineWidth(x){x!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=x,this.ctx.lineWidth=x}setLineCap(x){this.ctx.lineCap=ue[x]}setLineJoin(x){this.ctx.lineJoin=de[x]}setMiterLimit(x){this.ctx.miterLimit=x}setDash(x,k){const T=this.ctx;T.setLineDash!==void 0&&(T.setLineDash(x),T.lineDashOffset=k)}setRenderingIntent(x){}setFlatness(x){}setGState(x){for(const[k,T]of x)switch(k){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=T;break;case"ca":this.current.fillAlpha=T,this.ctx.globalAlpha=T;break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(T);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const x=this.inSMaskMode;this.current.activeSMask&&!x?this.beginSMaskMode():!this.current.activeSMask&&x&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const x=this.ctx.canvas.width,k=this.ctx.canvas.height,T="smaskGroupAt"+this.groupLevel,_=this.cachedCanvases.getCanvas(T,x,k);this.suspendedCtx=this.ctx,this.ctx=_.context;const W=this.ctx;W.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),C(this.suspendedCtx,W),a(W,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),C(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(x){if(!this.current.activeSMask)return;x?(x[0]=Math.floor(x[0]),x[1]=Math.floor(x[1]),x[2]=Math.ceil(x[2]),x[3]=Math.ceil(x[3])):x=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,T=this.suspendedCtx;J(T,k,this.ctx,x),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(C(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const x=this.current;this.stateStack.push(x),this.current=x.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),C(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(x,k,T,_,W,V){this.ctx.transform(x,k,T,_,W,V),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(x,k,T){const _=this.ctx,W=this.current;let V=W.x,z=W.y,y,w;const F=(0,c.getCurrentTransform)(_),N=F[0]===0&&F[3]===0||F[1]===0&&F[2]===0,D=N?T.slice(0):null;for(let G=0,j=0,te=x.length;G<te;G++)switch(x[G]|0){case o.OPS.rectangle:V=k[j++],z=k[j++];const Ae=k[j++],se=k[j++],le=V+Ae,pe=z+se;_.moveTo(V,z),Ae===0||se===0?_.lineTo(le,pe):(_.lineTo(le,z),_.lineTo(le,pe),_.lineTo(V,pe)),N||W.updateRectMinMax(F,[V,z,le,pe]),_.closePath();break;case o.OPS.moveTo:V=k[j++],z=k[j++],_.moveTo(V,z),N||W.updatePathMinMax(F,V,z);break;case o.OPS.lineTo:V=k[j++],z=k[j++],_.lineTo(V,z),N||W.updatePathMinMax(F,V,z);break;case o.OPS.curveTo:y=V,w=z,V=k[j+4],z=k[j+5],_.bezierCurveTo(k[j],k[j+1],k[j+2],k[j+3],V,z),W.updateCurvePathMinMax(F,y,w,k[j],k[j+1],k[j+2],k[j+3],V,z,D),j+=6;break;case o.OPS.curveTo2:y=V,w=z,_.bezierCurveTo(V,z,k[j],k[j+1],k[j+2],k[j+3]),W.updateCurvePathMinMax(F,y,w,V,z,k[j],k[j+1],k[j+2],k[j+3],D),V=k[j+2],z=k[j+3],j+=4;break;case o.OPS.curveTo3:y=V,w=z,V=k[j+2],z=k[j+3],_.bezierCurveTo(k[j],k[j+1],V,z,V,z),W.updateCurvePathMinMax(F,y,w,k[j],k[j+1],V,z,V,z,D),j+=4;break;case o.OPS.closePath:_.closePath();break}N&&W.updateScalingPathMinMax(F,D),W.setCurrentPoint(V,z)}closePath(){this.ctx.closePath()}stroke(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,T=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof T=="object"&&T?.getPattern?(k.save(),k.strokeStyle=T.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),x&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,T=this.current.fillColor,_=this.current.patternFill;let W=!1;_&&(k.save(),k.fillStyle=T.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.FILL),W=!0);const V=this.current.getClippedPathBoundingBox();this.contentVisible&&V!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),W&&k.restore(),x&&this.consumePath(V)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=fe}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const x=this.pendingTextPaths,k=this.ctx;if(x===void 0){k.beginPath();return}k.save(),k.beginPath();for(const T of x)k.setTransform(...T.transform),k.translate(T.x,T.y),T.addToPath(k,T.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(x){this.current.charSpacing=x}setWordSpacing(x){this.current.wordSpacing=x}setHScale(x){this.current.textHScale=x/100}setLeading(x){this.current.leading=-x}setFont(x,k){const T=this.commonObjs.get(x),_=this.current;if(!T)throw new Error(`Can't find font for ${x}`);if(_.fontMatrix=T.fontMatrix||o.FONT_IDENTITY_MATRIX,(_.fontMatrix[0]===0||_.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+x),k<0?(k=-k,_.fontDirection=-1):_.fontDirection=1,this.current.font=T,this.current.fontSize=k,T.isType3Font)return;const W=T.loadedName||"sans-serif",V=T.systemFontInfo?.css||`"${W}", ${T.fallbackName}`;let z="normal";T.black?z="900":T.bold&&(z="bold");const y=T.italic?"italic":"normal";let w=k;k<R?w=R:k>O&&(w=O),this.current.fontSizeScale=k/w,this.ctx.font=`${y} ${z} ${w}px ${V}`}setTextRenderingMode(x){this.current.textRenderingMode=x}setTextRise(x){this.current.textRise=x}moveText(x,k){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=k}setLeadingMoveText(x,k){this.setLeading(-k),this.moveText(x,k)}setTextMatrix(x,k,T,_,W,V){this.current.textMatrix=[x,k,T,_,W,V],this.current.textMatrixScale=Math.hypot(x,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(x,k,T,_){const W=this.ctx,V=this.current,z=V.font,y=V.textRenderingMode,w=V.fontSize/V.fontSizeScale,F=y&o.TextRenderingMode.FILL_STROKE_MASK,N=!!(y&o.TextRenderingMode.ADD_TO_PATH_FLAG),D=V.patternFill&&!z.missingFile;let G;(z.disableFontFace||N||D)&&(G=z.getPathGenerator(this.commonObjs,x)),z.disableFontFace||D?(W.save(),W.translate(k,T),W.beginPath(),G(W,w),_&&W.setTransform(..._),(F===o.TextRenderingMode.FILL||F===o.TextRenderingMode.FILL_STROKE)&&W.fill(),(F===o.TextRenderingMode.STROKE||F===o.TextRenderingMode.FILL_STROKE)&&W.stroke(),W.restore()):((F===o.TextRenderingMode.FILL||F===o.TextRenderingMode.FILL_STROKE)&&W.fillText(x,k,T),(F===o.TextRenderingMode.STROKE||F===o.TextRenderingMode.FILL_STROKE)&&W.strokeText(x,k,T)),N&&(this.pendingTextPaths||=[]).push({transform:(0,c.getCurrentTransform)(W),x:k,y:T,fontSize:w,addToPath:G})}get isFontSubpixelAAEnabled(){const{context:x}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);x.scale(1.5,1),x.fillText("I",0,10);const k=x.getImageData(0,0,10,10).data;let T=!1;for(let _=3;_<k.length;_+=4)if(k[_]>0&&k[_]<255){T=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(x){const k=this.current,T=k.font;if(T.isType3Font)return this.showType3Text(x);const _=k.fontSize;if(_===0)return;const W=this.ctx,V=k.fontSizeScale,z=k.charSpacing,y=k.wordSpacing,w=k.fontDirection,F=k.textHScale*w,N=x.length,D=T.vertical,G=D?1:-1,j=T.defaultVMetrics,te=_*k.fontMatrix[0],Ae=k.textRenderingMode===o.TextRenderingMode.FILL&&!T.disableFontFace&&!k.patternFill;W.save(),W.transform(...k.textMatrix),W.translate(k.x,k.y+k.textRise),w>0?W.scale(F,-1):W.scale(F,1);let se;if(k.patternFill){W.save();const ke=k.fillColor.getPattern(W,this,(0,c.getCurrentTransformInverse)(W),A.PathType.FILL);se=(0,c.getCurrentTransform)(W),W.restore(),W.fillStyle=ke}let le=k.lineWidth;const pe=k.textMatrixScale;if(pe===0||le===0){const ke=k.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(ke===o.TextRenderingMode.STROKE||ke===o.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=pe;if(V!==1&&(W.scale(V,V),le/=V),W.lineWidth=le,T.isInvalidPDFjsFont){const ke=[];let we=0;for(const Oe of x)ke.push(Oe.unicode),we+=Oe.width;W.fillText(ke.join(""),0,0),k.x+=we*te*F,W.restore(),this.compose();return}let ge=0,me;for(me=0;me<N;++me){const ke=x[me];if(typeof ke=="number"){ge+=G*ke*_/1e3;continue}let we=!1;const Oe=(ke.isSpace?y:0)+z,Ue=ke.fontChar,We=ke.accent;let Ye,nt,ct=ke.width;if(D){const Ze=ke.vmetric||j,ft=-(ke.vmetric?Ze[1]:ct*.5)*te,qe=Ze[2]*te;ct=Ze?-Ze[0]:ct,Ye=ft/V,nt=(ge+qe)/V}else Ye=ge/V,nt=0;if(T.remeasure&&ct>0){const Ze=W.measureText(Ue).width*1e3/_*V;if(ct<Ze&&this.isFontSubpixelAAEnabled){const ft=ct/Ze;we=!0,W.save(),W.scale(ft,1),Ye/=ft}else ct!==Ze&&(Ye+=(ct-Ze)/2e3*_/V)}if(this.contentVisible&&(ke.isInFont||T.missingFile)){if(Ae&&!We)W.fillText(Ue,Ye,nt);else if(this.paintChar(Ue,Ye,nt,se),We){const Ze=Ye+_*We.offset.x/V,ft=nt-_*We.offset.y/V;this.paintChar(We.fontChar,Ze,ft,se)}}const Lt=D?ct*te-Oe*w:ct*te+Oe*w;ge+=Lt,we&&W.restore()}D?k.y-=ge:k.x+=ge*F,W.restore(),this.compose()}showType3Text(x){const k=this.ctx,T=this.current,_=T.font,W=T.fontSize,V=T.fontDirection,z=_.vertical?1:-1,y=T.charSpacing,w=T.wordSpacing,F=T.textHScale*V,N=T.fontMatrix||o.FONT_IDENTITY_MATRIX,D=x.length,G=T.textRenderingMode===o.TextRenderingMode.INVISIBLE;let j,te,Ae,se;if(!(G||W===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...T.textMatrix),k.translate(T.x,T.y),k.scale(F,V),j=0;j<D;++j){if(te=x[j],typeof te=="number"){se=z*te*W/1e3,this.ctx.translate(se,0),T.x+=se*F;continue}const le=(te.isSpace?w:0)+y,pe=_.charProcOperatorList[te.operatorListId];if(!pe){(0,o.warn)(`Type3 character "${te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=te,this.save(),k.scale(W,W),k.transform(...N),this.executeOperatorList(pe),this.restore()),Ae=o.Util.applyTransform([te.width,0],N)[0]*W+le,k.translate(Ae,0),T.x+=Ae*F}k.restore(),this.processingType3=null}}setCharWidth(x,k){}setCharWidthAndBounds(x,k,T,_,W,V){this.ctx.rect(T,_,W-T,V-_),this.ctx.clip(),this.endPath()}getColorN_Pattern(x){let k;if(x[0]==="TilingPattern"){const T=x[1],_=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),W={createCanvasGraphics:V=>new Y(V,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};k=new A.TilingPattern(x,T,this.ctx,W,_)}else k=this._getPattern(x[1],x[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(x,k,T){const _=o.Util.makeHexColor(x,k,T);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(x,k,T){const _=o.Util.makeHexColor(x,k,T);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T;return this.cachedPatterns.has(x)?T=this.cachedPatterns.get(x):(T=(0,A.getShadingPattern)(this.getObject(x)),this.cachedPatterns.set(x,T)),k&&(T.matrix=k),T}shadingFill(x){if(!this.contentVisible)return;const k=this.ctx;this.save();const T=this._getPattern(x);k.fillStyle=T.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.SHADING);const _=(0,c.getCurrentTransformInverse)(k);if(_){const{width:W,height:V}=k.canvas,[z,y,w,F]=o.Util.getAxialAlignedBoundingBox([0,0,W,V],_);this.ctx.fillRect(z,y,w-z,F-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(x,k){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(x)&&x.length===6&&this.transform(...x),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),k)){const T=k[2]-k[0],_=k[3]-k[1];this.ctx.rect(k[0],k[1],T,_),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(x){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;x.isolated||(0,o.info)("TODO: Support non-isolated groups."),x.knockout&&(0,o.warn)("Knockout groups not supported.");const T=(0,c.getCurrentTransform)(k);if(x.matrix&&k.transform(...x.matrix),!x.bbox)throw new Error("Bounding box is required.");let _=o.Util.getAxialAlignedBoundingBox(x.bbox,(0,c.getCurrentTransform)(k));const W=[0,0,k.canvas.width,k.canvas.height];_=o.Util.intersect(_,W)||[0,0,0,0];const V=Math.floor(_[0]),z=Math.floor(_[1]);let y=Math.max(Math.ceil(_[2])-V,1),w=Math.max(Math.ceil(_[3])-z,1),F=1,N=1;y>u&&(F=y/u,y=u),w>u&&(N=w/u,w=u),this.current.startNewPathAndClipBox([0,0,y,w]);let D="groupAt"+this.groupLevel;x.smask&&(D+="_smask_"+this.smaskCounter++%2);const G=this.cachedCanvases.getCanvas(D,y,w),j=G.context;j.scale(1/F,1/N),j.translate(-V,-z),j.transform(...T),x.smask?this.smaskStack.push({canvas:G.canvas,context:j,offsetX:V,offsetY:z,scaleX:F,scaleY:N,subtype:x.smask.subtype,backdrop:x.smask.backdrop,transferMap:x.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(V,z),k.scale(F,N),k.save()),C(k,j),this.ctx=j,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(x){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,x.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._);const W=o.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],_);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(W)}}beginAnnotation(x,k,T,_,W){if(this.#e(),I(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const V=k[2]-k[0],z=k[3]-k[1];if(W&&this.annotationCanvasMap){T=T.slice(),T[4]-=k[0],T[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=V,k[3]=z;const[y,w]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:F}=this,N=Math.ceil(V*this.outputScaleX*F),D=Math.ceil(z*this.outputScaleY*F);this.annotationCanvas=this.canvasFactory.create(N,D);const{canvas:G,context:j}=this.annotationCanvas;this.annotationCanvasMap.set(x,G),this.annotationCanvas.savedCtx=this.ctx,this.ctx=j,this.ctx.save(),this.ctx.setTransform(y,0,0,-w,0,z*w),I(this.ctx)}else I(this.ctx),this.ctx.rect(k[0],k[1],V,z),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...T),this.transform(..._)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(x){if(!this.contentVisible)return;const k=x.count;x=this.getObject(x.data,x),x.count=k;const T=this.ctx,_=this.processingType3;if(_&&(_.compiled===void 0&&(_.compiled=p(x)),_.compiled)){_.compiled(T);return}const W=this._createMaskCanvas(x),V=W.canvas;T.save(),T.setTransform(1,0,0,1,0,0),T.drawImage(V,W.offsetX,W.offsetY),T.restore(),this.compose()}paintImageMaskXObjectRepeat(x,k){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,W=arguments.length>4?arguments[4]:void 0,V=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;x=this.getObject(x.data,x);const z=this.ctx;z.save();const y=(0,c.getCurrentTransform)(z);z.transform(k,T,_,W,0,0);const w=this._createMaskCanvas(x);z.setTransform(1,0,0,1,w.offsetX-y[4],w.offsetY-y[5]);for(let F=0,N=V.length;F<N;F+=2){const D=o.Util.transform(y,[k,T,_,W,V[F],V[F+1]]),[G,j]=o.Util.applyTransform([0,0],D);z.drawImage(w.canvas,G,j)}z.restore(),this.compose()}paintImageMaskXObjectGroup(x){if(!this.contentVisible)return;const k=this.ctx,T=this.current.fillColor,_=this.current.patternFill;for(const W of x){const{data:V,width:z,height:y,transform:w}=W,F=this.cachedCanvases.getCanvas("maskCanvas",z,y),N=F.context;N.save();const D=this.getObject(V,W);L(N,D),N.globalCompositeOperation="source-in",N.fillStyle=_?T.getPattern(N,this,(0,c.getCurrentTransformInverse)(k),A.PathType.FILL):T,N.fillRect(0,0,z,y),N.restore(),k.save(),k.transform(...w),k.scale(1,-1),m(k,F.canvas,0,0,z,y,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(x){if(!this.contentVisible)return;const k=this.getObject(x);if(!k){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(x,k,T,_){if(!this.contentVisible)return;const W=this.getObject(x);if(!W){(0,o.warn)("Dependent image isn't ready yet");return}const V=W.width,z=W.height,y=[];for(let w=0,F=_.length;w<F;w+=2)y.push({transform:[k,0,0,T,_[w],_[w+1]],x:0,y:0,w:V,h:z});this.paintInlineImageXObjectGroup(W,y)}applyTransferMapsToCanvas(x){return this.current.transferMaps!=="none"&&(x.filter=this.current.transferMaps,x.drawImage(x.canvas,0,0),x.filter="none"),x.canvas}applyTransferMapsToBitmap(x){if(this.current.transferMaps==="none")return x.bitmap;const{bitmap:k,width:T,height:_}=x,W=this.cachedCanvases.getCanvas("inlineImage",T,_),V=W.context;return V.filter=this.current.transferMaps,V.drawImage(k,0,0),V.filter="none",W.canvas}paintInlineImageXObject(x){if(!this.contentVisible)return;const k=x.width,T=x.height,_=this.ctx;if(this.save(),!o.isNodeJS){const{filter:z}=_;z!=="none"&&z!==""&&(_.filter="none")}_.scale(1/k,-1/T);let W;if(x.bitmap)W=this.applyTransferMapsToBitmap(x);else if(typeof HTMLElement=="function"&&x instanceof HTMLElement||!x.data)W=x;else{const y=this.cachedCanvases.getCanvas("inlineImage",k,T).context;B(y,x),W=this.applyTransferMapsToCanvas(y)}const V=this._scaleImage(W,(0,c.getCurrentTransformInverse)(_));_.imageSmoothingEnabled=he((0,c.getCurrentTransform)(_),x.interpolate),m(_,V.img,0,0,V.paintWidth,V.paintHeight,0,-T,k,T),this.compose(),this.restore()}paintInlineImageXObjectGroup(x,k){if(!this.contentVisible)return;const T=this.ctx;let _;if(x.bitmap)_=x.bitmap;else{const W=x.width,V=x.height,y=this.cachedCanvases.getCanvas("inlineImage",W,V).context;B(y,x),_=this.applyTransferMapsToCanvas(y)}for(const W of k)T.save(),T.transform(...W.transform),T.scale(1,-1),m(T,_,W.x,W.y,W.w,W.h,0,-1,1,1),T.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(x){}markPointProps(x,k){}beginMarkedContent(x){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(x,k){x==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(x){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(x);const T=this.ctx;this.pendingClip&&(k||(this.pendingClip===re?T.clip("evenodd"):T.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),T.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const x=(0,c.getCurrentTransform)(this.ctx);if(x[1]===0&&x[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(x[0]),Math.abs(x[3]));else{const k=Math.abs(x[0]*x[3]-x[2]*x[1]),T=Math.hypot(x[0],x[2]),_=Math.hypot(x[1],x[3]);this._cachedGetSinglePixelWidth=Math.max(T,_)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:x}=this.current,{a:k,b:T,c:_,d:W}=this.ctx.getTransform();let V,z;if(T===0&&_===0){const y=Math.abs(k),w=Math.abs(W);if(y===w)if(x===0)V=z=1/y;else{const F=y*x;V=z=F<1?1/F:1}else if(x===0)V=1/y,z=1/w;else{const F=y*x,N=w*x;V=F<1?1/F:1,z=N<1?1/N:1}}else{const y=Math.abs(k*W-T*_),w=Math.hypot(k,T),F=Math.hypot(_,W);if(x===0)V=F/y,z=w/y;else{const N=x*y;V=F>N?F/N:1,z=w>N?w/N:1}}this._cachedScaleForStroking[0]=V,this._cachedScaleForStroking[1]=z}return this._cachedScaleForStroking}rescaleAndStroke(x){const{ctx:k}=this,{lineWidth:T}=this.current,[_,W]=this.getScaleForStroking();if(k.lineWidth=T||1,_===1&&W===1){k.stroke();return}const V=k.getLineDash();if(x&&k.save(),k.scale(_,W),V.length>0){const z=Math.max(_,W);k.setLineDash(V.map(y=>y/z)),k.lineDashOffset/=z}k.stroke(),x&&k.restore()}isContentVisible(){for(let x=this.markedContentStack.length-1;x>=0;x--)if(!this.markedContentStack[x].visible)return!1;return!0}}d.CanvasGraphics=Y;for(const M in o.OPS)Y.prototype[M]!==void 0&&(Y.prototype[o.OPS[M]]=Y.prototype[M])}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TilingPattern=d.PathType=void 0,d.getShadingPattern=v,r(2);var o=r(1),c=r(168);const A={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};d.PathType=A;function E(m,p){if(!p)return;const P=p[2]-p[0],B=p[3]-p[1],L=new Path2D;L.rect(p[0],p[1],P,B),m.clip(L)}class R{constructor(){this.constructor===R&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class O extends R{constructor(p){super(),this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let P;this._type==="axial"?P=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const B of this._colorStops)P.addColorStop(B[0],B[1]);return P}getPattern(p,P,B,L){let C;if(L===A.STROKE||L===A.FILL){const I=P.current.getClippedPathBoundingBox(L,(0,c.getCurrentTransform)(p))||[0,0,0,0],H=Math.ceil(I[2]-I[0])||1,X=Math.ceil(I[3]-I[1])||1,$=P.cachedCanvases.getCanvas("pattern",H,X,!0),Q=$.context;Q.clearRect(0,0,Q.canvas.width,Q.canvas.height),Q.beginPath(),Q.rect(0,0,Q.canvas.width,Q.canvas.height),Q.translate(-I[0],-I[1]),B=o.Util.transform(B,[1,0,0,1,I[0],I[1]]),Q.transform(...P.baseTransform),this.matrix&&Q.transform(...this.matrix),E(Q,this._bbox),Q.fillStyle=this._createGradient(Q),Q.fill(),C=p.createPattern($.canvas,"no-repeat");const J=new DOMMatrix(B);C.setTransform(J)}else E(p,this._bbox),C=this._createGradient(p);return C}}function u(m,p,P,B,L,C,I,H){const X=p.coords,$=p.colors,Q=m.data,J=m.width*4;let he;X[P+1]>X[B+1]&&(he=P,P=B,B=he,he=C,C=I,I=he),X[B+1]>X[L+1]&&(he=B,B=L,L=he,he=I,I=H,H=he),X[P+1]>X[B+1]&&(he=P,P=B,B=he,he=C,C=I,I=he);const ue=(X[P]+p.offsetX)*p.scaleX,de=(X[P+1]+p.offsetY)*p.scaleY,fe=(X[B]+p.offsetX)*p.scaleX,re=(X[B+1]+p.offsetY)*p.scaleY,Y=(X[L]+p.offsetX)*p.scaleX,M=(X[L+1]+p.offsetY)*p.scaleY;if(de>=M)return;const x=$[C],k=$[C+1],T=$[C+2],_=$[I],W=$[I+1],V=$[I+2],z=$[H],y=$[H+1],w=$[H+2],F=Math.round(de),N=Math.round(M);let D,G,j,te,Ae,se,le,pe;for(let ge=F;ge<=N;ge++){if(ge<re){const Ue=ge<de?0:(de-ge)/(de-re);D=ue-(ue-fe)*Ue,G=x-(x-_)*Ue,j=k-(k-W)*Ue,te=T-(T-V)*Ue}else{let Ue;ge>M?Ue=1:re===M?Ue=0:Ue=(re-ge)/(re-M),D=fe-(fe-Y)*Ue,G=_-(_-z)*Ue,j=W-(W-y)*Ue,te=V-(V-w)*Ue}let me;ge<de?me=0:ge>M?me=1:me=(de-ge)/(de-M),Ae=ue-(ue-Y)*me,se=x-(x-z)*me,le=k-(k-y)*me,pe=T-(T-w)*me;const ke=Math.round(Math.min(D,Ae)),we=Math.round(Math.max(D,Ae));let Oe=J*ge+ke*4;for(let Ue=ke;Ue<=we;Ue++)me=(D-Ue)/(D-Ae),me<0?me=0:me>1&&(me=1),Q[Oe++]=G-(G-se)*me|0,Q[Oe++]=j-(j-le)*me|0,Q[Oe++]=te-(te-pe)*me|0,Q[Oe++]=255}}function s(m,p,P){const B=p.coords,L=p.colors;let C,I;switch(p.type){case"lattice":const H=p.verticesPerRow,X=Math.floor(B.length/H)-1,$=H-1;for(C=0;C<X;C++){let Q=C*H;for(let J=0;J<$;J++,Q++)u(m,P,B[Q],B[Q+1],B[Q+H],L[Q],L[Q+1],L[Q+H]),u(m,P,B[Q+H+1],B[Q+1],B[Q+H],L[Q+H+1],L[Q+1],L[Q+H])}break;case"triangles":for(C=0,I=B.length;C<I;C+=3)u(m,P,B[C],B[C+1],B[C+2],L[C],L[C+1],L[C+2]);break;default:throw new Error("illegal figure")}}class l extends R{constructor(p){super(),this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,P,B){const H=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-H,Q=Math.ceil(this._bounds[3])-X,J=Math.min(Math.ceil(Math.abs($*p[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(Q*p[1]*1.1)),3e3),ue=$/J,de=Q/he,fe={coords:this._coords,colors:this._colors,offsetX:-H,offsetY:-X,scaleX:1/ue,scaleY:1/de},re=J+4,Y=he+4,M=B.getCanvas("mesh",re,Y,!1),x=M.context,k=x.createImageData(J,he);if(P){const _=k.data;for(let W=0,V=_.length;W<V;W+=4)_[W]=P[0],_[W+1]=P[1],_[W+2]=P[2],_[W+3]=255}for(const _ of this._figures)s(k,_,fe);return x.putImageData(k,2,2),{canvas:M.canvas,offsetX:H-2*ue,offsetY:X-2*de,scaleX:ue,scaleY:de}}getPattern(p,P,B,L){E(p,this._bbox);let C;if(L===A.SHADING)C=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(p));else if(C=o.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const H=o.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*H[0],C[1]*H[1]]}const I=this._createMeshCanvas(C,L===A.SHADING?null:this._background,P.cachedCanvases);return L!==A.SHADING&&(p.setTransform(...P.baseTransform),this.matrix&&p.transform(...this.matrix)),p.translate(I.offsetX,I.offsetY),p.scale(I.scaleX,I.scaleY),p.createPattern(I.canvas,"no-repeat")}}class g extends R{getPattern(){return"hotpink"}}function v(m){switch(m[0]){case"RadialAxial":return new O(m);case"Mesh":return new l(m);case"Dummy":return new g}throw new Error(`Unknown IR type: ${m[0]}`)}const a={COLORED:1,UNCOLORED:2};class f{static MAX_PATTERN_SIZE=3e3;constructor(p,P,B,L,C){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=P,this.ctx=B,this.canvasGraphicsFactory=L,this.baseTransform=C}createPatternCanvas(p){const P=this.operatorList,B=this.bbox,L=this.xstep,C=this.ystep,I=this.paintType,H=this.tilingType,X=this.color,$=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+H);const Q=B[0],J=B[1],he=B[2],ue=B[3],de=o.Util.singularValueDecompose2dScale(this.matrix),fe=o.Util.singularValueDecompose2dScale(this.baseTransform),re=[de[0]*fe[0],de[1]*fe[1]],Y=this.getSizeAndScale(L,this.ctx.canvas.width,re[0]),M=this.getSizeAndScale(C,this.ctx.canvas.height,re[1]),x=p.cachedCanvases.getCanvas("pattern",Y.size,M.size,!0),k=x.context,T=$.createCanvasGraphics(k);T.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(T,I,X);let _=Q,W=J,V=he,z=ue;return Q<0&&(_=0,V+=Math.abs(Q)),J<0&&(W=0,z+=Math.abs(J)),k.translate(-(Y.scale*_),-(M.scale*W)),T.transform(Y.scale,0,0,M.scale,0,0),k.save(),this.clipBbox(T,_,W,V,z),T.baseTransform=(0,c.getCurrentTransform)(T.ctx),T.executeOperatorList(P),T.endDrawing(),{canvas:x.canvas,scaleX:Y.scale,scaleY:M.scale,offsetX:_,offsetY:W}}getSizeAndScale(p,P,B){p=Math.abs(p);const L=Math.max(f.MAX_PATTERN_SIZE,P);let C=Math.ceil(p*B);return C>=L?C=L:B=C/p,{scale:B,size:C}}clipBbox(p,P,B,L,C){const I=L-P,H=C-B;p.ctx.rect(P,B,I,H),p.current.updateRectMinMax((0,c.getCurrentTransform)(p.ctx),[P,B,L,C]),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,P,B){const L=p.ctx,C=p.current;switch(P){case a.COLORED:const I=this.ctx;L.fillStyle=I.fillStyle,L.strokeStyle=I.strokeStyle,C.fillColor=I.fillStyle,C.strokeColor=I.strokeStyle;break;case a.UNCOLORED:const H=o.Util.makeHexColor(B[0],B[1],B[2]);L.fillStyle=H,L.strokeStyle=H,C.fillColor=H,C.strokeColor=H;break;default:throw new o.FormatError(`Unsupported paint type: ${P}`)}}getPattern(p,P,B,L){let C=B;L!==A.SHADING&&(C=o.Util.transform(C,P.baseTransform),this.matrix&&(C=o.Util.transform(C,this.matrix)));const I=this.createPatternCanvas(P);let H=new DOMMatrix(C);H=H.translate(I.offsetX,I.offsetY),H=H.scale(1/I.scaleX,1/I.scaleY);const X=p.createPattern(I.canvas,"repeat");return X.setTransform(H),X}}d.TilingPattern=f}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.convertBlackAndWhiteToRGBA=A,d.convertToRGBA=c,d.grayToRGBA=R,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(1);function c(O){switch(O.kind){case o.ImageKind.GRAYSCALE_1BPP:return A(O);case o.ImageKind.RGB_24BPP:return E(O)}return null}function A(O){let{src:u,srcPos:s=0,dest:l,width:g,height:v,nonBlackColor:a=4294967295,inverseDecode:f=!1}=O;const m=o.FeatureTest.isLittleEndian?4278190080:255,[p,P]=f?[a,m]:[m,a],B=g>>3,L=g&7,C=u.length;l=new Uint32Array(l.buffer);let I=0;for(let H=0;H<v;H++){for(const $=s+B;s<$;s++){const Q=s<C?u[s]:255;l[I++]=Q&128?P:p,l[I++]=Q&64?P:p,l[I++]=Q&32?P:p,l[I++]=Q&16?P:p,l[I++]=Q&8?P:p,l[I++]=Q&4?P:p,l[I++]=Q&2?P:p,l[I++]=Q&1?P:p}if(L===0)continue;const X=s<C?u[s++]:255;for(let $=0;$<L;$++)l[I++]=X&1<<7-$?P:p}return{srcPos:s,destPos:I}}function E(O){let{src:u,srcPos:s=0,dest:l,destPos:g=0,width:v,height:a}=O,f=0;const m=u.length>>2,p=new Uint32Array(u.buffer,s,m);if(o.FeatureTest.isLittleEndian){for(;f<m-2;f+=3,g+=4){const P=p[f],B=p[f+1],L=p[f+2];l[g]=P|4278190080,l[g+1]=P>>>24|B<<8|4278190080,l[g+2]=B>>>16|L<<16|4278190080,l[g+3]=L>>>8|4278190080}for(let P=f*4,B=u.length;P<B;P+=3)l[g++]=u[P]|u[P+1]<<8|u[P+2]<<16|4278190080}else{for(;f<m-2;f+=3,g+=4){const P=p[f],B=p[f+1],L=p[f+2];l[g]=P|255,l[g+1]=P<<24|B>>>8|255,l[g+2]=B<<16|L>>>16|255,l[g+3]=L<<8|255}for(let P=f*4,B=u.length;P<B;P+=3)l[g++]=u[P]<<24|u[P+1]<<16|u[P+2]<<8|255}return{srcPos:s,destPos:g}}function R(O,u){if(o.FeatureTest.isLittleEndian)for(let s=0,l=O.length;s<l;s++)u[s]=O[s]*65793|4278190080;else for(let s=0,l=O.length;s<l;s++)u[s]=O[s]*16843008|255}}),((b,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GlobalWorkerOptions=void 0;const r=Object.create(null);d.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MessageHandler=void 0,r(2);var o=r(1);const c={DATA:1,ERROR:2},A={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function E(O){switch(O instanceof Error||typeof O=="object"&&O!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new o.AbortException(O.message);case"MissingPDFException":return new o.MissingPDFException(O.message);case"PasswordException":return new o.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new o.UnknownErrorException(O.message,O.details);default:return new o.UnknownErrorException(O.message,O.toString())}}class R{constructor(u,s,l){this.sourceName=u,this.targetName=s,this.comObj=l,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const v=g.data;if(v.targetName!==this.sourceName)return;if(v.stream){this.#t(v);return}if(v.callback){const f=v.callbackId,m=this.callbackCapabilities[f];if(!m)throw new Error(`Cannot resolve callback ${f}`);if(delete this.callbackCapabilities[f],v.callback===c.DATA)m.resolve(v.data);else if(v.callback===c.ERROR)m.reject(E(v.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[v.action];if(!a)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){const f=this.sourceName,m=v.sourceName;new Promise(function(p){p(a(v.data))}).then(function(p){l.postMessage({sourceName:f,targetName:m,callback:c.DATA,callbackId:v.callbackId,data:p})},function(p){l.postMessage({sourceName:f,targetName:m,callback:c.ERROR,callbackId:v.callbackId,reason:E(p)})});return}if(v.streamId){this.#e(v);return}a(v.data)},l.addEventListener("message",this._onComObjOnMessage)}on(u,s){const l=this.actionHandler;if(l[u])throw new Error(`There is already an actionName called "${u}"`);l[u]=s}send(u,s,l){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:s},l)}sendWithPromise(u,s,l){const g=this.callbackId++,v=new o.PromiseCapability;this.callbackCapabilities[g]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:g,data:s},l)}catch(a){v.reject(a)}return v.promise}sendWithStream(u,s,l,g){const v=this.streamId++,a=this.sourceName,f=this.targetName,m=this.comObj;return new ReadableStream({start:p=>{const P=new o.PromiseCapability;return this.streamControllers[v]={controller:p,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:a,targetName:f,action:u,streamId:v,data:s,desiredSize:p.desiredSize},g),P.promise},pull:p=>{const P=new o.PromiseCapability;return this.streamControllers[v].pullCall=P,m.postMessage({sourceName:a,targetName:f,stream:A.PULL,streamId:v,desiredSize:p.desiredSize}),P.promise},cancel:p=>{(0,o.assert)(p instanceof Error,"cancel must have a valid reason");const P=new o.PromiseCapability;return this.streamControllers[v].cancelCall=P,this.streamControllers[v].isClosed=!0,m.postMessage({sourceName:a,targetName:f,stream:A.CANCEL,streamId:v,reason:E(p)}),P.promise}},l)}#e(u){const s=u.streamId,l=this.sourceName,g=u.sourceName,v=this.comObj,a=this,f=this.actionHandler[u.action],m={enqueue(p){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,B=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=P,L>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),v.postMessage({sourceName:l,targetName:g,stream:A.ENQUEUE,streamId:s,chunk:p},B)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:l,targetName:g,stream:A.CLOSE,streamId:s}),delete a.streamSinks[s])},error(p){(0,o.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:l,targetName:g,stream:A.ERROR,streamId:s,reason:E(p)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[s]=m,new Promise(function(p){p(f(u.data,m))}).then(function(){v.postMessage({sourceName:l,targetName:g,stream:A.START_COMPLETE,streamId:s,success:!0})},function(p){v.postMessage({sourceName:l,targetName:g,stream:A.START_COMPLETE,streamId:s,reason:E(p)})})}#t(u){const s=u.streamId,l=this.sourceName,g=u.sourceName,v=this.comObj,a=this.streamControllers[s],f=this.streamSinks[s];switch(u.stream){case A.START_COMPLETE:u.success?a.startCall.resolve():a.startCall.reject(E(u.reason));break;case A.PULL_COMPLETE:u.success?a.pullCall.resolve():a.pullCall.reject(E(u.reason));break;case A.PULL:if(!f){v.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,success:!0});break}f.desiredSize<=0&&u.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=u.desiredSize,new Promise(function(m){m(f.onPull?.())}).then(function(){v.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,success:!0})},function(m){v.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,reason:E(m)})});break;case A.ENQUEUE:if((0,o.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(u.chunk);break;case A.CLOSE:if((0,o.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#n(a,s);break;case A.ERROR:(0,o.assert)(a,"error should have stream controller"),a.controller.error(E(u.reason)),this.#n(a,s);break;case A.CANCEL_COMPLETE:u.success?a.cancelCall.resolve():a.cancelCall.reject(E(u.reason)),this.#n(a,s);break;case A.CANCEL:if(!f)break;new Promise(function(m){m(f.onCancel?.(E(u.reason)))}).then(function(){v.postMessage({sourceName:l,targetName:g,stream:A.CANCEL_COMPLETE,streamId:s,success:!0})},function(m){v.postMessage({sourceName:l,targetName:g,stream:A.CANCEL_COMPLETE,streamId:s,reason:E(m)})}),f.sinkCapability.reject(E(u.reason)),f.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}}async#n(u,s){await Promise.allSettled([u.startCall?.promise,u.pullCall?.promise,u.cancelCall?.promise]),delete this.streamControllers[s]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d.MessageHandler=R}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=void 0;var o=r(1);class c{#e;#t;constructor(E){let{parsedData:R,rawData:O}=E;this.#e=R,this.#t=O}getRaw(){return this.#t}get(E){return this.#e.get(E)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(E){return this.#e.has(E)}}d.Metadata=c}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionalContentConfig=void 0;var o=r(1),c=r(170);const A=Symbol("INTERNAL");class E{#e=!0;constructor(u,s){this.name=u,this.intent=s}get visible(){return this.#e}_setVisible(u,s){u!==A&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=s}}class R{#e=null;#t=new Map;#n=null;#r=null;constructor(u){if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,this.#r=u.order;for(const s of u.groups)this.#t.set(s.id,new E(s.name,s.intent));if(u.baseState==="OFF")for(const s of this.#t.values())s._setVisible(A,!1);for(const s of u.on)this.#t.get(s)._setVisible(A,!0);for(const s of u.off)this.#t.get(s)._setVisible(A,!1);this.#n=this.getHash()}}#o(u){const s=u.length;if(s<2)return!0;const l=u[0];for(let g=1;g<s;g++){const v=u[g];let a;if(Array.isArray(v))a=this.#o(v);else if(this.#t.has(v))a=this.#t.get(v).visible;else return(0,o.warn)(`Optional content group not found: ${v}`),!0;switch(l){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return l==="And"}isVisible(u){if(this.#t.size===0)return!0;if(!u)return(0,o.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this.#t.has(u.id)?this.#t.get(u.id).visible:((0,o.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this.#o(u.expression);if(!u.policy||u.policy==="AnyOn"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!0}return!1}else if(u.policy==="AllOn"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!0}return!1}else if(u.policy==="AllOff"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,o.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.#t.has(u)){(0,o.warn)(`Optional content group not found: ${u}`);return}this.#t.get(u)._setVisible(A,!!s),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(u){return this.#t.get(u)||null}getHash(){if(this.#e!==null)return this.#e;const u=new c.MurmurHash3_64;for(const[s,l]of this.#t)u.update(`${s}:${l.visible}`);return this.#e=u.hexdigest()}}d.OptionalContentConfig=R}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFDataTransportStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(168);class A{constructor(u,s){let{length:l,initialData:g,progressiveDone:v=!1,contentDispositionFilename:a=null,disableRange:f=!1,disableStream:m=!1}=u;if((0,o.assert)(s,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=v,this._contentDispositionFilename=a,g?.length>0){const p=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=s,this._isStreamingSupported=!m,this._isRangeSupported=!f,this._contentLength=l,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((p,P)=>{this._onReceiveData({begin:p,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((p,P)=>{this._onProgress({loaded:p,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){let{begin:s,chunk:l}=u;const g=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(s===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(g):this._queuedChunks.push(g);else{const v=this._rangeReaders.some(function(a){return a._begin!==s?!1:(a._enqueue(g),!0)});(0,o.assert)(v,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){u.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:u.loaded}):this._fullRequestReader?.onProgress?.({loaded:u.loaded,total:u.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const s=this._rangeReaders.indexOf(u);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new E(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,s){if(s<=this._progressiveDataLength)return null;const l=new R(this,u,s);return this._pdfDataRangeTransport.requestDataRange(u,s),this._rangeReaders.push(l),l}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(const s of this._rangeReaders.slice(0))s.cancel(u);this._pdfDataRangeTransport.abort()}}d.PDFDataTransportStream=A;class E{constructor(u,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=u,this._done=l||!1,this._filename=(0,c.isPdfFile)(g)?g:null,this._queuedChunks=s||[],this._loaded=0;for(const v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const u=new o.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class R{constructor(u,s,l){this._stream=u,this._begin=s,this._end=l,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const u=new o.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFetchStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(182);function A(l,g,v){return{method:"GET",headers:l,signal:v.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function E(l){const g=new Headers;for(const v in l){const a=l[v];a!==void 0&&g.append(v,a)}return g}function R(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:((0,o.warn)(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class O{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(g,v){if(v<=this._progressiveDataLength)return null;const a=new s(this,g,v);return this._rangeRequestReaders.push(a),a}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(const v of this._rangeRequestReaders.slice(0))v.cancel(g)}}d.PDFFetchStream=O;class u{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const v=g.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=new o.PromiseCapability,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=E(this._stream.httpHeaders);const a=v.url;fetch(a,A(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,c.validateResponseStatus)(f.status))throw(0,c.createResponseStatusError)(f.status,a);this._reader=f.body.getReader(),this._headersCapability.resolve();const m=B=>f.headers.get(B),{allowRangeRequests:p,suggestedLength:P}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=P||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:g,done:v}=await this._reader.read();return v?{value:g,done:v}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:R(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}class s{constructor(g,v,a){this._stream=g,this._reader=null,this._loaded=0;const f=g.source;this._withCredentials=f.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=E(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${a-1}`);const m=f.url;fetch(m,A(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,c.validateResponseStatus)(p.status))throw(0,c.createResponseStatusError)(p.status,m);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:g,done:v}=await this._reader.read();return v?{value:g,done:v}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded}),{value:R(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createResponseStatusError=O,d.extractFilenameFromHeader=R,d.validateRangeRequestCapabilities=E,d.validateResponseStatus=u;var o=r(1),c=r(183),A=r(168);function E(s){let{getResponseHeader:l,isHttp:g,rangeChunkSize:v,disableRange:a}=s;const f={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(l("Content-Length"),10);return!Number.isInteger(m)||(f.suggestedLength=m,m<=2*v)||a||!g||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function R(s){const l=s("Content-Disposition");if(l){let g=(0,c.getFilenameFromContentDispositionHeader)(l);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,A.isPdfFile)(g))return g}return null}function O(s,l){return s===404||s===0&&l.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+l+'".'):new o.UnexpectedResponseException(`Unexpected server response (${s}) while retrieving PDF "${l}".`,s)}function u(s){return s===200||s===206}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getFilenameFromContentDispositionHeader=c,r(89),r(149);var o=r(1);function c(A){let E=!0,R=O("filename\\*","i").exec(A);if(R){R=R[1];let f=g(R);return f=unescape(f),f=v(f),f=a(f),s(f)}if(R=l(A),R){const f=a(R);return s(f)}if(R=O("filename","i").exec(A),R){R=R[1];let f=g(R);return f=a(f),s(f)}function O(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function u(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const p=new TextDecoder(f,{fatal:!0}),P=(0,o.stringToBytes)(m);m=p.decode(P),E=!1}catch{}}return m}function s(f){return E&&/[\x80-\xff]/.test(f)&&(f=u("utf-8",f),E&&(f=u("iso-8859-1",f))),f}function l(f){const m=[];let p;const P=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=P.exec(f))!==null;){let[,L,C,I]=p;if(L=parseInt(L,10),L in m){if(L===0)break;continue}m[L]=[C,I]}const B=[];for(let L=0;L<m.length&&L in m;++L){let[C,I]=m[L];I=g(I),C&&(I=unescape(I),L===0&&(I=v(I))),B.push(I)}return B.join("")}function g(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let p=0;p<m.length;++p){const P=m[p].indexOf('"');P!==-1&&(m[p]=m[p].slice(0,P),m.length=p+1),m[p]=m[p].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function v(f){const m=f.indexOf("'");if(m===-1)return f;const p=f.slice(0,m),B=f.slice(m+1).replace(/^[^']*'/,"");return u(p,B)}function a(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,p,P,B){if(P==="q"||P==="Q")return B=B.replaceAll("_"," "),B=B.replaceAll(/=([0-9a-fA-F]{2})/g,function(L,C){return String.fromCharCode(parseInt(C,16))}),u(p,B);try{B=atob(B)}catch{}return u(p,B)})}return""}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNetworkStream=void 0,r(89);var o=r(1),c=r(182);const A=200,E=206;function R(g){const v=g.response;return typeof v!="string"?v:(0,o.stringToBytes)(v).buffer}class O{constructor(v){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&a.httpHeaders||Object.create(null),this.withCredentials=a.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,a,f){const m={begin:v,end:a};for(const p in f)m[p]=f[p];return this.request(m)}requestFull(v){return this.request(v)}request(v){const a=new XMLHttpRequest,f=this.currXhrId++,m=this.pendingRequests[f]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const P=this.httpHeaders[p];P!==void 0&&a.setRequestHeader(p,P)}return this.isHttp&&"begin"in v&&"end"in v?(a.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),m.expectedStatus=E):m.expectedStatus=A,a.responseType="arraybuffer",v.onError&&(a.onerror=function(p){v.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,f),a.onprogress=this.onProgress.bind(this,f),m.onHeadersReceived=v.onHeadersReceived,m.onDone=v.onDone,m.onError=v.onError,m.onProgress=v.onProgress,a.send(null),f}onProgress(v,a){const f=this.pendingRequests[v];f&&f.onProgress?.(a)}onStateChange(v,a){const f=this.pendingRequests[v];if(!f)return;const m=f.xhr;if(m.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),m.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],m.status===0&&this.isHttp){f.onError?.(m.status);return}const p=m.status||A;if(!(p===A&&f.expectedStatus===E)&&p!==f.expectedStatus){f.onError?.(m.status);return}const B=R(m);if(p===E){const L=m.getResponseHeader("Content-Range"),C=/bytes (\d+)-(\d+)\/(\d+)/.exec(L);f.onDone({begin:parseInt(C[1],10),chunk:B})}else B?f.onDone({begin:0,chunk:B}):f.onError?.(m.status)}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){const a=this.pendingRequests[v].xhr;delete this.pendingRequests[v],a.abort()}}class u{constructor(v){this._source=v,this._manager=new O(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){const a=this._rangeRequestReaders.indexOf(v);a>=0&&this._rangeRequestReaders.splice(a,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(v,a){const f=new l(this._manager,v,a);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const a of this._rangeRequestReaders.slice(0))a.cancel(v)}}d.PDFNetworkStream=u;class s{constructor(v,a){this._manager=v;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._fullRequestId=v.requestFull(f),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=a.disableRange||!1,this._contentLength=a.length,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const v=this._fullRequestId,a=this._manager.getRequestXhr(v),f=P=>a.getResponseHeader(P),{allowRangeRequests:m,suggestedLength:p}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){this.onProgress?.({loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(v,a,f){this._manager=v;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(a,f,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(v){const a=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){this.isStreamingSupported||this.onProgress?.({loaded:v.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNodeStream=void 0,r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(1),c=r(182);const A=/^file:\/\/\/[a-zA-Z]:\//;function E(f){const m=require$$6,p=m.parse(f);return p.protocol==="file:"||p.host?p:/^[a-z]:[/\\]/i.test(f)?m.parse(`file:///${f}`):(p.host||(p.protocol="file:"),p)}class R{constructor(m){this.source=m,this.url=E(m.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new l(this),this._fullRequestReader}getRangeReader(m,p){if(p<=this._progressiveDataLength)return null;const P=this.isFsUrl?new a(this,m,p):new g(this,m,p);return this._rangeRequestReaders.push(P),P}cancelAllRequests(m){this._fullRequestReader?.cancel(m);for(const p of this._rangeRequestReaders.slice(0))p.cancel(m)}}d.PDFNodeStream=R;class O{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=m.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=m.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const p=m.source;this._isStreamingSupported=!p.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=m.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function s(f,m){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:m}}class l extends O{constructor(m){super(m);const p=P=>{if(P.statusCode===404){const I=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I,this._headersCapability.reject(I);return}this._headersCapability.resolve(),this._setReadableStream(P);const B=I=>this._readableStream.headers[I.toLowerCase()],{allowRangeRequests:L,suggestedLength:C}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:B,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=C||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(B)};if(this._request=null,this._url.protocol==="http:"){const P=require$$6;this._request=P.request(s(this._url,m.httpHeaders),p)}else{const P=require$$6;this._request=P.request(s(this._url,m.httpHeaders),p)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class g extends u{constructor(m,p,P){super(m),this._httpHeaders={};for(const L in m.httpHeaders){const C=m.httpHeaders[L];C!==void 0&&(this._httpHeaders[L]=C)}this._httpHeaders.Range=`bytes=${p}-${P-1}`;const B=L=>{if(L.statusCode===404){const C=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C;return}this._setReadableStream(L)};if(this._request=null,this._url.protocol==="http:"){const L=require$$6;this._request=L.request(s(this._url,this._httpHeaders),B)}else{const L=require$$6;this._request=L.request(s(this._url,this._httpHeaders),B)}this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class v extends O{constructor(m){super(m);let p=decodeURIComponent(this._url.path);A.test(this._url.href)&&(p=p.replace(/^\//,""));const P=require$$6;P.lstat(p,(B,L)=>{if(B){B.code==="ENOENT"&&(B=new o.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=B,this._headersCapability.reject(B);return}this._contentLength=L.size,this._setReadableStream(P.createReadStream(p)),this._headersCapability.resolve()})}}class a extends u{constructor(m,p,P){super(m);let B=decodeURIComponent(this._url.path);A.test(this._url.href)&&(B=B.replace(/^\//,""));const L=require$$6;this._setReadableStream(L.createReadStream(B,{start:p,end:P-1}))}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SVGGraphics=void 0,r(84),r(86),r(87),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(187);var o=r(168),c=r(1);const A={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},E="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/1999/xlink",O=["butt","round","square"],u=["miter","round","bevel"],s=function(L){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([L],{type:C}));const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let X=`data:${C};base64,`;for(let $=0,Q=L.length;$<Q;$+=3){const J=L[$]&255,he=L[$+1]&255,ue=L[$+2]&255,de=J>>2,fe=(J&3)<<4|he>>4,re=$+1<Q?(he&15)<<2|ue>>6:64,Y=$+2<Q?ue&63:64;X+=H[de]+H[fe]+H[re]+H[Y]}return X},l=(function(){const L=new Uint8Array([137,80,78,71,13,10,26,10]),C=12,I=new Int32Array(256);for(let ue=0;ue<256;ue++){let de=ue;for(let fe=0;fe<8;fe++)de=de&1?3988292384^de>>1&2147483647:de>>1&2147483647;I[ue]=de}function H(ue,de,fe){let re=-1;for(let Y=de;Y<fe;Y++){const M=(re^ue[Y])&255,x=I[M];re=re>>>8^x}return re^-1}function X(ue,de,fe,re){let Y=re;const M=de.length;fe[Y]=M>>24&255,fe[Y+1]=M>>16&255,fe[Y+2]=M>>8&255,fe[Y+3]=M&255,Y+=4,fe[Y]=ue.charCodeAt(0)&255,fe[Y+1]=ue.charCodeAt(1)&255,fe[Y+2]=ue.charCodeAt(2)&255,fe[Y+3]=ue.charCodeAt(3)&255,Y+=4,fe.set(de,Y),Y+=de.length;const x=H(fe,re+4,Y);fe[Y]=x>>24&255,fe[Y+1]=x>>16&255,fe[Y+2]=x>>8&255,fe[Y+3]=x&255}function $(ue,de,fe){let re=1,Y=0;for(let M=de;M<fe;++M)re=(re+(ue[M]&255))%65521,Y=(Y+re)%65521;return Y<<16|re}function Q(ue){if(!c.isNodeJS)return J(ue);try{const de=parseInt(process.versions.node)>=8?ue:Buffer.from(ue),fe=require$$6.deflateSync(de,{level:9});return fe instanceof Uint8Array?fe:new Uint8Array(fe)}catch(de){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+de)}return J(ue)}function J(ue){let de=ue.length;const fe=65535,re=Math.ceil(de/fe),Y=new Uint8Array(2+de+re*5+4);let M=0;Y[M++]=120,Y[M++]=156;let x=0;for(;de>fe;)Y[M++]=0,Y[M++]=255,Y[M++]=255,Y[M++]=0,Y[M++]=0,Y.set(ue.subarray(x,x+fe),M),M+=fe,x+=fe,de-=fe;Y[M++]=1,Y[M++]=de&255,Y[M++]=de>>8&255,Y[M++]=~de&65535&255,Y[M++]=(~de&65535)>>8&255,Y.set(ue.subarray(x),M),M+=ue.length-x;const k=$(ue,0,ue.length);return Y[M++]=k>>24&255,Y[M++]=k>>16&255,Y[M++]=k>>8&255,Y[M++]=k&255,Y}function he(ue,de,fe,re){const Y=ue.width,M=ue.height;let x,k,T;const _=ue.data;switch(de){case c.ImageKind.GRAYSCALE_1BPP:k=0,x=1,T=Y+7>>3;break;case c.ImageKind.RGB_24BPP:k=2,x=8,T=Y*3;break;case c.ImageKind.RGBA_32BPP:k=6,x=8,T=Y*4;break;default:throw new Error("invalid format")}const W=new Uint8Array((1+T)*M);let V=0,z=0;for(let G=0;G<M;++G)W[V++]=0,W.set(_.subarray(z,z+T),V),z+=T,V+=T;if(de===c.ImageKind.GRAYSCALE_1BPP&&re){V=0;for(let G=0;G<M;G++){V++;for(let j=0;j<T;j++)W[V++]^=255}}const y=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,M>>24&255,M>>16&255,M>>8&255,M&255,x,k,0,0,0]),w=Q(W),F=L.length+C*3+y.length+w.length,N=new Uint8Array(F);let D=0;return N.set(L,D),D+=L.length,X("IHDR",y,N,D),D+=C+y.length,X("IDATA",w,N,D),D+=C+w.length,X("IEND",new Uint8Array(0),N,D),s(N,"image/png",fe)}return function(de,fe,re){const Y=de.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:de.kind;return he(de,Y,fe,re)}})();class g{constructor(){this.fontSizeScale=1,this.fontWeight=A.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=A.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(C,I){this.x=C,this.y=I}}function v(L){let C=[];const I=[];for(const H of L){if(H.fn==="save"){C.push({fnId:92,fn:"group",items:[]}),I.push(C),C=C.at(-1).items;continue}H.fn==="restore"?C=I.pop():C.push(H)}return C}function a(L){if(Number.isInteger(L))return L.toString();const C=L.toFixed(10);let I=C.length-1;if(C[I]!=="0")return C;do I--;while(C[I]==="0");return C.substring(0,C[I]==="."?I:I+1)}function f(L){if(L[4]===0&&L[5]===0){if(L[1]===0&&L[2]===0)return L[0]===1&&L[3]===1?"":`scale(${a(L[0])} ${a(L[3])})`;if(L[0]===L[3]&&L[1]===-L[2]){const C=Math.acos(L[0])*180/Math.PI;return`rotate(${a(C)})`}}else if(L[0]===1&&L[1]===0&&L[2]===0&&L[3]===1)return`translate(${a(L[4])} ${a(L[5])})`;return`matrix(${a(L[0])} ${a(L[1])} ${a(L[2])} ${a(L[3])} ${a(L[4])} ${a(L[5])})`}let m=0,p=0,P=0;class B{constructor(C,I){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new g,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=C,this.objs=I,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!H,this._operatorIdMapping=[];for(const X in c.OPS)this._operatorIdMapping[c.OPS[X]]=X}getObject(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):I}save(){this.transformStack.push(this.transformMatrix);const C=this.current;this.extraStack.push(C),this.current=C.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(C){this.save(),this.executeOpTree(C),this.restore()}loadDependencies(C){const I=C.fnArray,H=C.argsArray;for(let X=0,$=I.length;X<$;X++)if(I[X]===c.OPS.dependency)for(const Q of H[X]){const J=Q.startsWith("g_")?this.commonObjs:this.objs,he=new Promise(ue=>{J.get(Q,ue)});this.current.dependencies.push(he)}return Promise.all(this.current.dependencies)}transform(C,I,H,X,$,Q){const J=[C,I,H,X,$,Q];this.transformMatrix=c.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(C,I){this.viewport=I;const H=this._initialize(I);return this.loadDependencies(C).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(C)),H))}convertOpList(C){const I=this._operatorIdMapping,H=C.argsArray,X=C.fnArray,$=[];for(let Q=0,J=X.length;Q<J;Q++){const he=X[Q];$.push({fnId:he,fn:I[he],args:H[Q]})}return v($)}executeOpTree(C){for(const I of C){const H=I.fn,X=I.fnId,$=I.args;switch(X|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading($);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText($[0],$[1]);break;case c.OPS.setFont:this.setFont($);break;case c.OPS.showText:this.showText($[0]);break;case c.OPS.showSpacedText:this.showText($[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText($[0],$[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing($[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing($[0]);break;case c.OPS.setHScale:this.setHScale($[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix($[0],$[1],$[2],$[3],$[4],$[5]);break;case c.OPS.setTextRise:this.setTextRise($[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode($[0]);break;case c.OPS.setLineWidth:this.setLineWidth($[0]);break;case c.OPS.setLineJoin:this.setLineJoin($[0]);break;case c.OPS.setLineCap:this.setLineCap($[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit($[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor($[0],$[1],$[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor($[0],$[1],$[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN($);break;case c.OPS.setFillColorN:this.setFillColorN($);break;case c.OPS.shadingFill:this.shadingFill($[0]);break;case c.OPS.setDash:this.setDash($[0],$[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent($[0]);break;case c.OPS.setFlatness:this.setFlatness($[0]);break;case c.OPS.setGState:this.setGState($[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject($[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject($[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject($[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin($[0],$[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform($[0],$[1],$[2],$[3],$[4],$[5]);break;case c.OPS.constructPath:this.constructPath($[0],$[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(I.items);break;default:(0,c.warn)(`Unimplemented operator ${H}`);break}}}setWordSpacing(C){this.current.wordSpacing=C}setCharSpacing(C){this.current.charSpacing=C}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(C,I,H,X,$,Q){const J=this.current;J.textMatrix=J.lineMatrix=[C,I,H,X,$,Q],J.textMatrixScale=Math.hypot(C,I),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${a(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",a(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const C=this.current;C.x=C.lineX=0,C.y=C.lineY=0,C.textMatrix=c.IDENTITY_MATRIX,C.lineMatrix=c.IDENTITY_MATRIX,C.textMatrixScale=1,C.tspan=this.svgFactory.createElement("svg:tspan"),C.txtElement=this.svgFactory.createElement("svg:text"),C.txtgrp=this.svgFactory.createElement("svg:g"),C.xcoords=[],C.ycoords=[]}moveText(C,I){const H=this.current;H.x=H.lineX+=C,H.y=H.lineY+=I,H.xcoords=[],H.ycoords=[],H.tspan=this.svgFactory.createElement("svg:tspan"),H.tspan.setAttributeNS(null,"font-family",H.fontFamily),H.tspan.setAttributeNS(null,"font-size",`${a(H.fontSize)}px`),H.tspan.setAttributeNS(null,"y",a(-H.y))}showText(C){const I=this.current,H=I.font,X=I.fontSize;if(X===0)return;const $=I.fontSizeScale,Q=I.charSpacing,J=I.wordSpacing,he=I.fontDirection,ue=I.textHScale*he,de=H.vertical,fe=de?1:-1,re=H.defaultVMetrics,Y=X*I.fontMatrix[0];let M=0;for(const T of C){if(T===null){M+=he*J;continue}else if(typeof T=="number"){M+=fe*T*X/1e3;continue}const _=(T.isSpace?J:0)+Q,W=T.fontChar;let V,z,y=T.width;if(de){let F;const N=T.vmetric||re;F=T.vmetric?N[1]:y*.5,F=-F*Y;const D=N[2]*Y;y=N?-N[0]:y,V=F/$,z=(M+D)/$}else V=M/$,z=0;(T.isInFont||H.missingFile)&&(I.xcoords.push(I.x+V),de&&I.ycoords.push(-I.y+z),I.tspan.textContent+=W);const w=de?y*Y-_*he:y*Y+_*he;M+=w}I.tspan.setAttributeNS(null,"x",I.xcoords.map(a).join(" ")),de?I.tspan.setAttributeNS(null,"y",I.ycoords.map(a).join(" ")):I.tspan.setAttributeNS(null,"y",a(-I.y)),de?I.y-=M:I.x+=M*ue,I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${a(I.fontSize)}px`),I.fontStyle!==A.fontStyle&&I.tspan.setAttributeNS(null,"font-style",I.fontStyle),I.fontWeight!==A.fontWeight&&I.tspan.setAttributeNS(null,"font-weight",I.fontWeight);const x=I.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(x===c.TextRenderingMode.FILL||x===c.TextRenderingMode.FILL_STROKE?(I.fillColor!==A.fillColor&&I.tspan.setAttributeNS(null,"fill",I.fillColor),I.fillAlpha<1&&I.tspan.setAttributeNS(null,"fill-opacity",I.fillAlpha)):I.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?I.tspan.setAttributeNS(null,"fill","transparent"):I.tspan.setAttributeNS(null,"fill","none"),x===c.TextRenderingMode.STROKE||x===c.TextRenderingMode.FILL_STROKE){const T=1/(I.textMatrixScale||1);this._setStrokeAttributes(I.tspan,T)}let k=I.textMatrix;I.textRise!==0&&(k=k.slice(),k[5]+=I.textRise),I.txtElement.setAttributeNS(null,"transform",`${f(k)} scale(${a(ue)}, -1)`),I.txtElement.setAttributeNS(E,"xml:space","preserve"),I.txtElement.append(I.tspan),I.txtgrp.append(I.txtElement),this._ensureTransformGroup().append(I.txtElement)}setLeadingMoveText(C,I){this.setLeading(-I),this.moveText(C,I)}addFontStyle(C){if(!C.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const I=s(C.data,C.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${C.loadedName}"; src: url(${I}); }
`}setFont(C){const I=this.current,H=this.commonObjs.get(C[0]);let X=C[1];I.font=H,this.embedFonts&&!H.missingFile&&!this.embeddedFonts[H.loadedName]&&(this.addFontStyle(H),this.embeddedFonts[H.loadedName]=H),I.fontMatrix=H.fontMatrix||c.FONT_IDENTITY_MATRIX;let $="normal";H.black?$="900":H.bold&&($="bold");const Q=H.italic?"italic":"normal";X<0?(X=-X,I.fontDirection=-1):I.fontDirection=1,I.fontSize=X,I.fontFamily=H.loadedName,I.fontWeight=$,I.fontStyle=Q,I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"y",a(-I.y)),I.xcoords=[],I.ycoords=[]}endText(){const C=this.current;C.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&C.txtElement?.hasChildNodes()&&(C.element=C.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(C){C>0&&(this.current.lineWidth=C)}setLineCap(C){this.current.lineCap=O[C]}setLineJoin(C){this.current.lineJoin=u[C]}setMiterLimit(C){this.current.miterLimit=C}setStrokeAlpha(C){this.current.strokeAlpha=C}setStrokeRGBColor(C,I,H){this.current.strokeColor=c.Util.makeHexColor(C,I,H)}setFillAlpha(C){this.current.fillAlpha=C}setFillRGBColor(C,I,H){this.current.fillColor=c.Util.makeHexColor(C,I,H),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(C){this.current.strokeColor=this._makeColorN_Pattern(C)}setFillColorN(C){this.current.fillColor=this._makeColorN_Pattern(C)}shadingFill(C){const{width:I,height:H}=this.viewport,X=c.Util.inverseTransform(this.transformMatrix),[$,Q,J,he]=c.Util.getAxialAlignedBoundingBox([0,0,I,H],X),ue=this.svgFactory.createElement("svg:rect");ue.setAttributeNS(null,"x",$),ue.setAttributeNS(null,"y",Q),ue.setAttributeNS(null,"width",J-$),ue.setAttributeNS(null,"height",he-Q),ue.setAttributeNS(null,"fill",this._makeShadingPattern(C)),this.current.fillAlpha<1&&ue.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ue)}_makeColorN_Pattern(C){return C[0]==="TilingPattern"?this._makeTilingPattern(C):this._makeShadingPattern(C)}_makeTilingPattern(C){const I=C[1],H=C[2],X=C[3]||c.IDENTITY_MATRIX,[$,Q,J,he]=C[4],ue=C[5],de=C[6],fe=C[7],re=`shading${P++}`,[Y,M,x,k]=c.Util.normalizeRect([...c.Util.applyTransform([$,Q],X),...c.Util.applyTransform([J,he],X)]),[T,_]=c.Util.singularValueDecompose2dScale(X),W=ue*T,V=de*_,z=this.svgFactory.createElement("svg:pattern");z.setAttributeNS(null,"id",re),z.setAttributeNS(null,"patternUnits","userSpaceOnUse"),z.setAttributeNS(null,"width",W),z.setAttributeNS(null,"height",V),z.setAttributeNS(null,"x",`${Y}`),z.setAttributeNS(null,"y",`${M}`);const y=this.svg,w=this.transformMatrix,F=this.current.fillColor,N=this.current.strokeColor,D=this.svgFactory.create(x-Y,k-M);if(this.svg=D,this.transformMatrix=X,fe===2){const G=c.Util.makeHexColor(...I);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(H)),this.svg=y,this.transformMatrix=w,this.current.fillColor=F,this.current.strokeColor=N,z.append(D.childNodes[0]),this.defs.append(z),`url(#${re})`}_makeShadingPattern(C){switch(typeof C=="string"&&(C=this.objs.get(C)),C[0]){case"RadialAxial":const I=`shading${P++}`,H=C[3];let X;switch(C[1]){case"axial":const $=C[4],Q=C[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",I),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",$[0]),X.setAttributeNS(null,"y1",$[1]),X.setAttributeNS(null,"x2",Q[0]),X.setAttributeNS(null,"y2",Q[1]);break;case"radial":const J=C[4],he=C[5],ue=C[6],de=C[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",I),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",he[0]),X.setAttributeNS(null,"cy",he[1]),X.setAttributeNS(null,"r",de),X.setAttributeNS(null,"fx",J[0]),X.setAttributeNS(null,"fy",J[1]),X.setAttributeNS(null,"fr",ue);break;default:throw new Error(`Unknown RadialAxial type: ${C[1]}`)}for(const $ of H){const Q=this.svgFactory.createElement("svg:stop");Q.setAttributeNS(null,"offset",$[0]),Q.setAttributeNS(null,"stop-color",$[1]),X.append(Q)}return this.defs.append(X),`url(#${I})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${C[0]}`)}}setDash(C,I){this.current.dashArray=C,this.current.dashPhase=I}constructPath(C,I){const H=this.current;let X=H.x,$=H.y,Q=[],J=0;for(const he of C)switch(he|0){case c.OPS.rectangle:X=I[J++],$=I[J++];const ue=I[J++],de=I[J++],fe=X+ue,re=$+de;Q.push("M",a(X),a($),"L",a(fe),a($),"L",a(fe),a(re),"L",a(X),a(re),"Z");break;case c.OPS.moveTo:X=I[J++],$=I[J++],Q.push("M",a(X),a($));break;case c.OPS.lineTo:X=I[J++],$=I[J++],Q.push("L",a(X),a($));break;case c.OPS.curveTo:X=I[J+4],$=I[J+5],Q.push("C",a(I[J]),a(I[J+1]),a(I[J+2]),a(I[J+3]),a(X),a($)),J+=6;break;case c.OPS.curveTo2:Q.push("C",a(X),a($),a(I[J]),a(I[J+1]),a(I[J+2]),a(I[J+3])),X=I[J+2],$=I[J+3],J+=4;break;case c.OPS.curveTo3:X=I[J+2],$=I[J+3],Q.push("C",a(I[J]),a(I[J+1]),a(X),a($),a(X),a($)),J+=4;break;case c.OPS.closePath:Q.push("Z");break}Q=Q.join(" "),H.path&&C.length>0&&C[0]!==c.OPS.rectangle&&C[0]!==c.OPS.moveTo?Q=H.path.getAttributeNS(null,"d")+Q:(H.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(H.path)),H.path.setAttributeNS(null,"d",Q),H.path.setAttributeNS(null,"fill","none"),H.element=H.path,H.setCurrentPoint(X,$)}endPath(){const C=this.current;if(C.path=null,!this.pendingClip)return;if(!C.element){this.pendingClip=null;return}const I=`clippath${m++}`,H=this.svgFactory.createElement("svg:clipPath");H.setAttributeNS(null,"id",I),H.setAttributeNS(null,"transform",f(this.transformMatrix));const X=C.element.cloneNode(!0);if(this.pendingClip==="evenodd"?X.setAttributeNS(null,"clip-rule","evenodd"):X.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,H.append(X),this.defs.append(H),C.activeClipUrl){C.clipGroup=null;for(const $ of this.extraStack)$.clipGroup=null;H.setAttributeNS(null,"clip-path",C.activeClipUrl)}C.activeClipUrl=`url(#${I})`,this.tgrp=null}clip(C){this.pendingClip=C}closePath(){const C=this.current;if(C.path){const I=`${C.path.getAttributeNS(null,"d")}Z`;C.path.setAttributeNS(null,"d",I)}}setLeading(C){this.current.leading=-C}setTextRise(C){this.current.textRise=C}setTextRenderingMode(C){this.current.textRenderingMode=C}setHScale(C){this.current.textHScale=C/100}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[I,H]of C)switch(I){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H);break;case"CA":this.setStrokeAlpha(H);break;case"ca":this.setFillAlpha(H);break;default:(0,c.warn)(`Unimplemented graphic state operator ${I}`);break}}fill(){const C=this.current;C.element&&(C.element.setAttributeNS(null,"fill",C.fillColor),C.element.setAttributeNS(null,"fill-opacity",C.fillAlpha),this.endPath())}stroke(){const C=this.current;C.element&&(this._setStrokeAttributes(C.element),C.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const H=this.current;let X=H.dashArray;I!==1&&X.length>0&&(X=X.map(function($){return I*$})),C.setAttributeNS(null,"stroke",H.strokeColor),C.setAttributeNS(null,"stroke-opacity",H.strokeAlpha),C.setAttributeNS(null,"stroke-miterlimit",a(H.miterLimit)),C.setAttributeNS(null,"stroke-linecap",H.lineCap),C.setAttributeNS(null,"stroke-linejoin",H.lineJoin),C.setAttributeNS(null,"stroke-width",a(I*H.lineWidth)+"px"),C.setAttributeNS(null,"stroke-dasharray",X.map(a).join(" ")),C.setAttributeNS(null,"stroke-dashoffset",a(I*H.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x","0"),C.setAttributeNS(null,"y","0"),C.setAttributeNS(null,"width","1px"),C.setAttributeNS(null,"height","1px"),C.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(C)}paintImageXObject(C){const I=this.getObject(C);if(!I){(0,c.warn)(`Dependent image with object ID ${C} is not ready yet`);return}this.paintInlineImageXObject(I)}paintInlineImageXObject(C,I){const H=C.width,X=C.height,$=l(C,this.forceDataSchema,!!I),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",a(H)),Q.setAttributeNS(null,"height",a(X)),this.current.element=Q,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(R,"xlink:href",$),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",a(-X)),J.setAttributeNS(null,"width",a(H)+"px"),J.setAttributeNS(null,"height",a(X)+"px"),J.setAttributeNS(null,"transform",`scale(${a(1/H)} ${a(-1/X)})`),I?I.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(C){const I=this.getObject(C.data,C);if(I.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const H=this.current,X=I.width,$=I.height,Q=H.fillColor;H.maskId=`mask${p++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",H.maskId);const he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",a(X)),he.setAttributeNS(null,"height",a($)),he.setAttributeNS(null,"fill",Q),he.setAttributeNS(null,"mask",`url(#${H.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(he),this.paintInlineImageXObject(I,J)}paintFormXObjectBegin(C,I){if(Array.isArray(C)&&C.length===6&&this.transform(C[0],C[1],C[2],C[3],C[4],C[5]),I){const H=I[2]-I[0],X=I[3]-I[1],$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x",I[0]),$.setAttributeNS(null,"y",I[1]),$.setAttributeNS(null,"width",a(H)),$.setAttributeNS(null,"height",a(X)),this.current.element=$,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(C){const I=this.svgFactory.create(C.width,C.height),H=this.svgFactory.createElement("svg:defs");I.append(H),this.defs=H;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",f(C.transform)),I.append(X),this.svg=X,I}_ensureClipGroup(){if(!this.current.clipGroup){const C=this.svgFactory.createElement("svg:g");C.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(C),this.current.clipGroup=C}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}d.SVGGraphics=B}),((b,d,r)=>{var o=r(3),c=r(188),A=r(193);o({target:"Array",proto:!0},{group:function(R){var O=arguments.length>1?arguments[1]:void 0;return c(this,R,O)}}),A("group")}),((b,d,r)=>{var o=r(99),c=r(14),A=r(13),E=r(40),R=r(18),O=r(64),u=r(189),s=r(108),l=Array,g=c([].push);b.exports=function(v,a,f,m){for(var p=E(v),P=A(p),B=o(a,f),L=u(null),C=O(P),I=0,H,X,$;C>I;I++)$=P[I],X=R(B($,I,p)),X in L?g(L[X],$):L[X]=[$];if(m&&(H=m(p),H!==l))for(X in L)L[X]=s(H,L[X]);return L}}),((b,d,r)=>{var o=r(47),c=r(190),A=r(66),E=r(55),R=r(192),O=r(43),u=r(54),s=">",l="<",g="prototype",v="script",a=u("IE_PROTO"),f=function(){},m=function(C){return l+v+s+C+l+"/"+v+s},p=function(C){C.write(m("")),C.close();var I=C.parentWindow.Object;return C=null,I},P=function(){var C=O("iframe"),I="java"+v+":",H;return C.style.display="none",R.appendChild(C),C.src=String(I),H=C.contentWindow.document,H.open(),H.write(m("document.F=Object")),H.close(),H.F},B,L=function(){try{B=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&B?p(B):P():p(B);for(var C=A.length;C--;)delete L[g][A[C]];return L()};E[a]=!0,b.exports=Object.create||function(I,H){var X;return I!==null?(f[g]=o(I),X=new f,f[g]=null,X[a]=I):X=L(),H===void 0?X:c.f(X,H)}}),((b,d,r)=>{var o=r(6),c=r(46),A=r(45),E=r(47),R=r(12),O=r(191);d.f=o&&!c?Object.defineProperties:function(s,l){E(s);for(var g=R(l),v=O(l),a=v.length,f=0,m;a>f;)A.f(s,m=v[f++],g[m]);return s}}),((b,d,r)=>{var o=r(59),c=r(66);b.exports=Object.keys||function(E){return o(E,c)}}),((b,d,r)=>{var o=r(24);b.exports=o("document","documentElement")}),((b,d,r)=>{var o=r(34),c=r(189),A=r(45).f,E=o("unscopables"),R=Array.prototype;R[E]===void 0&&A(R,E,{configurable:!0,value:c(null)}),b.exports=function(O){R[E][O]=!0}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaText=void 0,r(89);class o{static textContent(A){const E=[],R={items:E,styles:Object.create(null)};function O(u){if(!u)return;let s=null;const l=u.name;if(l==="#text")s=u.value;else if(o.shouldBuildText(l))u?.attributes?.textContent?s=u.attributes.textContent:u.value&&(s=u.value);else return;if(s!==null&&E.push({str:s}),!!u.children)for(const g of u.children)O(g)}return O(A),R}static shouldBuildText(A){return!(A==="textarea"||A==="input"||A==="option"||A==="select")}}d.XfaText=o}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerRenderTask=void 0,d.renderTextLayer=f,d.updateTextLayer=m,r(89),r(2);var o=r(1),c=r(168);const A=1e5,E=30,R=.8,O=new Map;function u(p,P){let B;if(P&&o.FeatureTest.isOffscreenCanvasSupported)B=new OffscreenCanvas(p,p).getContext("2d",{alpha:!1});else{const L=document.createElement("canvas");L.width=L.height=p,B=L.getContext("2d",{alpha:!1})}return B}function s(p,P){const B=O.get(p);if(B)return B;const L=u(E,P);L.font=`${E}px ${p}`;const C=L.measureText("");let I=C.fontBoundingBoxAscent,H=Math.abs(C.fontBoundingBoxDescent);if(I){const $=I/(I+H);return O.set(p,$),L.canvas.width=L.canvas.height=0,$}L.strokeStyle="red",L.clearRect(0,0,E,E),L.strokeText("g",0,0);let X=L.getImageData(0,0,E,E).data;H=0;for(let $=X.length-1-3;$>=0;$-=4)if(X[$]>0){H=Math.ceil($/4/E);break}L.clearRect(0,0,E,E),L.strokeText("A",0,E),X=L.getImageData(0,0,E,E).data,I=0;for(let $=0,Q=X.length;$<Q;$+=4)if(X[$]>0){I=E-Math.floor($/4/E);break}if(L.canvas.width=L.canvas.height=0,I){const $=I/(I+H);return O.set(p,$),$}return O.set(p,R),R}function l(p,P,B){const L=document.createElement("span"),C={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};p._textDivs.push(L);const I=o.Util.transform(p._transform,P.transform);let H=Math.atan2(I[1],I[0]);const X=B[P.fontName];X.vertical&&(H+=Math.PI/2);const $=Math.hypot(I[2],I[3]),Q=$*s(X.fontFamily,p._isOffscreenCanvasSupported);let J,he;H===0?(J=I[4],he=I[5]-Q):(J=I[4]+Q*Math.sin(H),he=I[5]-Q*Math.cos(H));const ue="calc(var(--scale-factor)*",de=L.style;p._container===p._rootContainer?(de.left=`${(100*J/p._pageWidth).toFixed(2)}%`,de.top=`${(100*he/p._pageHeight).toFixed(2)}%`):(de.left=`${ue}${J.toFixed(2)}px)`,de.top=`${ue}${he.toFixed(2)}px)`),de.fontSize=`${ue}${$.toFixed(2)}px)`,de.fontFamily=X.fontFamily,C.fontSize=$,L.setAttribute("role","presentation"),L.textContent=P.str,L.dir=P.dir,p._fontInspectorEnabled&&(L.dataset.fontName=P.fontName),H!==0&&(C.angle=H*(180/Math.PI));let fe=!1;if(P.str.length>1)fe=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const re=Math.abs(P.transform[0]),Y=Math.abs(P.transform[3]);re!==Y&&Math.max(re,Y)/Math.min(re,Y)>1.5&&(fe=!0)}fe&&(C.canvasWidth=X.vertical?P.height:P.width),p._textDivProperties.set(L,C),p._isReadableStream&&p._layoutText(L)}function g(p){const{div:P,scale:B,properties:L,ctx:C,prevFontSize:I,prevFontFamily:H}=p,{style:X}=P;let $="";if(L.canvasWidth!==0&&L.hasText){const{fontFamily:Q}=X,{canvasWidth:J,fontSize:he}=L;(I!==he||H!==Q)&&(C.font=`${he*B}px ${Q}`,p.prevFontSize=he,p.prevFontFamily=Q);const{width:ue}=C.measureText(P.textContent);ue>0&&($=`scaleX(${J*B/ue})`)}L.angle!==0&&($=`rotate(${L.angle}deg) ${$}`),$.length>0&&(X.transform=$)}function v(p){if(p._canceled)return;const P=p._textDivs,B=p._capability;if(P.length>A){B.resolve();return}if(!p._isReadableStream)for(const C of P)p._layoutText(C);B.resolve()}class a{constructor(P){let{textContentSource:B,container:L,viewport:C,textDivs:I,textDivProperties:H,textContentItemsStr:X,isOffscreenCanvasSupported:$}=P;this._textContentSource=B,this._isReadableStream=B instanceof ReadableStream,this._container=this._rootContainer=L,this._textDivs=I||[],this._textContentItemsStr=X||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=H||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:u(0,$)};const{pageWidth:Q,pageHeight:J,pageX:he,pageY:ue}=C.rawDims;this._transform=[1,0,0,-1,-he,ue+J],this._pageWidth=Q,this._pageHeight=J,(0,c.setLayerDimensions)(L,C),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(P,B){for(const L of P){if(L.str===void 0){if(L.type==="beginMarkedContentProps"||L.type==="beginMarkedContent"){const C=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),L.id!==null&&this._container.setAttribute("id",`${L.id}`),C.append(this._container)}else L.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(L.str),l(this,L,B)}}_layoutText(P){const B=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,g(this._layoutTextParams),B.hasText&&this._container.append(P),B.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),this._container.append(L)}}_render(){const P=new o.PromiseCapability;let B=Object.create(null);if(this._isReadableStream){const L=()=>{this._reader.read().then(C=>{let{value:I,done:H}=C;if(H){P.resolve();return}Object.assign(B,I.styles),this._processItems(I.items,B),L()},P.reject)};this._reader=this._textContentSource.getReader(),L()}else if(this._textContentSource){const{items:L,styles:C}=this._textContentSource;this._processItems(L,C),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{B=null,v(this)},this._capability.reject)}}d.TextLayerRenderTask=a;function f(p){!p.textContentSource&&(p.textContent||p.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),p.textContentSource=p.textContent||p.textContentStream);const{container:P,viewport:B}=p,L=getComputedStyle(P),C=L.getPropertyValue("visibility"),I=parseFloat(L.getPropertyValue("--scale-factor"));C==="visible"&&(!I||Math.abs(I-B.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const H=new a(p);return H._render(),H}function m(p){let{container:P,viewport:B,textDivs:L,textDivProperties:C,isOffscreenCanvasSupported:I,mustRotate:H=!0,mustRescale:X=!0}=p;if(H&&(0,c.setLayerDimensions)(P,{rotation:B.rotation}),X){const $=u(0,I),J={prevFontSize:null,prevFontFamily:null,div:null,scale:B.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const he of L)J.properties=C.get(he),J.div=he,g(J)}}}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayer=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147);var o=r(1),c=r(164),A=r(197),E=r(202),R=r(168),O=r(203);class u{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor(l){let{uiManager:g,pageIndex:v,div:a,accessibilityManager:f,annotationLayer:m,viewport:p,l10n:P}=l;const B=[A.FreeTextEditor,E.InkEditor,O.StampEditor];if(!u._initialized){u._initialized=!0;for(const L of B)L.initialize(P)}g.registerEditorTypes(B),this.#i=g,this.pageIndex=v,this.div=a,this.#e=f,this.#n=m,this.viewport=p,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(l){this.#i.updateToolbar(l)}updateMode(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.#i.getMode();this.#p(),l===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),l!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",l===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",l===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",l===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(l){if(!l&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!l){for(const v of this.#a.values())if(v.isEmpty()){v.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(l){this.#i.setEditingState(l)}addCommands(l){this.#i.addCommands(l)}enable(){this.div.style.pointerEvents="auto";const l=new Set;for(const v of this.#a.values())v.enableEditing(),v.annotationElementId&&l.add(v.annotationElementId);if(!this.#n)return;const g=this.#n.getEditableAnnotations();for(const v of g){if(v.hide(),this.#i.isDeletedAnnotationElement(v.data.id)||l.has(v.data.id))continue;const a=this.deserialize(v);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const l=new Set;for(const g of this.#a.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){l.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){const g=this.#n.getEditableAnnotations();for(const v of g){const{id:a}=v.data;l.has(a)||this.#i.isDeletedAnnotationElement(a)||v.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(l){return this.#n?.getEditableAnnotation(l)||null}setActiveEditor(l){this.#i.getActive()!==l&&this.#i.setActiveEditor(l)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(l){this.#a.set(l.id,l);const{annotationElementId:g}=l;g&&this.#i.isDeletedAnnotationElement(g)&&this.#i.removeDeletedAnnotationElement(l)}detach(l){this.#a.delete(l.id),this.#e?.removePointerInTextLayer(l.contentDiv),!this.#u&&l.annotationElementId&&this.#i.addDeletedAnnotationElement(l)}remove(l){this.detach(l),this.#i.removeEditor(l),l.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),l.div.remove(),l.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(l){l.parent!==this&&(l.annotationElementId&&(this.#i.addDeletedAnnotationElement(l.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(l),l.annotationElementId=null),this.attach(l),l.parent?.detach(l),l.setParent(this),l.div&&l.isAttachedToDOM&&(l.div.remove(),this.div.append(l.div)))}add(l){if(this.changeParent(l),this.#i.addEditor(l),this.attach(l),!l.isAttachedToDOM){const g=l.render();this.div.append(g),l.isAttachedToDOM=!0}l.fixAndSetPosition(),l.onceAdded(),this.#i.addToAnnotationStorage(l)}moveEditorInDOM(l){if(!l.isAttachedToDOM)return;const{activeElement:g}=document;l.div.contains(g)&&(l._focusEventsAllowed=!1,setTimeout(()=>{l.div.contains(document.activeElement)?l._focusEventsAllowed=!0:(l.div.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),l._structTreeParentId=this.#e?.moveElementInDOM(this.div,l.div,l.contentDiv,!0)}addOrRebuild(l){l.needsToBeRebuilt()?l.rebuild():this.add(l)}addUndoableEditor(l){const g=()=>l._uiManager.rebuild(l),v=()=>{l.remove()};this.addCommands({cmd:g,undo:v,mustExec:!1})}getNextId(){return this.#i.getId()}#f(l){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new A.FreeTextEditor(l);case o.AnnotationEditorType.INK:return new E.InkEditor(l);case o.AnnotationEditorType.STAMP:return new O.StampEditor(l)}return null}pasteEditor(l,g){this.#i.updateToolbar(l),this.#i.updateMode(l);const{offsetX:v,offsetY:a}=this.#h(),f=this.getNextId(),m=this.#f({parent:this,id:f,x:v,y:a,uiManager:this.#i,isCentered:!0,...g});m&&this.add(m)}deserialize(l){switch(l.annotationType??l.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return A.FreeTextEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.INK:return E.InkEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.STAMP:return O.StampEditor.deserialize(l,this,this.#i)}return null}#d(l,g){const v=this.getNextId(),a=this.#f({parent:this,id:v,x:l.offsetX,y:l.offsetY,uiManager:this.#i,isCentered:g});return a&&this.add(a),a}#h(){const{x:l,y:g,width:v,height:a}=this.div.getBoundingClientRect(),f=Math.max(0,l),m=Math.max(0,g),p=Math.min(window.innerWidth,l+v),P=Math.min(window.innerHeight,g+a),B=(f+p)/2-l,L=(m+P)/2-g,[C,I]=this.viewport.rotation%180===0?[B,L]:[L,B];return{offsetX:C,offsetY:I}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(l){this.#i.setSelected(l)}toggleSelected(l){this.#i.toggleSelected(l)}isSelected(l){return this.#i.isSelected(l)}unselect(l){this.#i.unselect(l)}pointerup(l){const{isMac:g}=o.FeatureTest.platform;if(!(l.button!==0||l.ctrlKey&&g)&&l.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(l,!1)}}pointerdown(l){if(this.#s){this.#s=!1;return}const{isMac:g}=o.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&g||l.target!==this.div)return;this.#s=!0;const v=this.#i.getActive();this.#t=!v||v.isEmpty()}findNewParent(l,g,v){const a=this.#i.findParent(g,v);return a===null||a===this?!1:(a.changeParent(l),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const l of this.#a.values())this.#e?.removePointerInTextLayer(l.contentDiv),l.setParent(null),l.isAttachedToDOM=!1,l.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const l of this.#a.values())l.isEmpty()&&l.remove();this.#l=!1}render(l){let{viewport:g}=l;this.viewport=g,(0,R.setLayerDimensions)(this.div,g);for(const v of this.#i.getEditors(this.pageIndex))this.add(v);this.updateMode()}update(l){let{viewport:g}=l;this.#i.commitOrRemove(),this.viewport=g,(0,R.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:l,pageHeight:g}=this.viewport.rawDims;return[l,g]}}d.AnnotationEditorLayer=u}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FreeTextEditor=void 0,r(89);var o=r(1),c=r(165),A=r(164),E=r(198);class R extends A.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const u=R.prototype,s=v=>v.isEmpty(),l=c.AnnotationEditorUIManager.TRANSLATE_SMALL,g=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-l,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-g,0],checker:s}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[l,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[g,0],checker:s}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-l],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-g],checker:s}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,l],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,g],checker:s}]]))}static _type="freetext";constructor(u){super({...u,name:"freeTextEditor"}),this.#o=u.color||R._defaultColor||A.AnnotationEditor._defaultLineColor,this.#l=u.fontSize||R._defaultFontSize}static initialize(u){A.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,s){switch(u){case o.AnnotationEditorParamsType.FREETEXT_SIZE:R._defaultFontSize=s;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:R._defaultColor=s;break}}updateParams(u,s){switch(u){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(s);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(s);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,R._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,R._defaultColor||A.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(u){const s=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#h()},l=this.#l;this.addCommands({cmd:()=>{s(u)},undo:()=>{s(l)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(u){const s=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=u},undo:()=>{this.#o=this.editorDiv.style.color=s},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(u,s){this._uiManager.translateSelectedEditors(u,s,!0)}getInitialTranslation(){const u=this.parentScale;return[-R._internalPadding*u,-(R._internalPadding+this.#l)*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;const s=[];for(const l of u)s.push(l.innerText.replace(/\r\n?|\n/,""));return s.join(`
`)}#h(){const[u,s]=this.parentDimensions;let l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{const{currentLayer:g,div:v}=this,a=v.style.display;v.style.display="hidden",g.div.append(this.div),l=v.getBoundingClientRect(),v.remove(),v.style.display=a}this.rotation%180===this.parentRotation%180?(this.width=l.width/u,this.height=l.height/s):(this.width=l.height/u,this.height=l.width/s),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const u=this.#a,s=this.#a=this.#d().trimEnd();if(u===s)return;const l=g=>{if(this.#a=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{l(s)},undo:()=>{l(u)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){R._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,s;this.width&&(u=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),A.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),A.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;const{style:l}=this.editorDiv;if(l.fontSize=`calc(${this.#l}px * var(--scale-factor))`,l.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[g,v]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this.#u;let[f,m]=this.getInitialTranslation();[f,m]=this.pageTranslationToScreen(f,m);const[p,P]=this.pageDimensions,[B,L]=this.pageTranslation;let C,I;switch(this.rotation){case 0:C=u+(a[0]-B)/p,I=s+this.height-(a[1]-L)/P;break;case 90:C=u+(a[0]-B)/p,I=s-(a[1]-L)/P,[f,m]=[m,-f];break;case 180:C=u-this.width+(a[0]-B)/p,I=s-(a[1]-L)/P,[f,m]=[-f,-m];break;case 270:C=u+(a[0]-B-this.height*P)/p,I=s+(a[1]-L-this.width*p)/P,[f,m]=[-m,f];break}this.setAt(C*g,I*v,f,m)}else this.setAt(u*g,s*v,this.width*g,this.height*v);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const u of this.#a.split(`
`)){const s=document.createElement("div");s.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(s)}}get contentDiv(){return this.editorDiv}static deserialize(u,s,l){let g=null;if(u instanceof E.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:a,fontColor:f},rect:m,rotation:p,id:P},textContent:B,textPosition:L,parent:{page:{pageNumber:C}}}=u;if(!B||B.length===0)return null;g=u={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(f),fontSize:a,value:B.join(`
`),position:L,pageIndex:C-1,rect:m,rotation:p,id:P,deleted:!1}}const v=super.deserialize(u,s,l);return v.#l=u.fontSize,v.#o=o.Util.makeHexColor(...u.color),v.#a=u.value,v.annotationElementId=u.id||null,v.#u=g,v}serialize(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const s=R._internalPadding*this.parentScale,l=this.getRect(s,s),g=A.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),v={annotationType:o.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?v:this.annotationElementId&&!this.#v(v)?null:(v.id=this.annotationElementId,v)}#v(u){const{value:s,fontSize:l,color:g,rect:v,pageIndex:a}=this.#u;return u.value!==s||u.fontSize!==l||u.rect.some((f,m)=>Math.abs(f-v[m])>=1)||u.color.some((f,m)=>f!==g[m])||u.pageIndex!==a}#m(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(this.#h(),!u&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const s=R._internalPadding*this.parentScale;this.#u.rect=this.getRect(s,s)}}d.FreeTextEditor=R}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampAnnotationElement=d.InkAnnotationElement=d.FreeTextAnnotationElement=d.AnnotationLayer=void 0,r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147);var o=r(1),c=r(168),A=r(163),E=r(199),R=r(200),O=r(201);const u=1e3,s=9,l=new WeakSet;function g(z){return{width:z[2]-z[0],height:z[3]-z[1]}}class v{static create(y){switch(y.data.annotationType){case o.AnnotationType.LINK:return new f(y);case o.AnnotationType.TEXT:return new m(y);case o.AnnotationType.WIDGET:switch(y.data.fieldType){case"Tx":return new P(y);case"Btn":return y.data.radioButton?new C(y):y.data.checkBox?new L(y):new I(y);case"Ch":return new H(y);case"Sig":return new B(y)}return new p(y);case o.AnnotationType.POPUP:return new X(y);case o.AnnotationType.FREETEXT:return new Q(y);case o.AnnotationType.LINE:return new J(y);case o.AnnotationType.SQUARE:return new he(y);case o.AnnotationType.CIRCLE:return new ue(y);case o.AnnotationType.POLYLINE:return new de(y);case o.AnnotationType.CARET:return new re(y);case o.AnnotationType.INK:return new Y(y);case o.AnnotationType.POLYGON:return new fe(y);case o.AnnotationType.HIGHLIGHT:return new M(y);case o.AnnotationType.UNDERLINE:return new x(y);case o.AnnotationType.SQUIGGLY:return new k(y);case o.AnnotationType.STRIKEOUT:return new T(y);case o.AnnotationType.STAMP:return new _(y);case o.AnnotationType.FILEATTACHMENT:return new W(y);default:return new a(y)}}}class a{#e=!1;constructor(y){let{isRenderable:w=!1,ignoreBorder:F=!1,createQuadrilaterals:N=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=w,this.data=y.data,this.layer=y.layer,this.linkService=y.linkService,this.downloadManager=y.downloadManager,this.imageResourcesPath=y.imageResourcesPath,this.renderForms=y.renderForms,this.svgFactory=y.svgFactory,this.annotationStorage=y.annotationStorage,this.enableScripting=y.enableScripting,this.hasJSActions=y.hasJSActions,this._fieldObjects=y.fieldObjects,this.parent=y.parent,w&&(this.container=this._createContainer(F)),N&&this._createQuadrilaterals()}static _hasPopupData(y){let{titleObj:w,contentsObj:F,richText:N}=y;return!!(w?.str||F?.str||N?.str)}get hasPopupData(){return a._hasPopupData(this.data)}_createContainer(y){const{data:w,parent:{page:F,viewport:N}}=this,D=document.createElement("section");D.setAttribute("data-annotation-id",w.id),this instanceof p||(D.tabIndex=u),D.style.zIndex=this.parent.zIndex++,this.data.popupRef&&D.setAttribute("aria-haspopup","dialog"),w.noRotate&&D.classList.add("norotate");const{pageWidth:G,pageHeight:j,pageX:te,pageY:Ae}=N.rawDims;if(!w.rect||this instanceof X){const{rotation:me}=w;return!w.hasOwnCanvas&&me!==0&&this.setRotation(me,D),D}const{width:se,height:le}=g(w.rect),pe=o.Util.normalizeRect([w.rect[0],F.view[3]-w.rect[1]+F.view[1],w.rect[2],F.view[3]-w.rect[3]+F.view[1]]);if(!y&&w.borderStyle.width>0){D.style.borderWidth=`${w.borderStyle.width}px`;const me=w.borderStyle.horizontalCornerRadius,ke=w.borderStyle.verticalCornerRadius;if(me>0||ke>0){const Oe=`calc(${me}px * var(--scale-factor)) / calc(${ke}px * var(--scale-factor))`;D.style.borderRadius=Oe}else if(this instanceof C){const Oe=`calc(${se}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;D.style.borderRadius=Oe}switch(w.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:D.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:D.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:D.style.borderBottomStyle="solid";break}const we=w.borderColor||null;we?(this.#e=!0,D.style.borderColor=o.Util.makeHexColor(we[0]|0,we[1]|0,we[2]|0)):D.style.borderWidth=0}D.style.left=`${100*(pe[0]-te)/G}%`,D.style.top=`${100*(pe[1]-Ae)/j}%`;const{rotation:ge}=w;return w.hasOwnCanvas||ge===0?(D.style.width=`${100*se/G}%`,D.style.height=`${100*le/j}%`):this.setRotation(ge,D),D}setRotation(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:F,pageHeight:N}=this.parent.viewport.rawDims,{width:D,height:G}=g(this.data.rect);let j,te;y%180===0?(j=100*D/F,te=100*G/N):(j=100*G/F,te=100*D/N),w.style.width=`${j}%`,w.style.height=`${te}%`,w.setAttribute("data-main-rotation",(360-y)%360)}get _commonActions(){const y=(w,F,N)=>{const D=N.detail[w],G=D[0],j=D.slice(1);N.target.style[F]=E.ColorConverters[`${G}_HTML`](j),this.annotationStorage.setValue(this.data.id,{[F]:E.ColorConverters[`${G}_rgb`](j)})};return(0,o.shadow)(this,"_commonActions",{display:w=>{const{display:F}=w.detail,N=F%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:N,noPrint:F===1||F===2})},print:w=>{this.annotationStorage.setValue(this.data.id,{noPrint:!w.detail.print})},hidden:w=>{const{hidden:F}=w.detail;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:F,noView:F})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.target.disabled=w.detail.readonly},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{y("bgColor","backgroundColor",w)},fillColor:w=>{y("fillColor","backgroundColor",w)},fgColor:w=>{y("fgColor","color",w)},textColor:w=>{y("textColor","color",w)},borderColor:w=>{y("borderColor","borderColor",w)},strokeColor:w=>{y("strokeColor","borderColor",w)},rotation:w=>{const F=w.detail.rotation;this.setRotation(F),this.annotationStorage.setValue(this.data.id,{rotation:F})}})}_dispatchEventFromSandbox(y,w){const F=this._commonActions;for(const N of Object.keys(w.detail))(y[N]||F[N])?.(w)}_setDefaultPropertiesFromJS(y){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const F=this._commonActions;for(const[N,D]of Object.entries(w)){const G=F[N];if(G){const j={detail:{[N]:D},target:y};G(j),delete w[N]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:y}=this.data;if(!y)return;const[w,F,N,D]=this.data.rect;if(y.length===1){const[,{x:ke,y:we},{x:Oe,y:Ue}]=y[0];if(N===ke&&D===we&&w===Oe&&F===Ue)return}const{style:G}=this.container;let j;if(this.#e){const{borderColor:ke,borderWidth:we}=G;G.borderWidth=0,j=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ke}" stroke-width="${we}">`],this.container.classList.add("hasBorder")}const te=N-w,Ae=D-F,{svgFactory:se}=this,le=se.createElement("svg");le.classList.add("quadrilateralsContainer"),le.setAttribute("width",0),le.setAttribute("height",0);const pe=se.createElement("defs");le.append(pe);const ge=se.createElement("clipPath"),me=`clippath_${this.data.id}`;ge.setAttribute("id",me),ge.setAttribute("clipPathUnits","objectBoundingBox"),pe.append(ge);for(const[,{x:ke,y:we},{x:Oe,y:Ue}]of y){const We=se.createElement("rect"),Ye=(Oe-w)/te,nt=(D-we)/Ae,ct=(ke-Oe)/te,Lt=(we-Ue)/Ae;We.setAttribute("x",Ye),We.setAttribute("y",nt),We.setAttribute("width",ct),We.setAttribute("height",Lt),ge.append(We),j?.push(`<rect vector-effect="non-scaling-stroke" x="${Ye}" y="${nt}" width="${ct}" height="${Lt}"/>`)}this.#e&&(j.push("</g></svg>')"),G.backgroundImage=j.join("")),this.container.append(le),this.container.style.clipPath=`url(#${me})`}_createPopup(){const{container:y,data:w}=this;y.setAttribute("aria-haspopup","dialog");const F=new X({data:{color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,parentRect:w.rect,borderStyle:0,id:`popup_${w.id}`,rotation:w.rotation},parent:this.parent,elements:[this]});this.parent.div.append(F.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const F=[];if(this._fieldObjects){const N=this._fieldObjects[y];if(N)for(const{page:D,id:G,exportValues:j}of N){if(D===-1||G===w)continue;const te=typeof j=="string"?j:null,Ae=document.querySelector(`[data-element-id="${G}"]`);if(Ae&&!l.has(Ae)){(0,o.warn)(`_getElementsByName - element not allowed: ${G}`);continue}F.push({id:G,exportValue:te,domElement:Ae})}return F}for(const N of document.getElementsByName(y)){const{exportValue:D}=N,G=N.getAttribute("data-element-id");G!==w&&l.has(N)&&F.push({id:G,exportValue:D,domElement:N})}return F}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const y=this.getElementsToTriggerPopup();if(Array.isArray(y))for(const w of y)w.classList.add("highlightArea");else y.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:y,data:{id:w}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:y,editId:w})})}}class f extends a{constructor(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(y,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=y.data.isTooltipOnly}render(){const{data:y,linkService:w}=this,F=document.createElement("a");F.setAttribute("data-element-id",y.id);let N=!1;return y.url?(w.addLinkAttributes(F,y.url,y.newWindow),N=!0):y.action?(this._bindNamedAction(F,y.action),N=!0):y.attachment?(this._bindAttachment(F,y.attachment),N=!0):y.setOCGState?(this.#t(F,y.setOCGState),N=!0):y.dest?(this._bindLink(F,y.dest),N=!0):(y.actions&&(y.actions.Action||y.actions["Mouse Up"]||y.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(F,y),N=!0),y.resetForm?(this._bindResetFormAction(F,y.resetForm),N=!0):this.isTooltipOnly&&!N&&(this._bindLink(F,""),N=!0)),this.container.classList.add("linkAnnotation"),N&&this.container.append(F),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(y,w){y.href=this.linkService.getDestinationHash(w),y.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&this.#e()}_bindNamedAction(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.linkService.executeNamedAction(w),!1),this.#e()}_bindAttachment(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,w.content,w.filename),!1),this.#e()}#t(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.linkService.executeSetOCGState(w),!1),this.#e()}_bindJSAction(y,w){y.href=this.linkService.getAnchorUrl("");const F=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const N of Object.keys(w.actions)){const D=F.get(N);D&&(y[D]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:N}}),!1))}y.onclick||(y.onclick=()=>!1),this.#e()}_bindResetFormAction(y,w){const F=y.onclick;if(F||(y.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),F||(y.onclick=()=>!1);return}y.onclick=()=>{F?.();const{fields:N,refs:D,include:G}=w,j=[];if(N.length!==0||D.length!==0){const se=new Set(D);for(const le of N){const pe=this._fieldObjects[le]||[];for(const{id:ge}of pe)se.add(ge)}for(const le of Object.values(this._fieldObjects))for(const pe of le)se.has(pe.id)===G&&j.push(pe)}else for(const se of Object.values(this._fieldObjects))j.push(...se);const te=this.annotationStorage,Ae=[];for(const se of j){const{id:le}=se;switch(Ae.push(le),se.type){case"text":{const ge=se.defaultValue||"";te.setValue(le,{value:ge});break}case"checkbox":case"radiobutton":{const ge=se.defaultValue===se.exportValues;te.setValue(le,{value:ge});break}case"combobox":case"listbox":{const ge=se.defaultValue||"";te.setValue(le,{value:ge});break}default:continue}const pe=document.querySelector(`[data-element-id="${le}"]`);if(pe){if(!l.has(pe)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${le}`);continue}}else continue;pe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ae,name:"ResetForm"}}),!1}}}class m extends a{constructor(y){super(y,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const y=document.createElement("img");return y.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",y.alt="[{{type}} Annotation]",y.dataset.l10nId="text_annotation_type",y.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(y),this.container}}class p extends a{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(y){this.data.hasOwnCanvas&&(y.previousSibling?.nodeName==="CANVAS"&&(y.previousSibling.hidden=!0),y.hidden=!1)}_getKeyModifier(y){const{isWin:w,isMac:F}=o.FeatureTest.platform;return w&&y.ctrlKey||F&&y.metaKey}_setEventListener(y,w,F,N,D){F.includes("mouse")?y.addEventListener(F,G=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:D(G),shift:G.shiftKey,modifier:this._getKeyModifier(G)}})}):y.addEventListener(F,G=>{if(F==="blur"){if(!w.focused||!G.relatedTarget)return;w.focused=!1}else if(F==="focus"){if(w.focused)return;w.focused=!0}D&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:D(G)}})})}_setEventListeners(y,w,F,N){for(const[D,G]of F)(G==="Action"||this.data.actions?.[G])&&((G==="Focus"||G==="Blur")&&(w||={focused:!1}),this._setEventListener(y,w,D,G,N),G==="Focus"&&!this.data.actions?.Blur?this._setEventListener(y,w,"blur","Blur",null):G==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(y,w,"focus","Focus",null))}_setBackgroundColor(y){const w=this.data.backgroundColor||null;y.style.backgroundColor=w===null?"transparent":o.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(y){const w=["left","center","right"],{fontColor:F}=this.data.defaultAppearanceData,N=this.data.defaultAppearanceData.fontSize||s,D=y.style;let G;const j=2,te=Ae=>Math.round(10*Ae)/10;if(this.data.multiLine){const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-j),se=Math.round(Ae/(o.LINE_FACTOR*N))||1,le=Ae/se;G=Math.min(N,te(le/o.LINE_FACTOR))}else{const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-j);G=Math.min(N,te(Ae/o.LINE_FACTOR))}D.fontSize=`calc(${G}px * var(--scale-factor))`,D.color=o.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(D.textAlign=w[this.data.textAlignment])}_setRequired(y,w){w?y.setAttribute("required",!0):y.removeAttribute("required"),y.setAttribute("aria-required",w)}}class P extends p{constructor(y){const w=y.renderForms||!y.data.hasAppearance&&!!y.data.fieldValue;super(y,{isRenderable:w})}setPropertyOnSiblings(y,w,F,N){const D=this.annotationStorage;for(const G of this._getElementsByName(y.name,y.id))G.domElement&&(G.domElement[w]=F),D.setValue(G.id,{[N]:F})}render(){const y=this.annotationStorage,w=this.data.id;this.container.classList.add("textWidgetAnnotation");let F=null;if(this.renderForms){const N=y.getValue(w,{value:this.data.fieldValue});let D=N.value||"";const G=y.getValue(w,{charLimit:this.data.maxLen}).charLimit;G&&D.length>G&&(D=D.slice(0,G));let j=N.formattedValue||this.data.textContent?.join(`
`)||null;j&&this.data.comb&&(j=j.replaceAll(/\s+/g,""));const te={userValue:D,formattedValue:j,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(F=document.createElement("textarea"),F.textContent=j??D,this.data.doNotScroll&&(F.style.overflowY="hidden")):(F=document.createElement("input"),F.type="text",F.setAttribute("value",j??D),this.data.doNotScroll&&(F.style.overflowX="hidden")),this.data.hasOwnCanvas&&(F.hidden=!0),l.add(F),F.setAttribute("data-element-id",w),F.disabled=this.data.readOnly,F.name=this.data.fieldName,F.tabIndex=u,this._setRequired(F,this.data.required),G&&(F.maxLength=G),F.addEventListener("input",se=>{y.setValue(w,{value:se.target.value}),this.setPropertyOnSiblings(F,"value",se.target.value,"value"),te.formattedValue=null}),F.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue??"";F.value=te.userValue=le,te.formattedValue=null});let Ae=se=>{const{formattedValue:le}=te;le!=null&&(se.target.value=le),se.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){F.addEventListener("focus",le=>{if(te.focused)return;const{target:pe}=le;te.userValue&&(pe.value=te.userValue),te.lastCommittedValue=pe.value,te.commitKey=1,te.focused=!0}),F.addEventListener("updatefromsandbox",le=>{this.showElementAndHideCanvas(le.target);const pe={value(ge){te.userValue=ge.detail.value??"",y.setValue(w,{value:te.userValue.toString()}),ge.target.value=te.userValue},formattedValue(ge){const{formattedValue:me}=ge.detail;te.formattedValue=me,me!=null&&ge.target!==document.activeElement&&(ge.target.value=me),y.setValue(w,{formattedValue:me})},selRange(ge){ge.target.setSelectionRange(...ge.detail.selRange)},charLimit:ge=>{const{charLimit:me}=ge.detail,{target:ke}=ge;if(me===0){ke.removeAttribute("maxLength");return}ke.setAttribute("maxLength",me);let we=te.userValue;!we||we.length<=me||(we=we.slice(0,me),ke.value=te.userValue=we,y.setValue(w,{value:we}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:we,willCommit:!0,commitKey:1,selStart:ke.selectionStart,selEnd:ke.selectionEnd}}))}};this._dispatchEventFromSandbox(pe,le)}),F.addEventListener("keydown",le=>{te.commitKey=1;let pe=-1;if(le.key==="Escape"?pe=0:le.key==="Enter"&&!this.data.multiLine?pe=2:le.key==="Tab"&&(te.commitKey=3),pe===-1)return;const{value:ge}=le.target;te.lastCommittedValue!==ge&&(te.lastCommittedValue=ge,te.userValue=ge,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ge,willCommit:!0,commitKey:pe,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}))});const se=Ae;Ae=null,F.addEventListener("blur",le=>{if(!te.focused||!le.relatedTarget)return;te.focused=!1;const{value:pe}=le.target;te.userValue=pe,te.lastCommittedValue!==pe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:pe,willCommit:!0,commitKey:te.commitKey,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}),se(le)}),this.data.actions?.Keystroke&&F.addEventListener("beforeinput",le=>{te.lastCommittedValue=null;const{data:pe,target:ge}=le,{value:me,selectionStart:ke,selectionEnd:we}=ge;let Oe=ke,Ue=we;switch(le.inputType){case"deleteWordBackward":{const We=me.substring(0,ke).match(/\w*[^\w]*$/);We&&(Oe-=We[0].length);break}case"deleteWordForward":{const We=me.substring(ke).match(/^[^\w]*\w*/);We&&(Ue+=We[0].length);break}case"deleteContentBackward":ke===we&&(Oe-=1);break;case"deleteContentForward":ke===we&&(Ue+=1);break}le.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:me,change:pe||"",willCommit:!1,selStart:Oe,selEnd:Ue}})}),this._setEventListeners(F,te,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.value)}if(Ae&&F.addEventListener("blur",Ae),this.data.comb){const le=(this.data.rect[2]-this.data.rect[0])/G;F.classList.add("comb"),F.style.letterSpacing=`calc(${le}px * var(--scale-factor) - 1ch)`}}else F=document.createElement("div"),F.textContent=this.data.fieldValue,F.style.verticalAlign="middle",F.style.display="table-cell";return this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class B extends p{constructor(y){super(y,{isRenderable:!!y.data.hasOwnCanvas})}}class L extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){const y=this.annotationStorage,w=this.data,F=w.id;let N=y.getValue(F,{value:w.exportValue===w.fieldValue}).value;typeof N=="string"&&(N=N!=="Off",y.setValue(F,{value:N})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const D=document.createElement("input");return l.add(D),D.setAttribute("data-element-id",F),D.disabled=w.readOnly,this._setRequired(D,this.data.required),D.type="checkbox",D.name=w.fieldName,N&&D.setAttribute("checked",!0),D.setAttribute("exportValue",w.exportValue),D.tabIndex=u,D.addEventListener("change",G=>{const{name:j,checked:te}=G.target;for(const Ae of this._getElementsByName(j,F)){const se=te&&Ae.exportValue===w.exportValue;Ae.domElement&&(Ae.domElement.checked=se),y.setValue(Ae.id,{value:se})}y.setValue(F,{value:te})}),D.addEventListener("resetform",G=>{const j=w.defaultFieldValue||"Off";G.target.checked=j===w.exportValue}),this.enableScripting&&this.hasJSActions&&(D.addEventListener("updatefromsandbox",G=>{const j={value(te){te.target.checked=te.detail.value!=="Off",y.setValue(F,{value:te.target.checked})}};this._dispatchEventFromSandbox(j,G)}),this._setEventListeners(D,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.checked)),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class C extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const y=this.annotationStorage,w=this.data,F=w.id;let N=y.getValue(F,{value:w.fieldValue===w.buttonValue}).value;typeof N=="string"&&(N=N!==w.buttonValue,y.setValue(F,{value:N}));const D=document.createElement("input");if(l.add(D),D.setAttribute("data-element-id",F),D.disabled=w.readOnly,this._setRequired(D,this.data.required),D.type="radio",D.name=w.fieldName,N&&D.setAttribute("checked",!0),D.tabIndex=u,D.addEventListener("change",G=>{const{name:j,checked:te}=G.target;for(const Ae of this._getElementsByName(j,F))y.setValue(Ae.id,{value:!1});y.setValue(F,{value:te})}),D.addEventListener("resetform",G=>{const j=w.defaultFieldValue;G.target.checked=j!=null&&j===w.buttonValue}),this.enableScripting&&this.hasJSActions){const G=w.buttonValue;D.addEventListener("updatefromsandbox",j=>{const te={value:Ae=>{const se=G===Ae.detail.value;for(const le of this._getElementsByName(Ae.target.name)){const pe=se&&le.id===F;le.domElement&&(le.domElement.checked=pe),y.setValue(le.id,{value:pe})}}};this._dispatchEventFromSandbox(te,j)}),this._setEventListeners(D,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)}return this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class I extends f{constructor(y){super(y,{ignoreBorder:y.data.hasAppearance})}render(){const y=super.render();y.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(y.title=this.data.alternativeText);const w=y.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({},F)})),y}}class H extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const y=this.annotationStorage,w=this.data.id,F=y.getValue(w,{value:this.data.fieldValue}),N=document.createElement("select");l.add(N),N.setAttribute("data-element-id",w),N.disabled=this.data.readOnly,this._setRequired(N,this.data.required),N.name=this.data.fieldName,N.tabIndex=u;let D=this.data.combo&&this.data.options.length>0;this.data.combo||(N.size=this.data.options.length,this.data.multiSelect&&(N.multiple=!0)),N.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue;for(const pe of N.options)pe.selected=pe.value===le});for(const se of this.data.options){const le=document.createElement("option");le.textContent=se.displayValue,le.value=se.exportValue,F.value.includes(se.exportValue)&&(le.setAttribute("selected",!0),D=!1),N.append(le)}let G=null;if(D){const se=document.createElement("option");se.value=" ",se.setAttribute("hidden",!0),se.setAttribute("selected",!0),N.prepend(se),G=()=>{se.remove(),N.removeEventListener("input",G),G=null},N.addEventListener("input",G)}const j=se=>{const le=se?"value":"textContent",{options:pe,multiple:ge}=N;return ge?Array.prototype.filter.call(pe,me=>me.selected).map(me=>me[le]):pe.selectedIndex===-1?null:pe[pe.selectedIndex][le]};let te=j(!1);const Ae=se=>{const le=se.target.options;return Array.prototype.map.call(le,pe=>({displayValue:pe.textContent,exportValue:pe.value}))};return this.enableScripting&&this.hasJSActions?(N.addEventListener("updatefromsandbox",se=>{const le={value(pe){G?.();const ge=pe.detail.value,me=new Set(Array.isArray(ge)?ge:[ge]);for(const ke of N.options)ke.selected=me.has(ke.value);y.setValue(w,{value:j(!0)}),te=j(!1)},multipleSelection(pe){N.multiple=!0},remove(pe){const ge=N.options,me=pe.detail.remove;ge[me].selected=!1,N.remove(me),ge.length>0&&Array.prototype.findIndex.call(ge,we=>we.selected)===-1&&(ge[0].selected=!0),y.setValue(w,{value:j(!0),items:Ae(pe)}),te=j(!1)},clear(pe){for(;N.length!==0;)N.remove(0);y.setValue(w,{value:null,items:[]}),te=j(!1)},insert(pe){const{index:ge,displayValue:me,exportValue:ke}=pe.detail.insert,we=N.children[ge],Oe=document.createElement("option");Oe.textContent=me,Oe.value=ke,we?we.before(Oe):N.append(Oe),y.setValue(w,{value:j(!0),items:Ae(pe)}),te=j(!1)},items(pe){const{items:ge}=pe.detail;for(;N.length!==0;)N.remove(0);for(const me of ge){const{displayValue:ke,exportValue:we}=me,Oe=document.createElement("option");Oe.textContent=ke,Oe.value=we,N.append(Oe)}N.options.length>0&&(N.options[0].selected=!0),y.setValue(w,{value:j(!0),items:Ae(pe)}),te=j(!1)},indices(pe){const ge=new Set(pe.detail.indices);for(const me of pe.target.options)me.selected=ge.has(me.index);y.setValue(w,{value:j(!0)}),te=j(!1)},editable(pe){pe.target.disabled=!pe.detail.editable}};this._dispatchEventFromSandbox(le,se)}),N.addEventListener("input",se=>{const le=j(!0);y.setValue(w,{value:le}),se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:te,changeEx:le,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(N,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],se=>se.target.value)):N.addEventListener("input",function(se){y.setValue(w,{value:j(!0)})}),this.data.combo&&this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class X extends a{constructor(y){const{data:w,elements:F}=y;super(y,{isRenderable:a._hasPopupData(w)}),this.elements=F}render(){this.container.classList.add("popupAnnotation");const y=new $({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),w=[];for(const F of this.elements)F.popup=y,w.push(F.data.id),F.addHighlightArea();return this.container.setAttribute("aria-controls",w.map(F=>`${o.AnnotationPrefix}${F}`).join(",")),this.container}}class ${#e=null;#t=this.#c.bind(this);#n=this.#E.bind(this);#r=this.#x.bind(this);#o=this.#y.bind(this);#a=null;#s=null;#l=null;#u=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#m=null;#g=!1;constructor(y){let{container:w,color:F,elements:N,titleObj:D,modificationDate:G,contentsObj:j,richText:te,parent:Ae,rect:se,parentRect:le,open:pe}=y;this.#s=w,this.#m=D,this.#l=j,this.#v=te,this.#i=Ae,this.#a=F,this.#p=se,this.#f=le,this.#u=N;const ge=c.PDFDateString.toDateObject(G);ge&&(this.#e=Ae.l10n.get("annotation_date_string",{date:ge.toLocaleDateString(),time:ge.toLocaleTimeString()})),this.trigger=N.flatMap(me=>me.getElementsToTriggerPopup());for(const me of this.trigger)me.addEventListener("click",this.#o),me.addEventListener("mouseenter",this.#r),me.addEventListener("mouseleave",this.#n),me.classList.add("popupTriggerArea");for(const me of N)me.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,pe&&this.#y()}render(){if(this.#h)return;const{page:{view:y},viewport:{rawDims:{pageWidth:w,pageHeight:F,pageX:N,pageY:D}}}=this.#i,G=this.#h=document.createElement("div");if(G.className="popup",this.#a){const We=G.style.outlineColor=o.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?G.style.backgroundColor=`color-mix(in srgb, ${We} 30%, white)`:G.style.backgroundColor=o.Util.makeHexColor(...this.#a.map(nt=>Math.floor(.7*(255-nt)+nt)))}const j=document.createElement("span");j.className="header";const te=document.createElement("h1");if(j.append(te),{dir:te.dir,str:te.textContent}=this.#m,G.append(j),this.#e){const We=document.createElement("span");We.classList.add("popupDate"),this.#e.then(Ye=>{We.textContent=Ye}),j.append(We)}const Ae=this.#l,se=this.#v;if(se?.str&&(!Ae?.str||Ae.str===se.str))O.XfaLayer.render({xfaHtml:se.html,intent:"richText",div:G}),G.lastChild.classList.add("richText","popupContent");else{const We=this._formatContents(Ae);G.append(We)}let le=!!this.#f,pe=le?this.#f:this.#p;for(const We of this.#u)if(!pe||o.Util.intersect(We.data.rect,pe)!==null){pe=We.data.rect,le=!0;break}const ge=o.Util.normalizeRect([pe[0],y[3]-pe[1]+y[1],pe[2],y[3]-pe[3]+y[1]]),ke=le?pe[2]-pe[0]+5:0,we=ge[0]+ke,Oe=ge[1],{style:Ue}=this.#s;Ue.left=`${100*(we-N)/w}%`,Ue.top=`${100*(Oe-D)/F}%`,this.#s.append(G)}_formatContents(y){let{str:w,dir:F}=y;const N=document.createElement("p");N.classList.add("popupContent"),N.dir=F;const D=w.split(/(?:\r\n?|\n)/);for(let G=0,j=D.length;G<j;++G){const te=D[G];N.append(document.createTextNode(te)),G<j-1&&N.append(document.createElement("br"))}return N}#c(y){y.altKey||y.shiftKey||y.ctrlKey||y.metaKey||(y.key==="Enter"||y.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#x(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#E(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#x(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#E(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#s.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Q extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.textContent=y.data.textContent,this.textPosition=y.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const y=document.createElement("div");y.classList.add("annotationTextContent"),y.setAttribute("role","comment");for(const w of this.textContent){const F=document.createElement("span");F.textContent=w,y.append(F)}this.container.append(y)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}d.FreeTextAnnotationElement=Q;class J extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),D=this.#e=this.svgFactory.createElement("svg:line");return D.setAttribute("x1",y.rect[2]-y.lineCoordinates[0]),D.setAttribute("y1",y.rect[3]-y.lineCoordinates[1]),D.setAttribute("x2",y.rect[2]-y.lineCoordinates[2]),D.setAttribute("y2",y.rect[3]-y.lineCoordinates[3]),D.setAttribute("stroke-width",y.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),N.append(D),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),D=y.borderStyle.width,G=this.#e=this.svgFactory.createElement("svg:rect");return G.setAttribute("x",D/2),G.setAttribute("y",D/2),G.setAttribute("width",w-D),G.setAttribute("height",F-D),G.setAttribute("stroke-width",D||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ue extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),D=y.borderStyle.width,G=this.#e=this.svgFactory.createElement("svg:ellipse");return G.setAttribute("cx",w/2),G.setAttribute("cy",F/2),G.setAttribute("rx",w/2-D/2),G.setAttribute("ry",F/2-D/2),G.setAttribute("stroke-width",D||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0);let D=[];for(const j of y.vertices){const te=j.x-y.rect[0],Ae=y.rect[3]-j.y;D.push(te+","+Ae)}D=D.join(" ");const G=this.#e=this.svgFactory.createElement(this.svgElementName);return G.setAttribute("points",D),G.setAttribute("stroke-width",y.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends de{constructor(y){super(y),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class re extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends a{#e=[];constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0);for(const D of y.inkLists){let G=[];for(const te of D){const Ae=te.x-y.rect[0],se=y.rect[3]-te.y;G.push(`${Ae},${se}`)}G=G.join(" ");const j=this.svgFactory.createElement(this.svgElementName);this.#e.push(j),j.setAttribute("points",G),j.setAttribute("stroke-width",y.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),!y.popupRef&&this.hasPopupData&&this._createPopup(),N.append(j)}return this.container.append(N),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}d.InkAnnotationElement=Y;class M extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class x extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class k extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class T extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _ extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}d.StampAnnotationElement=_;class W extends a{#e=null;constructor(y){super(y,{isRenderable:!0});const{filename:w,content:F}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(w,!0),this.content=F,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:F})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:y,data:w}=this;let F;w.hasAppearance||w.fillAlpha===0?F=document.createElement("div"):(F=document.createElement("img"),F.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(w.name)?"paperclip":"pushpin"}.svg`,w.fillAlpha&&w.fillAlpha<1&&(F.style=`filter: opacity(${Math.round(w.fillAlpha*100)}%);`)),F.addEventListener("dblclick",this.#t.bind(this)),this.#e=F;const{isMac:N}=o.FeatureTest.platform;return y.addEventListener("keydown",D=>{D.key==="Enter"&&(N?D.metaKey:D.ctrlKey)&&this.#t()}),!w.popupRef&&this.hasPopupData?this._createPopup():F.classList.add("popupTriggerArea"),y.append(F),y}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class V{#e=null;#t=null;#n=new Map;constructor(y){let{div:w,accessibilityManager:F,annotationCanvasMap:N,l10n:D,page:G,viewport:j}=y;this.div=w,this.#e=F,this.#t=N,this.l10n=D,this.page=G,this.viewport=j,this.zIndex=0,this.l10n||=R.NullL10n}#r(y,w){const F=y.firstChild||y;F.id=`${o.AnnotationPrefix}${w}`,this.div.append(y),this.#e?.moveElementInDOM(this.div,y,F,!1)}async render(y){const{annotations:w}=y,F=this.div;(0,c.setLayerDimensions)(F,this.viewport);const N=new Map,D={data:null,layer:F,linkService:y.linkService,downloadManager:y.downloadManager,imageResourcesPath:y.imageResourcesPath||"",renderForms:y.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:y.annotationStorage||new A.AnnotationStorage,enableScripting:y.enableScripting===!0,hasJSActions:y.hasJSActions,fieldObjects:y.fieldObjects,parent:this,elements:null};for(const G of w){if(G.noHTML)continue;const j=G.annotationType===o.AnnotationType.POPUP;if(j){const se=N.get(G.id);if(!se)continue;D.elements=se}else{const{width:se,height:le}=g(G.rect);if(se<=0||le<=0)continue}D.data=G;const te=v.create(D);if(!te.isRenderable)continue;if(!j&&G.popupRef){const se=N.get(G.popupRef);se?se.push(te):N.set(G.popupRef,[te])}te.annotationEditorType>0&&this.#n.set(te.data.id,te);const Ae=te.render();G.hidden&&(Ae.style.visibility="hidden"),this.#r(Ae,G.id)}this.#o(),await this.l10n.translate(F)}update(y){let{viewport:w}=y;const F=this.div;this.viewport=w,(0,c.setLayerDimensions)(F,{rotation:w.rotation}),this.#o(),F.hidden=!1}#o(){if(!this.#t)return;const y=this.div;for(const[w,F]of this.#t){const N=y.querySelector(`[data-annotation-id="${w}"]`);if(!N)continue;const{firstChild:D}=N;D?D.nodeName==="CANVAS"?D.replaceWith(F):D.before(F):N.append(F)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(y){return this.#n.get(y)}}d.AnnotationLayer=V}),((b,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorConverters=void 0;function r(A){return Math.floor(Math.max(0,Math.min(1,A))*255).toString(16).padStart(2,"0")}function o(A){return Math.max(0,Math.min(255,255*A))}class c{static CMYK_G(E){let[R,O,u,s]=E;return["G",1-Math.min(1,.3*R+.59*u+.11*O+s)]}static G_CMYK(E){let[R]=E;return["CMYK",0,0,0,1-R]}static G_RGB(E){let[R]=E;return["RGB",R,R,R]}static G_rgb(E){let[R]=E;return R=o(R),[R,R,R]}static G_HTML(E){let[R]=E;const O=r(R);return`#${O}${O}${O}`}static RGB_G(E){let[R,O,u]=E;return["G",.3*R+.59*O+.11*u]}static RGB_rgb(E){return E.map(o)}static RGB_HTML(E){return`#${E.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(E){let[R,O,u,s]=E;return["RGB",1-Math.min(1,R+s),1-Math.min(1,u+s),1-Math.min(1,O+s)]}static CMYK_rgb(E){let[R,O,u,s]=E;return[o(1-Math.min(1,R+s)),o(1-Math.min(1,u+s)),o(1-Math.min(1,O+s))]}static CMYK_HTML(E){const R=this.CMYK_RGB(E).slice(1);return this.RGB_HTML(R)}static RGB_CMYK(E){let[R,O,u]=E;const s=1-R,l=1-O,g=1-u,v=Math.min(s,l,g);return["CMYK",s,l,g,v]}}d.ColorConverters=c}),((b,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.getL10nFallback=o;const r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function o(E,R){switch(E){case"find_match_count":E=`find_match_count[${R.total===1?"one":"other"}]`;break;case"find_match_count_limit":E=`find_match_count_limit[${R.limit===1?"one":"other"}]`;break}return r[E]||""}function c(E,R){return R?E.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(O,u)=>u in R?R[u]:"{{"+u+"}}"):E}const A={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o(E,R);return c(O,R)},async translate(E){}};d.NullL10n=A}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayer=void 0,r(89);var o=r(194);class c{static setupStorage(E,R,O,u,s){const l=u.getValue(R,{value:null});switch(O.name){case"textarea":if(l.value!==null&&(E.textContent=l.value),s==="print")break;E.addEventListener("input",g=>{u.setValue(R,{value:g.target.value})});break;case"input":if(O.attributes.type==="radio"||O.attributes.type==="checkbox"){if(l.value===O.attributes.xfaOn?E.setAttribute("checked",!0):l.value===O.attributes.xfaOff&&E.removeAttribute("checked"),s==="print")break;E.addEventListener("change",g=>{u.setValue(R,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&E.setAttribute("value",l.value),s==="print")break;E.addEventListener("input",g=>{u.setValue(R,{value:g.target.value})})}break;case"select":if(l.value!==null){E.setAttribute("value",l.value);for(const g of O.children)g.attributes.value===l.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}E.addEventListener("input",g=>{const v=g.target.options,a=v.selectedIndex===-1?"":v[v.selectedIndex].value;u.setValue(R,{value:a})});break}}static setAttributes(E){let{html:R,element:O,storage:u=null,intent:s,linkService:l}=E;const{attributes:g}=O,v=R instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${s}`);for(const[a,f]of Object.entries(g))if(f!=null)switch(a){case"class":f.length&&R.setAttribute(a,f.join(" "));break;case"dataId":break;case"id":R.setAttribute("data-element-id",f);break;case"style":Object.assign(R.style,f);break;case"textContent":R.textContent=f;break;default:(!v||a!=="href"&&a!=="newWindow")&&R.setAttribute(a,f)}v&&l.addLinkAttributes(R,g.href,g.newWindow),u&&g.dataId&&this.setupStorage(R,g.dataId,O,u)}static render(E){const R=E.annotationStorage,O=E.linkService,u=E.xfaHtml,s=E.intent||"display",l=document.createElement(u.name);u.attributes&&this.setAttributes({html:l,element:u,intent:s,linkService:O});const g=[[u,-1,l]],v=E.div;if(v.append(l),E.viewport){const f=`matrix(${E.viewport.transform.join(",")})`;v.style.transform=f}s!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");const a=[];for(;g.length>0;){const[f,m,p]=g.at(-1);if(m+1===f.children.length){g.pop();continue}const P=f.children[++g.at(-1)[1]];if(P===null)continue;const{name:B}=P;if(B==="#text"){const C=document.createTextNode(P.value);a.push(C),p.append(C);continue}const L=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,B):document.createElement(B);if(p.append(L),P.attributes&&this.setAttributes({html:L,element:P,storage:R,intent:s,linkService:O}),P.children&&P.children.length>0)g.push([P,-1,L]);else if(P.value){const C=document.createTextNode(P.value);o.XfaText.shouldBuildText(B)&&a.push(C),L.append(C)}}for(const f of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:a}}static update(E){const R=`matrix(${E.viewport.transform.join(",")})`;E.div.style.transform=R,E.div.hidden=!1}}d.XfaLayer=c}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InkEditor=void 0,r(89),r(2);var o=r(1),c=r(164),A=r(198),E=r(168),R=r(165);class O extends c.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(s){super({...s,name:"inkEditor"}),this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s){c.AnnotationEditor.initialize(s,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(s,l){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:O._defaultThickness=l;break;case o.AnnotationEditorParamsType.INK_COLOR:O._defaultColor=l;break;case o.AnnotationEditorParamsType.INK_OPACITY:O._defaultOpacity=l/100;break}}updateParams(s,l){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#v(l);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#m(l);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#g(l);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,O._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,O._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(O._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||O._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||O._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??O._defaultOpacity))]]}#v(s){const l=this.thickness;this.addCommands({cmd:()=>{this.thickness=s,this.#C()},undo:()=>{this.thickness=l,this.#C()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(s){const l=this.color;this.addCommands({cmd:()=>{this.color=s,this.#A()},undo:()=>{this.color=l,this.#A()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(s){s/=100;const l=this.opacity;this.addCommands({cmd:()=>{this.opacity=s,this.#A()},undo:()=>{this.opacity=l,this.#A()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#C()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,l]=this.parentDimensions,g=this.width*s,v=this.height*l;this.setDimensions(g,v)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:s,parentDimensions:[l,g]}=this;switch(s){case 90:return[0,g,g,l];case 180:return[l,g,l,g];case 270:return[l,0,g,l];default:return[0,0,l,g]}}#y(){const{ctx:s,color:l,opacity:g,thickness:v,parentScale:a,scaleFactor:f}=this;s.lineWidth=v*a/f,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${l}${(0,R.opacityToHex)(g)}`}#x(s,l){this.canvas.addEventListener("contextmenu",E.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#S(),this.thickness||=O._defaultThickness,this.color||=O._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=O._defaultOpacity),this.currentPath.push([s,l]),this.#u=!1,this.#y(),this.#p=()=>{this.#D(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#E(s,l){const[g,v]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===g&&l===v)return;const a=this.currentPath;let f=this.#s;if(a.push([s,l]),this.#u=!0,a.length<=2){f.moveTo(...a[0]),f.lineTo(s,l);return}a.length===3&&(this.#s=f=new Path2D,f.moveTo(...a[0])),this.#L(f,...a.at(-3),...a.at(-2),s,l)}#T(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);this.#s.lineTo(...s)}#P(s,l){this.#p=null,s=Math.min(Math.max(s,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height),this.#E(s,l),this.#T();let g;if(this.currentPath.length!==1)g=this.#N();else{const p=[s,l];g=[[p,p.slice(),p.slice(),p]]}const v=this.#s,a=this.currentPath;this.currentPath=[],this.#s=new Path2D;const f=()=>{this.allRawPaths.push(a),this.paths.push(g),this.bezierPath2D.push(v),this.rebuild()},m=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#M()),this.#C())};this.addCommands({cmd:f,undo:m,mustExec:!0})}#D(){if(!this.#u)return;this.#u=!1;const s=Math.ceil(this.thickness*this.parentScale),l=this.currentPath.slice(-3),g=l.map(f=>f[0]),v=l.map(f=>f[1]);Math.min(...g)-s,Math.max(...g)+s,Math.min(...v)-s,Math.max(...v)+s;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const f of this.bezierPath2D)a.stroke(f);a.stroke(this.#s),a.restore()}#L(s,l,g,v,a,f,m){const p=(l+v)/2,P=(g+a)/2,B=(v+f)/2,L=(a+m)/2;s.bezierCurveTo(p+2*(v-p)/3,P+2*(a-P)/3,B+2*(v-B)/3,L+2*(a-L)/3,B,L)}#N(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const l=[];let g,[v,a]=s[0];for(g=1;g<s.length-2;g++){const[C,I]=s[g],[H,X]=s[g+1],$=(C+H)/2,Q=(I+X)/2,J=[v+2*(C-v)/3,a+2*(I-a)/3],he=[$+2*(C-$)/3,Q+2*(I-Q)/3];l.push([[v,a],J,he,[$,Q]]),[v,a]=[$,Q]}const[f,m]=s[g],[p,P]=s[g+1],B=[v+2*(f-v)/3,a+2*(m-a)/3],L=[p+2*(f-p)/3,P+2*(m-P)/3];return l.push([[v,a],B,L,[p,P]]),l}#A(){if(this.isEmpty()){this.#k();return}this.#y();const{canvas:s,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,s.width,s.height),this.#k();for(const g of this.bezierPath2D)l.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#C(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),s.preventDefault(),s.type!=="mouse"&&this.div.focus(),this.#x(s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),this.#E(s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),this.#O(s)}canvasPointerleave(s){this.#O(s)}#O(s){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",E.noContextMenu)},10),this.#P(s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(s=>this.canvas?.setAttribute("aria-label",s)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#f=new ResizeObserver(s=>{const l=s[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let s,l;this.width&&(s=this.x,l=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(m=>this.div?.setAttribute("aria-label",m));const[g,v,a,f]=this.#c();if(this.setAt(g,v,0,0),this.setDims(a,f),this.#R(),this.width){const[m,p]=this.parentDimensions;this.setAspectRatio(this.width*m,this.height*p),this.setAt(s*m,l*p,this.width*m,this.height*p),this.#i=!0,this.#S(),this.setDims(this.width*m,this.height*p),this.#A(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#S(){if(!this.#i)return;const[s,l]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*l),this.#k()}setDimensions(s,l){const g=Math.round(s),v=Math.round(l);if(this.#d===g&&this.#h===v)return;this.#d=g,this.#h=v,this.canvas.style.visibility="hidden";const[a,f]=this.parentDimensions;this.width=s/a,this.height=l/f,this.fixAndSetPosition(),this.#l&&this.#w(s,l),this.#S(),this.#A(),this.canvas.style.visibility="visible",this.fixDims()}#w(s,l){const g=this.#I(),v=(s-g)/this.#t,a=(l-g)/this.#e;this.scaleFactor=Math.min(v,a)}#k(){const s=this.#I()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)}static#_(s){const l=new Path2D;for(let g=0,v=s.length;g<v;g++){const[a,f,m,p]=s[g];g===0&&l.moveTo(...a),l.bezierCurveTo(f[0],f[1],m[0],m[1],p[0],p[1])}return l}static#B(s,l,g){const[v,a,f,m]=l;switch(g){case 0:for(let p=0,P=s.length;p<P;p+=2)s[p]+=v,s[p+1]=m-s[p+1];break;case 90:for(let p=0,P=s.length;p<P;p+=2){const B=s[p];s[p]=s[p+1]+v,s[p+1]=B+a}break;case 180:for(let p=0,P=s.length;p<P;p+=2)s[p]=f-s[p],s[p+1]+=a;break;case 270:for(let p=0,P=s.length;p<P;p+=2){const B=s[p];s[p]=f-s[p+1],s[p+1]=m-B}break;default:throw new Error("Invalid rotation")}return s}static#U(s,l,g){const[v,a,f,m]=l;switch(g){case 0:for(let p=0,P=s.length;p<P;p+=2)s[p]-=v,s[p+1]=m-s[p+1];break;case 90:for(let p=0,P=s.length;p<P;p+=2){const B=s[p];s[p]=s[p+1]-a,s[p+1]=B-v}break;case 180:for(let p=0,P=s.length;p<P;p+=2)s[p]=f-s[p],s[p+1]-=a;break;case 270:for(let p=0,P=s.length;p<P;p+=2){const B=s[p];s[p]=m-s[p+1],s[p+1]=f-B}break;default:throw new Error("Invalid rotation")}return s}#z(s,l,g,v){const a=[],f=this.thickness/2,m=s*l+f,p=s*g+f;for(const P of this.paths){const B=[],L=[];for(let C=0,I=P.length;C<I;C++){const[H,X,$,Q]=P[C],J=s*H[0]+m,he=s*H[1]+p,ue=s*X[0]+m,de=s*X[1]+p,fe=s*$[0]+m,re=s*$[1]+p,Y=s*Q[0]+m,M=s*Q[1]+p;C===0&&(B.push(J,he),L.push(J,he)),B.push(ue,de,fe,re,Y,M),L.push(ue,de),C===I-1&&L.push(Y,M)}a.push({bezier:O.#B(B,v,this.rotation),points:O.#B(L,v,this.rotation)})}return a}#F(){let s=1/0,l=-1/0,g=1/0,v=-1/0;for(const a of this.paths)for(const[f,m,p,P]of a){const B=o.Util.bezierBoundingBox(...f,...m,...p,...P);s=Math.min(s,B[0]),g=Math.min(g,B[1]),l=Math.max(l,B[2]),v=Math.max(v,B[3])}return[s,g,l,v]}#I(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#C(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!this.#l){this.#A();return}const l=this.#F(),g=this.#I();this.#t=Math.max(c.AnnotationEditor.MIN_SIZE,l[2]-l[0]),this.#e=Math.max(c.AnnotationEditor.MIN_SIZE,l[3]-l[1]);const v=Math.ceil(g+this.#t*this.scaleFactor),a=Math.ceil(g+this.#e*this.scaleFactor),[f,m]=this.parentDimensions;this.width=v/f,this.height=a/m,this.setAspectRatio(v,a);const p=this.translationX,P=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#S(),this.#A(),this.#d=v,this.#h=a,this.setDims(v,a);const B=s?g/this.scaleFactor/2:0;this.translate(p-this.translationX-B,P-this.translationY-B)}static deserialize(s,l,g){if(s instanceof A.InkAnnotationElement)return null;const v=super.deserialize(s,l,g);v.thickness=s.thickness,v.color=o.Util.makeHexColor(...s.color),v.opacity=s.opacity;const[a,f]=v.pageDimensions,m=v.width*a,p=v.height*f,P=v.parentScale,B=s.thickness/2;v.#l=!0,v.#d=Math.round(m),v.#h=Math.round(p);const{paths:L,rect:C,rotation:I}=s;for(let{bezier:X}of L){X=O.#U(X,C,I);const $=[];v.paths.push($);let Q=P*(X[0]-B),J=P*(X[1]-B);for(let ue=2,de=X.length;ue<de;ue+=6){const fe=P*(X[ue]-B),re=P*(X[ue+1]-B),Y=P*(X[ue+2]-B),M=P*(X[ue+3]-B),x=P*(X[ue+4]-B),k=P*(X[ue+5]-B);$.push([[Q,J],[fe,re],[Y,M],[x,k]]),Q=x,J=k}const he=this.#_($);v.bezierPath2D.push(he)}const H=v.#F();return v.#t=Math.max(c.AnnotationEditor.MIN_SIZE,H[2]-H[0]),v.#e=Math.max(c.AnnotationEditor.MIN_SIZE,H[3]-H[1]),v.#w(m,p),v}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),l=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:l,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}d.InkEditor=O}),((b,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampEditor=void 0,r(149),r(152);var o=r(1),c=r(164),A=r(168),E=r(198);class R extends c.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(u){super({...u,name:"stampEditor"}),this.#r=u.bitmapUrl,this.#o=u.bitmapFile}static initialize(u){c.AnnotationEditor.initialize(u)}static get supportedTypes(){const u=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",u.map(s=>`image/${s}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(u){return this.supportedTypes.includes(u)}static paste(u,s){s.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:u.getAsFile()})}#f(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!u){this.remove();return}this.#e=u.bitmap,s||(this.#t=u.id,this.#u=u.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#f(s,!0)).finally(()=>this.#d());return}if(this.#r){const s=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(l=>this.#f(l)).finally(()=>this.#d());return}if(this.#o){const s=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(l=>this.#f(l)).finally(()=>this.#d());return}const u=document.createElement("input");u.type="file",u.accept=R.supportedTypesStr,this.#n=new Promise(s=>{u.addEventListener("change",async()=>{if(!u.files||u.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(u.files[0]);this.#f(l)}s()}),u.addEventListener("cancel",()=>{this.remove(),s()})}).finally(()=>this.#d()),u.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let u,s;if(this.width&&(u=this.x,s=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[l,g]=this.parentDimensions;this.setAt(u*l,s*g,this.width*l,this.height*g)}return this.div}#p(){const{div:u}=this;let{width:s,height:l}=this.#e;const[g,v]=this.pageDimensions,a=.75;if(this.width)s=this.width*g,l=this.height*v;else if(s>a*g||l>a*v){const P=Math.min(a*g/s,a*v/l);s*=P,l*=P}const[f,m]=this.parentDimensions;this.setDims(s*f/g,l*m/v),this._uiManager.enableWaiting(!1);const p=this.#a=document.createElement("canvas");u.append(p),u.hidden=!1,this.#g(s,l),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(u,s){const[l,g]=this.parentDimensions;this.width=u/l,this.height=s/g,this.setDims(u,s),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const v=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(u,s)},v)}#m(u,s){const{width:l,height:g}=this.#e;let v=l,a=g,f=this.#e;for(;v>2*u||a>2*s;){const m=v,p=a;v>2*u&&(v=v>=16384?Math.floor(v/2)-1:Math.ceil(v/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const P=new OffscreenCanvas(v,a);P.getContext("2d").drawImage(f,0,0,m,p,0,0,v,a),f=P.transferToImageBitmap()}return f}#g(u,s){u=Math.ceil(u),s=Math.ceil(s);const l=this.#a;if(!l||l.width===u&&l.height===s)return;l.width=u,l.height=s;const g=this.#u?this.#e:this.#m(u,s),v=l.getContext("2d");v.filter=this._uiManager.hcmFilter,v.drawImage(g,0,0,g.width,g.height,0,0,u,s)}#c(u){if(u){if(this.#u){const g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}const s=document.createElement("canvas");return{width:s.width,height:s.height}=this.#e,s.getContext("2d").drawImage(this.#e,0,0),s.toDataURL()}if(this.#u){const[s,l]=this.pageDimensions,g=Math.round(this.width*s*A.PixelsPerInch.PDF_TO_CSS_UNITS),v=Math.round(this.height*l*A.PixelsPerInch.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(g,v);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,v),a.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(u=>{const s=u[0].contentRect;s.width&&s.height&&this.#v(s.width,s.height)}),this.#s.observe(this.div)}static deserialize(u,s,l){if(u instanceof E.StampAnnotationElement)return null;const g=super.deserialize(u,s,l),{rect:v,bitmapUrl:a,bitmapId:f,isSvg:m,accessibilityData:p}=u;f&&l.imageManager.isValidId(f)?g.#t=f:g.#r=a,g.#u=m;const[P,B]=g.pageDimensions;return g.width=(v[2]-v[0])/P,g.height=(v[3]-v[1])/B,p&&(g.altTextData=p),g}serialize(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const l={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(u)return l.bitmapUrl=this.#c(!0),l.accessibilityData=this.altTextData,l;const{decorative:g,altText:v}=this.altTextData;if(!g&&v&&(l.accessibilityData={type:"Figure",alt:v}),s===null)return l;s.stamps||=new Map;const a=this.#u?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!s.stamps.has(this.#t))s.stamps.set(this.#t,{area:a,serialized:l}),l.bitmap=this.#c(!1);else if(this.#u){const f=s.stamps.get(this.#t);a>f.area&&(f.area=a,f.serialized.bitmap.close(),f.serialized.bitmap=this.#c(!1))}return l}}d.StampEditor=R})],__webpack_module_cache__={};function __w_pdfjs_require__(b){var d=__webpack_module_cache__[b];if(d!==void 0)return d.exports;var r=__webpack_module_cache__[b]={exports:{}};return __webpack_modules__[b].call(r.exports,r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var b=__webpack_exports__;Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"AbortException",{enumerable:!0,get:function(){return d.AbortException}}),Object.defineProperty(b,"AnnotationEditorLayer",{enumerable:!0,get:function(){return A.AnnotationEditorLayer}}),Object.defineProperty(b,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return d.AnnotationEditorParamsType}}),Object.defineProperty(b,"AnnotationEditorType",{enumerable:!0,get:function(){return d.AnnotationEditorType}}),Object.defineProperty(b,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return E.AnnotationEditorUIManager}}),Object.defineProperty(b,"AnnotationLayer",{enumerable:!0,get:function(){return R.AnnotationLayer}}),Object.defineProperty(b,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(b,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(b,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(b,"FeatureTest",{enumerable:!0,get:function(){return d.FeatureTest}}),Object.defineProperty(b,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(b,"ImageKind",{enumerable:!0,get:function(){return d.ImageKind}}),Object.defineProperty(b,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(b,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(b,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(b,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(b,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(b,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(b,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(b,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(b,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(b,"PromiseCapability",{enumerable:!0,get:function(){return d.PromiseCapability}}),Object.defineProperty(b,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(b,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(b,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(b,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(b,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(b,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(b,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(b,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(b,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(b,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(b,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(b,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(b,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(b,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(b,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(b,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(b,"normalizeUnicode",{enumerable:!0,get:function(){return d.normalizeUnicode}}),Object.defineProperty(b,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(b,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(b,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(b,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(b,"version",{enumerable:!0,get:function(){return r.version}});var d=__w_pdfjs_require__(1),r=__w_pdfjs_require__(124),o=__w_pdfjs_require__(168),c=__w_pdfjs_require__(195),A=__w_pdfjs_require__(196),E=__w_pdfjs_require__(165),R=__w_pdfjs_require__(198),O=__w_pdfjs_require__(176),u=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();function WorkerWrapper(b){return new Worker("/reading-quest-mvp/assets/pdf.worker-DMFbCzsz.js",{name:b?.name})}pdfExports.GlobalWorkerOptions.workerPort=new WorkerWrapper;function formatPercent(b){return!isFinite(b)||isNaN(b)?0:Math.max(0,Math.min(100,Math.round(b*100)))}function App(){const[b,d]=reactExports.useState(null),[r,o]=reactExports.useState(1),[c,A]=reactExports.useState(!1),[E,R]=reactExports.useState(""),O=reactExports.useRef(null),u=reactExports.useRef(null);async function s(m){const p=m.target.files?.[0];if(p)try{R(""),A(!0);const P=await p.arrayBuffer(),L=await pdfExports.getDocument({data:P}).promise,C=p.name,I=L.numPages,H=p.name;d({pdf:L,numPages:I,title:H,id:C});const X=localStorage.getItem("rq_lastpage_"+C);o(X?Number(X):1)}catch(P){console.error(P),R(String(P))}finally{A(!1)}}reactExports.useEffect(()=>{let m=!1;async function p(){if(!b||!O.current)return;const{pdf:P}=b;if(!(r<1||r>P.numPages))try{const B=await P.getPage(r),L=B.getViewport({scale:1.5}),C=O.current,I=C.getContext("2d");C.height=L.height,C.width=L.width;const H={canvasContext:I,viewport:L};if(await B.render(H).promise,m)return;localStorage.setItem("rq_lastpage_"+b.id,String(r))}catch(B){console.error(B),m||R(String(B))}}return p(),()=>{m=!0}},[b,r]);function l(){o(m=>Math.max(1,m-1))}function g(){b&&o(m=>Math.min(b.numPages,m+1))}const v=b?formatPercent(r/b.numPages):0,a=b&&b.numPages>1?b.numPages-1:1,f=b?formatPercent((r-1)/a):0;return React.createElement("div",{className:"app-root"},React.createElement("header",{className:"topbar"},React.createElement("h1",null,"Reading Quest  MVP (PDF)"),React.createElement("div",{className:"uploader"},React.createElement("input",{ref:u,type:"file",accept:"application/pdf",onChange:s,style:{display:"none"}}),React.createElement("button",{className:"btn",onClick:()=>u.current?.click()},"Upload PDF"))),React.createElement("main",{className:"reader-area"},E&&React.createElement("div",{className:"empty",style:{borderLeft:"4px solid crimson",textAlign:"left"}},React.createElement("p",{style:{color:"crimson",margin:0}},"Error: ",E)),b?React.createElement("div",{className:"reader-card"},React.createElement("div",{className:"reader-header"},React.createElement("div",{className:"title"},b.title),React.createElement("div",{className:"meta"},"Page ",r," / ",b.numPages)),React.createElement("div",{className:"muted",style:{marginBottom:8}},"Loaded: ",b.title,"  ",b.numPages," pages"),React.createElement("div",{className:"canvas-wrap"},React.createElement("canvas",{ref:O,className:"pdf-canvas"})),React.createElement("div",{className:"controls"},React.createElement("button",{className:"btn ghost",onClick:l,disabled:r===1},"Prev"),React.createElement("div",{className:"progress"},React.createElement("div",{className:"bar-bg"},React.createElement("div",{className:"bar-fill",style:{width:`${f}%`}})),React.createElement("div",{className:"progress-label"},v,"% read")),React.createElement("button",{className:"btn",onClick:g,disabled:r===b.numPages},"Next"))):React.createElement("div",{className:"empty"},React.createElement("p",null,"No book loaded. Upload a PDF to start reading."),React.createElement("p",{className:"muted"},"Your file stays in your browser  nothing is uploaded."))),React.createElement("footer",{className:"footer"},"Simple MVP  Local only  Later we can add syncing & gamification"))}clientExports.createRoot(document.getElementById("root")).render(React.createElement(App,null));
