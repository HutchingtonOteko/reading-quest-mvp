(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const A of c)if(A.type==="childList")for(const b of A.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&o(b)}).observe(document,{childList:!0,subtree:!0});function r(c){const A={};return c.integrity&&(A.integrity=c.integrity),c.referrerPolicy&&(A.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?A.credentials="include":c.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function o(c){if(c.ep)return;c.ep=!0;const A=r(c);fetch(c.href,A)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}function getAugmentedNamespace(E){if(Object.prototype.hasOwnProperty.call(E,"__esModule"))return E;var d=E.default;if(typeof d=="function"){var r=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};r.prototype=d.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(E).forEach(function(o){var c=Object.getOwnPropertyDescriptor(E,o);Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:function(){return E[o]}})}),r}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var E=Symbol.for("react.element"),d=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),b=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),l=Symbol.iterator;function g(C){return C===null||typeof C!="object"?null:(C=l&&C[l]||C["@@iterator"],typeof C=="function"?C:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,h={};function v(C,_,W){this.props=C,this.context=_,this.refs=h,this.updater=W||m}v.prototype.isReactComponent={},v.prototype.setState=function(C,_){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,_,"setState")},v.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function p(){}p.prototype=v.prototype;function R(C,_,W){this.props=C,this.context=_,this.refs=h,this.updater=W||m}var U=R.prototype=new p;U.constructor=R,a(U,v.prototype),U.isPureReactComponent=!0;var L=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(C,_,W){var G,H={},y=null,w=null;if(_!=null)for(G in _.ref!==void 0&&(w=_.ref),_.key!==void 0&&(y=""+_.key),_)T.call(_,G)&&!z.hasOwnProperty(G)&&(H[G]=_[G]);var F=arguments.length-2;if(F===1)H.children=W;else if(1<F){for(var N=Array(F),O=0;O<F;O++)N[O]=arguments[O+2];H.children=N}if(C&&C.defaultProps)for(G in F=C.defaultProps,F)H[G]===void 0&&(H[G]=F[G]);return{$$typeof:E,type:C,key:y,ref:w,props:H,_owner:I.current}}function $(C,_){return{$$typeof:E,type:C.type,key:_,ref:C.ref,props:C.props,_owner:C._owner}}function j(C){return typeof C=="object"&&C!==null&&C.$$typeof===E}function J(C){var _={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return _[W]})}var he=/\/+/g;function le(C,_){return typeof C=="object"&&C!==null&&C.key!=null?J(""+C.key):_.toString(36)}function de(C,_,W,G,H){var y=typeof C;(y==="undefined"||y==="boolean")&&(C=null);var w=!1;if(C===null)w=!0;else switch(y){case"string":case"number":w=!0;break;case"object":switch(C.$$typeof){case E:case d:w=!0}}if(w)return w=C,H=H(w),C=G===""?"."+le(w,0):G,L(H)?(W="",C!=null&&(W=C.replace(he,"$&/")+"/"),de(H,_,W,"",function(O){return O})):H!=null&&(j(H)&&(H=$(H,W+(!H.key||w&&w.key===H.key?"":(""+H.key).replace(he,"$&/")+"/")+C)),_.push(H)),1;if(w=0,G=G===""?".":G+":",L(C))for(var F=0;F<C.length;F++){y=C[F];var N=G+le(y,F);w+=de(y,_,W,N,H)}else if(N=g(C),typeof N=="function")for(C=N.call(C),F=0;!(y=C.next()).done;)y=y.value,N=G+le(y,F++),w+=de(y,_,W,N,H);else if(y==="object")throw _=String(C),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return w}function fe(C,_,W){if(C==null)return C;var G=[],H=0;return de(C,G,"","",function(y){return _.call(W,y,H++)}),G}function re(C){if(C._status===-1){var _=C._result;_=_(),_.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=_)}if(C._status===1)return C._result.default;throw C._result}var Y={current:null},M={transition:null},x={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:M,ReactCurrentOwner:I};function k(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:fe,forEach:function(C,_,W){fe(C,function(){_.apply(this,arguments)},W)},count:function(C){var _=0;return fe(C,function(){_++}),_},toArray:function(C){return fe(C,function(_){return _})||[]},only:function(C){if(!j(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},react_production_min.Component=v,react_production_min.Fragment=r,react_production_min.Profiler=c,react_production_min.PureComponent=R,react_production_min.StrictMode=o,react_production_min.Suspense=D,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,react_production_min.act=k,react_production_min.cloneElement=function(C,_,W){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var G=a({},C.props),H=C.key,y=C.ref,w=C._owner;if(_!=null){if(_.ref!==void 0&&(y=_.ref,w=I.current),_.key!==void 0&&(H=""+_.key),C.type&&C.type.defaultProps)var F=C.type.defaultProps;for(N in _)T.call(_,N)&&!z.hasOwnProperty(N)&&(G[N]=_[N]===void 0&&F!==void 0?F[N]:_[N])}var N=arguments.length-2;if(N===1)G.children=W;else if(1<N){F=Array(N);for(var O=0;O<N;O++)F[O]=arguments[O+2];G.children=F}return{$$typeof:E,type:C.type,key:H,ref:y,props:G,_owner:w}},react_production_min.createContext=function(C){return C={$$typeof:b,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:A,_context:C},C.Consumer=C},react_production_min.createElement=V,react_production_min.createFactory=function(C){var _=V.bind(null,C);return _.type=C,_},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(C){return{$$typeof:P,render:C}},react_production_min.isValidElement=j,react_production_min.lazy=function(C){return{$$typeof:s,_payload:{_status:-1,_result:C},_init:re}},react_production_min.memo=function(C,_){return{$$typeof:u,type:C,compare:_===void 0?null:_}},react_production_min.startTransition=function(C){var _=M.transition;M.transition={};try{C()}finally{M.transition=_}},react_production_min.unstable_act=k,react_production_min.useCallback=function(C,_){return Y.current.useCallback(C,_)},react_production_min.useContext=function(C){return Y.current.useContext(C)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(C){return Y.current.useDeferredValue(C)},react_production_min.useEffect=function(C,_){return Y.current.useEffect(C,_)},react_production_min.useId=function(){return Y.current.useId()},react_production_min.useImperativeHandle=function(C,_,W){return Y.current.useImperativeHandle(C,_,W)},react_production_min.useInsertionEffect=function(C,_){return Y.current.useInsertionEffect(C,_)},react_production_min.useLayoutEffect=function(C,_){return Y.current.useLayoutEffect(C,_)},react_production_min.useMemo=function(C,_){return Y.current.useMemo(C,_)},react_production_min.useReducer=function(C,_,W){return Y.current.useReducer(C,_,W)},react_production_min.useRef=function(C){return Y.current.useRef(C)},react_production_min.useState=function(C){return Y.current.useState(C)},react_production_min.useSyncExternalStore=function(C,_,W){return Y.current.useSyncExternalStore(C,_,W)},react_production_min.useTransition=function(){return Y.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(E){function d(M,x){var k=M.length;M.push(x);e:for(;0<k;){var C=k-1>>>1,_=M[C];if(0<c(_,x))M[C]=x,M[k]=_,k=C;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var x=M[0],k=M.pop();if(k!==x){M[0]=k;e:for(var C=0,_=M.length,W=_>>>1;C<W;){var G=2*(C+1)-1,H=M[G],y=G+1,w=M[y];if(0>c(H,k))y<_&&0>c(w,H)?(M[C]=w,M[y]=k,C=y):(M[C]=H,M[G]=k,C=G);else if(y<_&&0>c(w,k))M[C]=w,M[y]=k,C=y;else break e}}return x}function c(M,x){var k=M.sortIndex-x.sortIndex;return k!==0?k:M.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;E.unstable_now=function(){return A.now()}}else{var b=Date,P=b.now();E.unstable_now=function(){return b.now()-P}}var D=[],u=[],s=1,l=null,g=3,m=!1,a=!1,h=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(M){for(var x=r(u);x!==null;){if(x.callback===null)o(u);else if(x.startTime<=M)o(u),x.sortIndex=x.expirationTime,d(D,x);else break;x=r(u)}}function L(M){if(h=!1,U(M),!a)if(r(D)!==null)a=!0,re(T);else{var x=r(u);x!==null&&Y(L,x.startTime-M)}}function T(M,x){a=!1,h&&(h=!1,p(V),V=-1),m=!0;var k=g;try{for(U(x),l=r(D);l!==null&&(!(l.expirationTime>x)||M&&!J());){var C=l.callback;if(typeof C=="function"){l.callback=null,g=l.priorityLevel;var _=C(l.expirationTime<=x);x=E.unstable_now(),typeof _=="function"?l.callback=_:l===r(D)&&o(D),U(x)}else o(D);l=r(D)}if(l!==null)var W=!0;else{var G=r(u);G!==null&&Y(L,G.startTime-x),W=!1}return W}finally{l=null,g=k,m=!1}}var I=!1,z=null,V=-1,$=5,j=-1;function J(){return!(E.unstable_now()-j<$)}function he(){if(z!==null){var M=E.unstable_now();j=M;var x=!0;try{x=z(!0,M)}finally{x?le():(I=!1,z=null)}}else I=!1}var le;if(typeof R=="function")le=function(){R(he)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=he,le=function(){fe.postMessage(null)}}else le=function(){v(he,0)};function re(M){z=M,I||(I=!0,le())}function Y(M,x){V=v(function(){M(E.unstable_now())},x)}E.unstable_IdlePriority=5,E.unstable_ImmediatePriority=1,E.unstable_LowPriority=4,E.unstable_NormalPriority=3,E.unstable_Profiling=null,E.unstable_UserBlockingPriority=2,E.unstable_cancelCallback=function(M){M.callback=null},E.unstable_continueExecution=function(){a||m||(a=!0,re(T))},E.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},E.unstable_getCurrentPriorityLevel=function(){return g},E.unstable_getFirstCallbackNode=function(){return r(D)},E.unstable_next=function(M){switch(g){case 1:case 2:case 3:var x=3;break;default:x=g}var k=g;g=x;try{return M()}finally{g=k}},E.unstable_pauseExecution=function(){},E.unstable_requestPaint=function(){},E.unstable_runWithPriority=function(M,x){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=g;g=M;try{return x()}finally{g=k}},E.unstable_scheduleCallback=function(M,x,k){var C=E.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?C+k:C):k=C,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=k+_,M={id:s++,callback:x,priorityLevel:M,startTime:k,expirationTime:_,sortIndex:-1},k>C?(M.sortIndex=k,d(u,M),r(D)===null&&M===r(u)&&(h?(p(V),V=-1):h=!0,Y(L,k-C))):(M.sortIndex=_,d(D,M),a||m||(a=!0,re(T))),M},E.unstable_shouldYield=J,E.unstable_wrapCallback=function(M){var x=g;return function(){var k=g;g=x;try{return M.apply(this,arguments)}finally{g=k}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var E=requireReact(),d=requireScheduler();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function A(e,t){b(e,t),b(e+"Capture",t)}function b(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function g(e){return D.call(l,e)?!0:D.call(s,e)?!1:u.test(e)?l[e]=!0:(s[e]=!0,!1)}function m(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a(e,t,n,i){if(t===null||typeof t>"u"||m(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function h(e,t,n,i,f,S,B){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=f,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=B}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,R);v[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,R);v[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,R);v[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,n,i){var f=v.hasOwnProperty(t)?v[t]:null;(f!==null?f.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a(t,n,f,i)&&(n=null),i||f===null?g(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):f.mustUseProperty?e[f.propertyName]=n===null?f.type===3?!1:"":n:(t=f.attributeName,i=f.attributeNamespace,n===null?e.removeAttribute(t):(f=f.type,n=f===3||f===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var L=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var k=Object.assign,C;function _(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var i=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){i=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){i=ce}e()}}catch(ce){if(ce&&i&&typeof ce.stack=="string"){for(var f=ce.stack.split(`
`),S=i.stack.split(`
`),B=f.length-1,K=S.length-1;1<=B&&0<=K&&f[B]!==S[K];)K--;for(;1<=B&&0<=K;B--,K--)if(f[B]!==S[K]){if(B!==1||K!==1)do if(B--,K--,0>K||f[B]!==S[K]){var Z=`
`+f[B].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=B&&0<=K);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function H(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function y(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case I:return"Portal";case $:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:y(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return y(e(t))}catch{}}return null}function w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function F(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O(e){var t=N(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var f=n.get,S=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(B){i=""+B,S.call(this,B)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(B){i=""+B},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X(e){e._valueTracker||(e._valueTracker=O(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=N(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ae(e,t){var n=t.checked;return k({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function se(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=F(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ue(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function pe(e,t){ue(e,t);var n=F(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?me(e,t.type,n):t.hasOwnProperty("defaultValue")&&me(e,t.type,F(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function me(e,t,n){(t!=="number"||te(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ke=Array.isArray;function we(e,t,n,i){if(e=e.options,t){t={};for(var f=0;f<n.length;f++)t["$"+n[f]]=!0;for(n=0;n<e.length;n++)f=t.hasOwnProperty("$"+e[n].value),e[n].selected!==f&&(e[n].selected=f),f&&i&&(e[n].defaultSelected=!0)}else{for(n=""+F(n),t=null,f=0;f<e.length;f++){if(e[f].value===n){e[f].selected=!0,i&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Oe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return k({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ue(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(r(92));if(ke(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:F(n)}}function He(e,t){var n=F(t.value),i=F(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ye(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,Ze=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,f){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,f)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qe[t]=qe[e]})});function Qn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qe.hasOwnProperty(e)&&qe[e]?(""+t).trim():t+"px"}function gn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,f=Qn(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,f):e[n]=f}}var ye=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(e,t){if(t){if(ye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function ee(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function Ge(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var st=null,ne=null,Ce=null;function Ne(e){if(e=_r(e)){if(typeof st!="function")throw Error(r(280));var t=e.stateNode;t&&(t=yi(t),st(e.stateNode,e.type,t))}}function Ie(e){ne?Ce?Ce.push(e):Ce=[e]:ne=e}function Le(){if(ne){var e=ne,t=Ce;if(Ce=ne=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function $e(e,t){return e(t)}function xe(){}var Ke=!1;function We(e,t,n){if(Ke)return e(t,n);Ke=!0;try{return $e(e,t,n)}finally{Ke=!1,(ne!==null||Ce!==null)&&(xe(),Le())}}function Ve(e,t){var n=e.stateNode;if(n===null)return null;var i=yi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var rt=!1;if(P)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){rt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{rt=!1}function lt(e,t,n,i,f,S,B,K,Z){var ce=Array.prototype.slice.call(arguments,3);try{t.apply(n,ce)}catch(Se){this.onError(Se)}}var Nt=!1,yt=null,en=!1,Nn=null,gu={onError:function(e){Nt=!0,yt=e}};function mu(e,t,n,i,f,S,B,K,Z){Nt=!1,yt=null,lt.apply(gu,arguments)}function vu(e,t,n,i,f,S,B,K,Z){if(mu.apply(this,arguments),Nt){if(Nt){var ce=yt;Nt=!1,yt=null}else throw Error(r(198));en||(en=!0,Nn=ce)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ba(e){if(_n(e)!==e)throw Error(r(188))}function yu(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var f=n.return;if(f===null)break;var S=f.alternate;if(S===null){if(i=f.return,i!==null){n=i;continue}break}if(f.child===S.child){for(S=f.child;S;){if(S===n)return Ba(f),e;if(S===i)return Ba(f),t;S=S.sibling}throw Error(r(188))}if(n.return!==i.return)n=f,i=S;else{for(var B=!1,K=f.child;K;){if(K===n){B=!0,n=f,i=S;break}if(K===i){B=!0,i=f,n=S;break}K=K.sibling}if(!B){for(K=S.child;K;){if(K===n){B=!0,n=S,i=f;break}if(K===i){B=!0,i=S,n=f;break}K=K.sibling}if(!B)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function Ua(e){return e=yu(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var Ha=d.unstable_scheduleCallback,Wa=d.unstable_cancelCallback,Au=d.unstable_shouldYield,Su=d.unstable_requestPaint,dt=d.unstable_now,bu=d.unstable_getCurrentPriorityLevel,rs=d.unstable_ImmediatePriority,$a=d.unstable_UserBlockingPriority,Zr=d.unstable_NormalPriority,Eu=d.unstable_LowPriority,Va=d.unstable_IdlePriority,qr=null,tn=null;function xu(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qr,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Tu,ku=Math.log,Cu=Math.LN2;function Tu(e){return e>>>=0,e===0?32:31-(ku(e)/Cu|0)|0}var ei=64,ti=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,f=e.suspendedLanes,S=e.pingedLanes,B=n&268435455;if(B!==0){var K=B&~f;K!==0?i=Ar(K):(S&=B,S!==0&&(i=Ar(S)))}else B=n&~f,B!==0?i=Ar(B):S!==0&&(i=Ar(S));if(i===0)return 0;if(t!==0&&t!==i&&(t&f)===0&&(f=i&-i,S=t&-t,f>=S||f===16&&(S&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Yt(t),f=1<<n,i|=e[n],t&=~f;return i}function wu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,f=e.expirationTimes,S=e.pendingLanes;0<S;){var B=31-Yt(S),K=1<<B,Z=f[B];Z===-1?((K&n)===0||(K&i)!==0)&&(f[B]=wu(K,t)):Z<=t&&(e.expiredLanes|=K),S&=~K}}function is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function ss(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function Ru(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var f=31-Yt(n),S=1<<f;t[f]=0,i[f]=-1,e[f]=-1,n&=~S}}function as(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yt(n),f=1<<i;f&t|e[i]&t&&(e[i]|=t),n&=~f}}var Qe=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ya,os,Ka,ja,Qa,ls=!1,ri=[],mn=null,vn=null,yn=null,br=new Map,Er=new Map,An=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function xr(e,t,n,i,f,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:S,targetContainers:[f]},t!==null&&(t=_r(t),t!==null&&os(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Fu(e,t,n,i,f){switch(t){case"focusin":return mn=xr(mn,e,t,n,i,f),!0;case"dragenter":return vn=xr(vn,e,t,n,i,f),!0;case"mouseover":return yn=xr(yn,e,t,n,i,f),!0;case"pointerover":var S=f.pointerId;return br.set(S,xr(br.get(S)||null,e,t,n,i,f)),!0;case"gotpointercapture":return S=f.pointerId,Er.set(S,xr(Er.get(S)||null,e,t,n,i,f)),!0}return!1}function Za(e){var t=Bn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=_a(n),t!==null){e.blockedOn=t,Qa(e.priority,function(){Ka(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Te=i,n.target.dispatchEvent(i),Te=null}else return t=_r(n),t!==null&&os(t),e.blockedOn=n,!1;t.shift()}return!0}function qa(e,t,n){ii(e)&&n.delete(t)}function Iu(){ls=!1,mn!==null&&ii(mn)&&(mn=null),vn!==null&&ii(vn)&&(vn=null),yn!==null&&ii(yn)&&(yn=null),br.forEach(qa),Er.forEach(qa)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,ls||(ls=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Iu)))}function Cr(e){function t(f){return kr(f,e)}if(0<ri.length){kr(ri[0],e);for(var n=1;n<ri.length;n++){var i=ri[n];i.blockedOn===e&&(i.blockedOn=null)}}for(mn!==null&&kr(mn,e),vn!==null&&kr(vn,e),yn!==null&&kr(yn,e),br.forEach(t),Er.forEach(t),n=0;n<An.length;n++)i=An[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)Za(n),n.blockedOn===null&&An.shift()}var Jn=L.ReactCurrentBatchConfig,si=!0;function Ou(e,t,n,i){var f=Qe,S=Jn.transition;Jn.transition=null;try{Qe=1,us(e,t,n,i)}finally{Qe=f,Jn.transition=S}}function Du(e,t,n,i){var f=Qe,S=Jn.transition;Jn.transition=null;try{Qe=4,us(e,t,n,i)}finally{Qe=f,Jn.transition=S}}function us(e,t,n,i){if(si){var f=cs(e,t,n,i);if(f===null)ws(e,t,i,ai,n),Ja(e,i);else if(Fu(f,e,t,n,i))i.stopPropagation();else if(Ja(e,i),t&4&&-1<Mu.indexOf(e)){for(;f!==null;){var S=_r(f);if(S!==null&&Ya(S),S=cs(e,t,n,i),S===null&&ws(e,t,i,ai,n),S===f)break;f=S}f!==null&&i.stopPropagation()}else ws(e,t,i,null,n)}}var ai=null;function cs(e,t,n,i){if(ai=null,e=Ge(i),e=Bn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_a(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case rs:return 1;case $a:return 4;case Zr:case Eu:return 16;case Va:return 536870912;default:return 16}default:return 16}}var Sn=null,ds=null,oi=null;function to(){if(oi)return oi;var e,t=ds,n=t.length,i,f="value"in Sn?Sn.value:Sn.textContent,S=f.length;for(e=0;e<n&&t[e]===f[e];e++);var B=n-e;for(i=1;i<=B&&t[n-i]===f[S-i];i++);return oi=f.slice(e,1<i?1-i:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function no(){return!1}function _t(e){function t(n,i,f,S,B){this._reactName=n,this._targetInst=f,this.type=i,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var K in e)e.hasOwnProperty(K)&&(n=e[K],this[K]=n?n(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ui:no,this.isPropagationStopped=no,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=_t(Zn),Tr=k({},Zn,{view:0,detail:0}),Lu=_t(Tr),fs,ps,wr,ci=k({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(fs=e.screenX-wr.screenX,ps=e.screenY-wr.screenY):ps=fs=0,wr=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),ro=_t(ci),Nu=k({},ci,{dataTransfer:0}),_u=_t(Nu),Bu=k({},Tr,{relatedTarget:0}),gs=_t(Bu),Uu=k({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=_t(Uu),Hu=k({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wu=_t(Hu),$u=k({},Zn,{data:0}),io=_t($u),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xu[e])?!!t[e]:!1}function ms(){return Yu}var Ku=k({},Tr,{key:function(e){if(e.key){var t=Vu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=_t(Ku),Qu=k({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=_t(Qu),Ju=k({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Zu=_t(Ju),qu=k({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=_t(qu),tc=k({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=_t(tc),rc=[9,13,27,32],vs=P&&"CompositionEvent"in window,Pr=null;P&&"documentMode"in document&&(Pr=document.documentMode);var ic=P&&"TextEvent"in window&&!Pr,ao=P&&(!vs||Pr&&8<Pr&&11>=Pr),oo=" ",lo=!1;function uo(e,t){switch(e){case"keyup":return rc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function sc(e,t){switch(e){case"compositionend":return co(t);case"keypress":return t.which!==32?null:(lo=!0,oo);case"textInput":return e=t.data,e===oo&&lo?null:e;default:return null}}function ac(e,t){if(qn)return e==="compositionend"||!vs&&uo(e,t)?(e=to(),oi=ds=Sn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var oc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oc[e.type]:t==="textarea"}function fo(e,t,n,i){Ie(i),t=gi(t,"onChange"),0<t.length&&(n=new hs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Rr=null,Mr=null;function lc(e){Fo(e,0)}function di(e){var t=ir(e);if(Q(t))return e}function uc(e,t){if(e==="change")return t}var po=!1;if(P){var ys;if(P){var As="oninput"in document;if(!As){var go=document.createElement("div");go.setAttribute("oninput","return;"),As=typeof go.oninput=="function"}ys=As}else ys=!1;po=ys&&(!document.documentMode||9<document.documentMode)}function mo(){Rr&&(Rr.detachEvent("onpropertychange",vo),Mr=Rr=null)}function vo(e){if(e.propertyName==="value"&&di(Mr)){var t=[];fo(t,Mr,e,Ge(e)),We(lc,t)}}function cc(e,t,n){e==="focusin"?(mo(),Rr=t,Mr=n,Rr.attachEvent("onpropertychange",vo)):e==="focusout"&&mo()}function dc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Mr)}function hc(e,t){if(e==="click")return di(t)}function fc(e,t){if(e==="input"||e==="change")return di(t)}function pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:pc;function Fr(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var f=n[i];if(!D.call(t,f)||!Kt(e[f],t[f]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e,t){var n=yo(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yo(n)}}function So(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?So(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bo(){for(var e=window,t=te();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=te(e.document)}return t}function Ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gc(e){var t=bo(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&So(n.ownerDocument.documentElement,n)){if(i!==null&&Ss(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=n.textContent.length,S=Math.min(i.start,f);i=i.end===void 0?S:Math.min(i.end,f),!e.extend&&S>i&&(f=i,i=S,S=f),f=Ao(n,S);var B=Ao(n,i);f&&B&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==B.node||e.focusOffset!==B.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),S>i?(e.addRange(t),e.extend(B.node,B.offset)):(t.setEnd(B.node,B.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mc=P&&"documentMode"in document&&11>=document.documentMode,er=null,bs=null,Ir=null,Es=!1;function Eo(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Es||er==null||er!==te(i)||(i=er,"selectionStart"in i&&Ss(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ir&&Fr(Ir,i)||(Ir=i,i=gi(bs,"onSelect"),0<i.length&&(t=new hs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=er)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},xs={},xo={};P&&(xo=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function fi(e){if(xs[e])return xs[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xo)return xs[e]=t[n];return e}var ko=fi("animationend"),Co=fi("animationiteration"),To=fi("animationstart"),wo=fi("transitionend"),Po=new Map,Ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){Po.set(e,t),A(t,[e])}for(var ks=0;ks<Ro.length;ks++){var Cs=Ro[ks],vc=Cs.toLowerCase(),yc=Cs[0].toUpperCase()+Cs.slice(1);bn(vc,"on"+yc)}bn(ko,"onAnimationEnd"),bn(Co,"onAnimationIteration"),bn(To,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(wo,"onTransitionEnd"),b("onMouseEnter",["mouseout","mouseover"]),b("onMouseLeave",["mouseout","mouseover"]),b("onPointerEnter",["pointerout","pointerover"]),b("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ac=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mo(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,vu(i,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],f=i.event;i=i.listeners;e:{var S=void 0;if(t)for(var B=i.length-1;0<=B;B--){var K=i[B],Z=K.instance,ce=K.currentTarget;if(K=K.listener,Z!==S&&f.isPropagationStopped())break e;Mo(f,K,ce),S=Z}else for(B=0;B<i.length;B++){if(K=i[B],Z=K.instance,ce=K.currentTarget,K=K.listener,Z!==S&&f.isPropagationStopped())break e;Mo(f,K,ce),S=Z}}}if(en)throw e=Nn,en=!1,Nn=null,e}function et(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var i=e+"__bubble";n.has(i)||(Io(t,e,2,!1),n.add(i))}function Ts(e,t,n){var i=0;t&&(i|=4),Io(n,e,i,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[pi]){e[pi]=!0,o.forEach(function(n){n!=="selectionchange"&&(Ac.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Ts("selectionchange",!1,t))}}function Io(e,t,n,i){switch(eo(t)){case 1:var f=Ou;break;case 4:f=Du;break;default:f=us}n=f.bind(null,t,n,e),f=void 0,!rt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),i?f!==void 0?e.addEventListener(t,n,{capture:!0,passive:f}):e.addEventListener(t,n,!0):f!==void 0?e.addEventListener(t,n,{passive:f}):e.addEventListener(t,n,!1)}function ws(e,t,n,i,f){var S=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var B=i.tag;if(B===3||B===4){var K=i.stateNode.containerInfo;if(K===f||K.nodeType===8&&K.parentNode===f)break;if(B===4)for(B=i.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&(Z=B.stateNode.containerInfo,Z===f||Z.nodeType===8&&Z.parentNode===f))return;B=B.return}for(;K!==null;){if(B=Bn(K),B===null)return;if(Z=B.tag,Z===5||Z===6){i=S=B;continue e}K=K.parentNode}}i=i.return}We(function(){var ce=S,Se=Ge(n),be=[];e:{var ve=Po.get(e);if(ve!==void 0){var Pe=hs,Me=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":Pe=ju;break;case"focusin":Me="focus",Pe=gs;break;case"focusout":Me="blur",Pe=gs;break;case"beforeblur":case"afterblur":Pe=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Zu;break;case ko:case Co:case To:Pe=zu;break;case wo:Pe=ec;break;case"scroll":Pe=Lu;break;case"wheel":Pe=nc;break;case"copy":case"cut":case"paste":Pe=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=so}var Fe=(t&4)!==0,ht=!Fe&&e==="scroll",ae=Fe?ve!==null?ve+"Capture":null:ve;Fe=[];for(var q=ce,oe;q!==null;){oe=q;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,ae!==null&&(Ee=Ve(q,ae),Ee!=null&&Fe.push(Lr(q,Ee,oe)))),ht)break;q=q.return}0<Fe.length&&(ve=new Pe(ve,Me,null,n,Se),be.push({event:ve,listeners:Fe}))}}if((t&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",ve&&n!==Te&&(Me=n.relatedTarget||n.fromElement)&&(Bn(Me)||Me[on]))break e;if((Pe||ve)&&(ve=Se.window===Se?Se:(ve=Se.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Me=n.relatedTarget||n.toElement,Pe=ce,Me=Me?Bn(Me):null,Me!==null&&(ht=_n(Me),Me!==ht||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Pe=null,Me=ce),Pe!==Me)){if(Fe=ro,Ee="onMouseLeave",ae="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=so,Ee="onPointerLeave",ae="onPointerEnter",q="pointer"),ht=Pe==null?ve:ir(Pe),oe=Me==null?ve:ir(Me),ve=new Fe(Ee,q+"leave",Pe,n,Se),ve.target=ht,ve.relatedTarget=oe,Ee=null,Bn(Se)===ce&&(Fe=new Fe(ae,q+"enter",Me,n,Se),Fe.target=oe,Fe.relatedTarget=ht,Ee=Fe),ht=Ee,Pe&&Me)t:{for(Fe=Pe,ae=Me,q=0,oe=Fe;oe;oe=nr(oe))q++;for(oe=0,Ee=ae;Ee;Ee=nr(Ee))oe++;for(;0<q-oe;)Fe=nr(Fe),q--;for(;0<oe-q;)ae=nr(ae),oe--;for(;q--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=nr(Fe),ae=nr(ae)}Fe=null}else Fe=null;Pe!==null&&Oo(be,ve,Pe,Fe,!1),Me!==null&&ht!==null&&Oo(be,ht,Me,Fe,!0)}}e:{if(ve=ce?ir(ce):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var De=uc;else if(ho(ve))if(po)De=fc;else{De=dc;var _e=cc}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(De=hc);if(De&&(De=De(e,ce))){fo(be,De,n,Se);break e}_e&&_e(e,ve,ce),e==="focusout"&&(_e=ve._wrapperState)&&_e.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(_e=ce?ir(ce):window,e){case"focusin":(ho(_e)||_e.contentEditable==="true")&&(er=_e,bs=ce,Ir=null);break;case"focusout":Ir=bs=er=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Eo(be,n,Se);break;case"selectionchange":if(mc)break;case"keydown":case"keyup":Eo(be,n,Se)}var Be;if(vs)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else qn?uo(e,n)&&(ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ze="onCompositionStart");ze&&(ao&&n.locale!=="ko"&&(qn||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&qn&&(Be=to()):(Sn=Se,ds="value"in Sn?Sn.value:Sn.textContent,qn=!0)),_e=gi(ce,ze),0<_e.length&&(ze=new io(ze,e,null,n,Se),be.push({event:ze,listeners:_e}),Be?ze.data=Be:(Be=co(n),Be!==null&&(ze.data=Be)))),(Be=ic?sc(e,n):ac(e,n))&&(ce=gi(ce,"onBeforeInput"),0<ce.length&&(Se=new io("onBeforeInput","beforeinput",null,n,Se),be.push({event:Se,listeners:ce}),Se.data=Be))}Fo(be,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gi(e,t){for(var n=t+"Capture",i=[];e!==null;){var f=e,S=f.stateNode;f.tag===5&&S!==null&&(f=S,S=Ve(e,n),S!=null&&i.unshift(Lr(e,S,f)),S=Ve(e,t),S!=null&&i.push(Lr(e,S,f))),e=e.return}return i}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oo(e,t,n,i,f){for(var S=t._reactName,B=[];n!==null&&n!==i;){var K=n,Z=K.alternate,ce=K.stateNode;if(Z!==null&&Z===i)break;K.tag===5&&ce!==null&&(K=ce,f?(Z=Ve(n,S),Z!=null&&B.unshift(Lr(n,Z,K))):f||(Z=Ve(n,S),Z!=null&&B.push(Lr(n,Z,K)))),n=n.return}B.length!==0&&e.push({event:t,listeners:B})}var Sc=/\r\n?/g,bc=/\u0000|\uFFFD/g;function Do(e){return(typeof e=="string"?e:""+e).replace(Sc,`
`).replace(bc,"")}function mi(e,t,n){if(t=Do(t),Do(e)!==t&&n)throw Error(r(425))}function vi(){}var Ps=null,Rs=null;function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,Ec=typeof clearTimeout=="function"?clearTimeout:void 0,Lo=typeof Promise=="function"?Promise:void 0,xc=typeof queueMicrotask=="function"?queueMicrotask:typeof Lo<"u"?function(e){return Lo.resolve(null).then(e).catch(kc)}:Fs;function kc(e){setTimeout(function(){throw e})}function Is(e,t){var n=t,i=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(i===0){e.removeChild(f),Cr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=f}while(n);Cr(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),nn="__reactFiber$"+rr,Nr="__reactProps$"+rr,on="__reactContainer$"+rr,Os="__reactEvents$"+rr,Cc="__reactListeners$"+rr,Tc="__reactHandles$"+rr;function Bn(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=No(e);e!==null;){if(n=e[nn])return n;e=No(e)}return t}e=n,n=e.parentNode}return null}function _r(e){return e=e[nn]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function yi(e){return e[Nr]||null}var Ds=[],sr=-1;function xn(e){return{current:e}}function tt(e){0>sr||(e.current=Ds[sr],Ds[sr]=null,sr--)}function Je(e,t){sr++,Ds[sr]=e.current,e.current=t}var kn={},kt=xn(kn),Mt=xn(!1),Un=kn;function ar(e,t){var n=e.type.contextTypes;if(!n)return kn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var f={},S;for(S in n)f[S]=t[S];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function Ft(e){return e=e.childContextTypes,e!=null}function Ai(){tt(Mt),tt(kt)}function _o(e,t,n){if(kt.current!==kn)throw Error(r(168));Je(kt,t),Je(Mt,n)}function Bo(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var f in i)if(!(f in t))throw Error(r(108,w(e)||"Unknown",f));return k({},n,i)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Un=kt.current,Je(kt,e),Je(Mt,Mt.current),!0}function Uo(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Bo(e,t,Un),i.__reactInternalMemoizedMergedChildContext=e,tt(Mt),tt(kt),Je(kt,e)):tt(Mt),Je(Mt,n)}var ln=null,bi=!1,Ls=!1;function zo(e){ln===null?ln=[e]:ln.push(e)}function wc(e){bi=!0,zo(e)}function Cn(){if(!Ls&&ln!==null){Ls=!0;var e=0,t=Qe;try{var n=ln;for(Qe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ln=null,bi=!1}catch(f){throw ln!==null&&(ln=ln.slice(e+1)),Ha(rs,Cn),f}finally{Qe=t,Ls=!1}}return null}var or=[],lr=0,Ei=null,xi=0,Ht=[],Wt=0,zn=null,un=1,cn="";function Hn(e,t){or[lr++]=xi,or[lr++]=Ei,Ei=e,xi=t}function Ho(e,t,n){Ht[Wt++]=un,Ht[Wt++]=cn,Ht[Wt++]=zn,zn=e;var i=un;e=cn;var f=32-Yt(i)-1;i&=~(1<<f),n+=1;var S=32-Yt(t)+f;if(30<S){var B=f-f%5;S=(i&(1<<B)-1).toString(32),i>>=B,f-=B,un=1<<32-Yt(t)+f|n<<f|i,cn=S+e}else un=1<<S|n<<f|i,cn=e}function Ns(e){e.return!==null&&(Hn(e,1),Ho(e,1,0))}function _s(e){for(;e===Ei;)Ei=or[--lr],or[lr]=null,xi=or[--lr],or[lr]=null;for(;e===zn;)zn=Ht[--Wt],Ht[Wt]=null,cn=Ht[--Wt],Ht[Wt]=null,un=Ht[--Wt],Ht[Wt]=null}var Bt=null,Ut=null,it=!1,jt=null;function Wo(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $o(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Ut=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(it){var t=Ut;if(t){var n=t;if(!$o(e,t)){if(Bs(e))throw Error(r(418));t=En(n.nextSibling);var i=Bt;t&&$o(e,t)?Wo(i,n):(e.flags=e.flags&-4097|2,it=!1,Bt=e)}}else{if(Bs(e))throw Error(r(418));e.flags=e.flags&-4097|2,it=!1,Bt=e}}}function Vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ki(e){if(e!==Bt)return!1;if(!it)return Vo(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ms(e.type,e.memoizedProps)),t&&(t=Ut)){if(Bs(e))throw Go(),Error(r(418));for(;t;)Wo(e,t),t=En(t.nextSibling)}if(Vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?En(e.stateNode.nextSibling):null;return!0}function Go(){for(var e=Ut;e;)e=En(e.nextSibling)}function ur(){Ut=Bt=null,it=!1}function zs(e){jt===null?jt=[e]:jt.push(e)}var Pc=L.ReactCurrentBatchConfig;function Br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var f=i,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(B){var K=f.refs;B===null?delete K[S]:K[S]=B},t._stringRef=S,t)}if(typeof e!="string")throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){var t=e._init;return t(e._payload)}function Yo(e){function t(ae,q){if(e){var oe=ae.deletions;oe===null?(ae.deletions=[q],ae.flags|=16):oe.push(q)}}function n(ae,q){if(!e)return null;for(;q!==null;)t(ae,q),q=q.sibling;return null}function i(ae,q){for(ae=new Map;q!==null;)q.key!==null?ae.set(q.key,q):ae.set(q.index,q),q=q.sibling;return ae}function f(ae,q){return ae=On(ae,q),ae.index=0,ae.sibling=null,ae}function S(ae,q,oe){return ae.index=oe,e?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<q?(ae.flags|=2,q):oe):(ae.flags|=2,q)):(ae.flags|=1048576,q)}function B(ae){return e&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,q,oe,Ee){return q===null||q.tag!==6?(q=Fa(oe,ae.mode,Ee),q.return=ae,q):(q=f(q,oe),q.return=ae,q)}function Z(ae,q,oe,Ee){var De=oe.type;return De===z?Se(ae,q,oe.props.children,Ee,oe.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&Xo(De)===q.type)?(Ee=f(q,oe.props),Ee.ref=Br(ae,q,oe),Ee.return=ae,Ee):(Ee=ji(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Br(ae,q,oe),Ee.return=ae,Ee)}function ce(ae,q,oe,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Ia(oe,ae.mode,Ee),q.return=ae,q):(q=f(q,oe.children||[]),q.return=ae,q)}function Se(ae,q,oe,Ee,De){return q===null||q.tag!==7?(q=jn(oe,ae.mode,Ee,De),q.return=ae,q):(q=f(q,oe),q.return=ae,q)}function be(ae,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Fa(""+q,ae.mode,oe),q.return=ae,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return oe=ji(q.type,q.key,q.props,null,ae.mode,oe),oe.ref=Br(ae,null,q),oe.return=ae,oe;case I:return q=Ia(q,ae.mode,oe),q.return=ae,q;case re:var Ee=q._init;return be(ae,Ee(q._payload),oe)}if(ke(q)||x(q))return q=jn(q,ae.mode,oe,null),q.return=ae,q;Ci(ae,q)}return null}function ve(ae,q,oe,Ee){var De=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return De!==null?null:K(ae,q,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return oe.key===De?Z(ae,q,oe,Ee):null;case I:return oe.key===De?ce(ae,q,oe,Ee):null;case re:return De=oe._init,ve(ae,q,De(oe._payload),Ee)}if(ke(oe)||x(oe))return De!==null?null:Se(ae,q,oe,Ee,null);Ci(ae,oe)}return null}function Pe(ae,q,oe,Ee,De){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(oe)||null,K(q,ae,""+Ee,De);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case T:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,Z(q,ae,Ee,De);case I:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,ce(q,ae,Ee,De);case re:var _e=Ee._init;return Pe(ae,q,oe,_e(Ee._payload),De)}if(ke(Ee)||x(Ee))return ae=ae.get(oe)||null,Se(q,ae,Ee,De,null);Ci(q,Ee)}return null}function Me(ae,q,oe,Ee){for(var De=null,_e=null,Be=q,ze=q=0,bt=null;Be!==null&&ze<oe.length;ze++){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var je=ve(ae,Be,oe[ze],Ee);if(je===null){Be===null&&(Be=bt);break}e&&Be&&je.alternate===null&&t(ae,Be),q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je,Be=bt}if(ze===oe.length)return n(ae,Be),it&&Hn(ae,ze),De;if(Be===null){for(;ze<oe.length;ze++)Be=be(ae,oe[ze],Ee),Be!==null&&(q=S(Be,q,ze),_e===null?De=Be:_e.sibling=Be,_e=Be);return it&&Hn(ae,ze),De}for(Be=i(ae,Be);ze<oe.length;ze++)bt=Pe(Be,ae,ze,oe[ze],Ee),bt!==null&&(e&&bt.alternate!==null&&Be.delete(bt.key===null?ze:bt.key),q=S(bt,q,ze),_e===null?De=bt:_e.sibling=bt,_e=bt);return e&&Be.forEach(function(Dn){return t(ae,Dn)}),it&&Hn(ae,ze),De}function Fe(ae,q,oe,Ee){var De=x(oe);if(typeof De!="function")throw Error(r(150));if(oe=De.call(oe),oe==null)throw Error(r(151));for(var _e=De=null,Be=q,ze=q=0,bt=null,je=oe.next();Be!==null&&!je.done;ze++,je=oe.next()){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var Dn=ve(ae,Be,je.value,Ee);if(Dn===null){Be===null&&(Be=bt);break}e&&Be&&Dn.alternate===null&&t(ae,Be),q=S(Dn,q,ze),_e===null?De=Dn:_e.sibling=Dn,_e=Dn,Be=bt}if(je.done)return n(ae,Be),it&&Hn(ae,ze),De;if(Be===null){for(;!je.done;ze++,je=oe.next())je=be(ae,je.value,Ee),je!==null&&(q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return it&&Hn(ae,ze),De}for(Be=i(ae,Be);!je.done;ze++,je=oe.next())je=Pe(Be,ae,ze,je.value,Ee),je!==null&&(e&&je.alternate!==null&&Be.delete(je.key===null?ze:je.key),q=S(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return e&&Be.forEach(function(od){return t(ae,od)}),it&&Hn(ae,ze),De}function ht(ae,q,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:e:{for(var De=oe.key,_e=q;_e!==null;){if(_e.key===De){if(De=oe.type,De===z){if(_e.tag===7){n(ae,_e.sibling),q=f(_e,oe.props.children),q.return=ae,ae=q;break e}}else if(_e.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&Xo(De)===_e.type){n(ae,_e.sibling),q=f(_e,oe.props),q.ref=Br(ae,_e,oe),q.return=ae,ae=q;break e}n(ae,_e);break}else t(ae,_e);_e=_e.sibling}oe.type===z?(q=jn(oe.props.children,ae.mode,Ee,oe.key),q.return=ae,ae=q):(Ee=ji(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Br(ae,q,oe),Ee.return=ae,ae=Ee)}return B(ae);case I:e:{for(_e=oe.key;q!==null;){if(q.key===_e)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){n(ae,q.sibling),q=f(q,oe.children||[]),q.return=ae,ae=q;break e}else{n(ae,q);break}else t(ae,q);q=q.sibling}q=Ia(oe,ae.mode,Ee),q.return=ae,ae=q}return B(ae);case re:return _e=oe._init,ht(ae,q,_e(oe._payload),Ee)}if(ke(oe))return Me(ae,q,oe,Ee);if(x(oe))return Fe(ae,q,oe,Ee);Ci(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(n(ae,q.sibling),q=f(q,oe),q.return=ae,ae=q):(n(ae,q),q=Fa(oe,ae.mode,Ee),q.return=ae,ae=q),B(ae)):n(ae,q)}return ht}var cr=Yo(!0),Ko=Yo(!1),Ti=xn(null),wi=null,dr=null,Hs=null;function Ws(){Hs=dr=wi=null}function $s(e){var t=Ti.current;tt(Ti),e._currentValue=t}function Vs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){wi=e,Hs=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Hs!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(wi===null)throw Error(r(308));dr=e,wi.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Wn=null;function Gs(e){Wn===null?Wn=[e]:Wn.push(e)}function jo(e,t,n,i){var f=t.interleaved;return f===null?(n.next=n,Gs(t)):(n.next=f.next,f.next=n),t.interleaved=n,dn(e,i)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Xe&2)!==0){var f=i.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),i.pending=t,dn(e,n)}return f=i.interleaved,f===null?(t.next=t,Gs(i)):(t.next=f.next,f.next=t),i.interleaved=t,dn(e,n)}function Pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,as(e,n)}}function Jo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var f=null,S=null;if(n=n.firstBaseUpdate,n!==null){do{var B={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};S===null?f=S=B:S=S.next=B,n=n.next}while(n!==null);S===null?f=S=t:S=S.next=t}else f=S=t;n={baseState:i.baseState,firstBaseUpdate:f,lastBaseUpdate:S,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ri(e,t,n,i){var f=e.updateQueue;Tn=!1;var S=f.firstBaseUpdate,B=f.lastBaseUpdate,K=f.shared.pending;if(K!==null){f.shared.pending=null;var Z=K,ce=Z.next;Z.next=null,B===null?S=ce:B.next=ce,B=Z;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,K=Se.lastBaseUpdate,K!==B&&(K===null?Se.firstBaseUpdate=ce:K.next=ce,Se.lastBaseUpdate=Z))}if(S!==null){var be=f.baseState;B=0,Se=ce=Z=null,K=S;do{var ve=K.lane,Pe=K.eventTime;if((i&ve)===ve){Se!==null&&(Se=Se.next={eventTime:Pe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Me=e,Fe=K;switch(ve=t,Pe=n,Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){be=Me.call(Pe,be,ve);break e}be=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,ve=typeof Me=="function"?Me.call(Pe,be,ve):Me,ve==null)break e;be=k({},be,ve);break e;case 2:Tn=!0}}K.callback!==null&&K.lane!==0&&(e.flags|=64,ve=f.effects,ve===null?f.effects=[K]:ve.push(K))}else Pe={eventTime:Pe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Se===null?(ce=Se=Pe,Z=be):Se=Se.next=Pe,B|=ve;if(K=K.next,K===null){if(K=f.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,f.lastBaseUpdate=ve,f.shared.pending=null}}while(!0);if(Se===null&&(Z=be),f.baseState=Z,f.firstBaseUpdate=ce,f.lastBaseUpdate=Se,t=f.shared.interleaved,t!==null){f=t;do B|=f.lane,f=f.next;while(f!==t)}else S===null&&(f.shared.lanes=0);Gn|=B,e.lanes=B,e.memoizedState=be}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],f=i.callback;if(f!==null){if(i.callback=null,i=n,typeof f!="function")throw Error(r(191,f));f.call(i)}}}var Ur={},rn=xn(Ur),zr=xn(Ur),Hr=xn(Ur);function $n(e){if(e===Ur)throw Error(r(174));return e}function Ys(e,t){switch(Je(Hr,t),Je(zr,e),Je(rn,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ct(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ct(t,e)}tt(rn),Je(rn,t)}function fr(){tt(rn),tt(zr),tt(Hr)}function qo(e){$n(Hr.current);var t=$n(rn.current),n=ct(t,e.type);t!==n&&(Je(zr,e),Je(rn,n))}function Ks(e){zr.current===e&&(tt(rn),tt(zr))}var at=xn(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=[];function Qs(){for(var e=0;e<js.length;e++)js[e]._workInProgressVersionPrimary=null;js.length=0}var Fi=L.ReactCurrentDispatcher,Js=L.ReactCurrentBatchConfig,Vn=0,ot=null,mt=null,At=null,Ii=!1,Wr=!1,$r=0,Rc=0;function Ct(){throw Error(r(321))}function Zs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function qs(e,t,n,i,f,S){if(Vn=S,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fi.current=e===null||e.memoizedState===null?Oc:Dc,e=n(i,f),Wr){S=0;do{if(Wr=!1,$r=0,25<=S)throw Error(r(301));S+=1,At=mt=null,t.updateQueue=null,Fi.current=Lc,e=n(i,f)}while(Wr)}if(Fi.current=Li,t=mt!==null&&mt.next!==null,Vn=0,At=mt=ot=null,Ii=!1,t)throw Error(r(300));return e}function ea(){var e=$r!==0;return $r=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ot.memoizedState=At=e:At=At.next=e,At}function Vt(){if(mt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=At===null?ot.memoizedState:At.next;if(t!==null)At=t,mt=e;else{if(e===null)throw Error(r(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},At===null?ot.memoizedState=At=e:At=At.next=e}return At}function Vr(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=Vt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=mt,f=i.baseQueue,S=n.pending;if(S!==null){if(f!==null){var B=f.next;f.next=S.next,S.next=B}i.baseQueue=f=S,n.pending=null}if(f!==null){S=f.next,i=i.baseState;var K=B=null,Z=null,ce=S;do{var Se=ce.lane;if((Vn&Se)===Se)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),i=ce.hasEagerState?ce.eagerState:e(i,ce.action);else{var be={lane:Se,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(K=Z=be,B=i):Z=Z.next=be,ot.lanes|=Se,Gn|=Se}ce=ce.next}while(ce!==null&&ce!==S);Z===null?B=i:Z.next=K,Kt(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseState=B,t.baseQueue=Z,n.lastRenderedState=i}if(e=n.interleaved,e!==null){f=e;do S=f.lane,ot.lanes|=S,Gn|=S,f=f.next;while(f!==e)}else f===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function na(e){var t=Vt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,f=n.pending,S=t.memoizedState;if(f!==null){n.pending=null;var B=f=f.next;do S=e(S,B.action),B=B.next;while(B!==f);Kt(S,t.memoizedState)||(It=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),n.lastRenderedState=S}return[S,i]}function el(){}function tl(e,t){var n=ot,i=Vt(),f=t(),S=!Kt(i.memoizedState,f);if(S&&(i.memoizedState=f,It=!0),i=i.queue,ra(il.bind(null,n,i,e),[e]),i.getSnapshot!==t||S||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Gr(9,rl.bind(null,n,i,f,t),void 0,null),St===null)throw Error(r(349));(Vn&30)!==0||nl(n,t,f)}return f}function nl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rl(e,t,n,i){t.value=n,t.getSnapshot=i,sl(t)&&al(e)}function il(e,t,n){return n(function(){sl(t)&&al(e)})}function sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function al(e){var t=dn(e,1);t!==null&&qt(t,e,1,-1)}function ol(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ic.bind(null,ot,e),[t.memoizedState,e]}function Gr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ll(){return Vt().memoizedState}function Oi(e,t,n,i){var f=sn();ot.flags|=e,f.memoizedState=Gr(1|t,n,void 0,i===void 0?null:i)}function Di(e,t,n,i){var f=Vt();i=i===void 0?null:i;var S=void 0;if(mt!==null){var B=mt.memoizedState;if(S=B.destroy,i!==null&&Zs(i,B.deps)){f.memoizedState=Gr(t,n,S,i);return}}ot.flags|=e,f.memoizedState=Gr(1|t,n,S,i)}function ul(e,t){return Oi(8390656,8,e,t)}function ra(e,t){return Di(2048,8,e,t)}function cl(e,t){return Di(4,2,e,t)}function dl(e,t){return Di(4,4,e,t)}function hl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fl(e,t,n){return n=n!=null?n.concat([e]):null,Di(4,4,hl.bind(null,t,e),n)}function ia(){}function pl(e,t){var n=Vt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function gl(e,t){var n=Vt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Zs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ml(e,t,n){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n):(Kt(n,t)||(n=Ga(),ot.lanes|=n,Gn|=n,e.baseState=!0),t)}function Mc(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var i=Js.transition;Js.transition={};try{e(!1),t()}finally{Qe=n,Js.transition=i}}function vl(){return Vt().memoizedState}function Fc(e,t,n){var i=Fn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},yl(e))Al(t,n);else if(n=jo(e,t,n,i),n!==null){var f=Rt();qt(n,e,i,f),Sl(n,t,i)}}function Ic(e,t,n){var i=Fn(e),f={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Al(t,f);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var B=t.lastRenderedState,K=S(B,n);if(f.hasEagerState=!0,f.eagerState=K,Kt(K,B)){var Z=t.interleaved;Z===null?(f.next=f,Gs(t)):(f.next=Z.next,Z.next=f),t.interleaved=f;return}}catch{}finally{}n=jo(e,t,f,i),n!==null&&(f=Rt(),qt(n,e,i,f),Sl(n,t,i))}}function yl(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Al(e,t){Wr=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sl(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,as(e,n)}}var Li={readContext:$t,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Oc={readContext:$t,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:ul,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4194308,4,hl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=sn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Fc.bind(null,ot,e),[i.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:ol,useDebugValue:ia,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=ol(!1),t=e[0];return e=Mc.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ot,f=sn();if(it){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),St===null)throw Error(r(349));(Vn&30)!==0||nl(i,t,n)}f.memoizedState=n;var S={value:n,getSnapshot:t};return f.queue=S,ul(il.bind(null,i,S,e),[e]),i.flags|=2048,Gr(9,rl.bind(null,i,S,n,t),void 0,null),n},useId:function(){var e=sn(),t=St.identifierPrefix;if(it){var n=cn,i=un;n=(i&~(1<<32-Yt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=$r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:ta,useRef:ll,useState:function(){return ta(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return ml(t,mt.memoizedState,e)},useTransition:function(){var e=ta(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1},Lc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:na,useRef:ll,useState:function(){return na(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return mt===null?t.memoizedState=e:ml(t,mt.memoizedState,e)},useTransition:function(){var e=na(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=k({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:k({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rt(),f=Fn(e),S=hn(i,f);S.payload=t,n!=null&&(S.callback=n),t=wn(e,S,f),t!==null&&(qt(t,e,f,i),Pi(t,e,f))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rt(),f=Fn(e),S=hn(i,f);S.tag=1,S.payload=t,n!=null&&(S.callback=n),t=wn(e,S,f),t!==null&&(qt(t,e,f,i),Pi(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),i=Fn(e),f=hn(n,i);f.tag=2,t!=null&&(f.callback=t),t=wn(e,f,i),t!==null&&(qt(t,e,i,n),Pi(t,e,i))}};function bl(e,t,n,i,f,S,B){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,S,B):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,i)||!Fr(f,S):!0}function El(e,t,n){var i=!1,f=kn,S=t.contextType;return typeof S=="object"&&S!==null?S=$t(S):(f=Ft(t)?Un:kt.current,i=t.contextTypes,S=(i=i!=null)?ar(e,f):kn),t=new t(n,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=S),t}function xl(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,i){var f=e.stateNode;f.props=n,f.state=e.memoizedState,f.refs={},Xs(e);var S=t.contextType;typeof S=="object"&&S!==null?f.context=$t(S):(S=Ft(t)?Un:kt.current,f.context=ar(e,S)),f.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(sa(e,t,S,n),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&Ni.enqueueReplaceState(f,f.state,null),Ri(e,n,f,i),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",i=t;do n+=H(i),i=i.return;while(i);var f=n}catch(S){f=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:f,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nc=typeof WeakMap=="function"?WeakMap:Map;function kl(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){$i||($i=!0,xa=i),la(e,t)},n}function Cl(e,t,n){n=hn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var f=t.value;n.payload=function(){return i(f)},n.callback=function(){la(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){la(e,t),typeof i!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var B=t.stack;this.componentDidCatch(t.value,{componentStack:B!==null?B:""})}),n}function Tl(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Nc;var f=new Set;i.set(t,f)}else f=i.get(t),f===void 0&&(f=new Set,i.set(t,f));f.has(n)||(f.add(n),e=Qc.bind(null,e,t,n),t.then(e,e))}function wl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,n,i,f){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var _c=L.ReactCurrentOwner,It=!1;function Pt(e,t,n,i){t.child=e===null?Ko(t,null,n,i):cr(t,e.child,n,i)}function Rl(e,t,n,i,f){n=n.render;var S=t.ref;return hr(t,f),i=qs(e,t,n,i,S,f),n=ea(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,fn(e,t,f)):(it&&n&&Ns(t),t.flags|=1,Pt(e,t,i,f),t.child)}function Ml(e,t,n,i,f){if(e===null){var S=n.type;return typeof S=="function"&&!Ma(S)&&S.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=S,Fl(e,t,S,i,f)):(e=ji(n.type,null,i,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,(e.lanes&f)===0){var B=S.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(B,i)&&e.ref===t.ref)return fn(e,t,f)}return t.flags|=1,e=On(S,i),e.ref=t.ref,e.return=t,t.child=e}function Fl(e,t,n,i,f){if(e!==null){var S=e.memoizedProps;if(Fr(S,i)&&e.ref===t.ref)if(It=!1,t.pendingProps=i=S,(e.lanes&f)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,fn(e,t,f)}return ua(e,t,n,i,f)}function Il(e,t,n){var i=t.pendingProps,f=i.children,S=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(mr,zt),zt|=n;else{if((n&1073741824)===0)return e=S!==null?S.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(mr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=S!==null?S.baseLanes:n,Je(mr,zt),zt|=i}else S!==null?(i=S.baseLanes|n,t.memoizedState=null):i=n,Je(mr,zt),zt|=i;return Pt(e,t,f,n),t.child}function Ol(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,n,i,f){var S=Ft(n)?Un:kt.current;return S=ar(t,S),hr(t,f),n=qs(e,t,n,i,S,f),i=ea(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,fn(e,t,f)):(it&&i&&Ns(t),t.flags|=1,Pt(e,t,n,f),t.child)}function Dl(e,t,n,i,f){if(Ft(n)){var S=!0;Si(t)}else S=!1;if(hr(t,f),t.stateNode===null)Bi(e,t),El(t,n,i),aa(t,n,i,f),i=!0;else if(e===null){var B=t.stateNode,K=t.memoizedProps;B.props=K;var Z=B.context,ce=n.contextType;typeof ce=="object"&&ce!==null?ce=$t(ce):(ce=Ft(n)?Un:kt.current,ce=ar(t,ce));var Se=n.getDerivedStateFromProps,be=typeof Se=="function"||typeof B.getSnapshotBeforeUpdate=="function";be||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==i||Z!==ce)&&xl(t,B,i,ce),Tn=!1;var ve=t.memoizedState;B.state=ve,Ri(t,i,B,f),Z=t.memoizedState,K!==i||ve!==Z||Mt.current||Tn?(typeof Se=="function"&&(sa(t,n,Se,i),Z=t.memoizedState),(K=Tn||bl(t,n,K,i,ve,Z,ce))?(be||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(t.flags|=4194308)):(typeof B.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=Z),B.props=i,B.state=Z,B.context=ce,i=K):(typeof B.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{B=t.stateNode,Qo(e,t),K=t.memoizedProps,ce=t.type===t.elementType?K:Qt(t.type,K),B.props=ce,be=t.pendingProps,ve=B.context,Z=n.contextType,typeof Z=="object"&&Z!==null?Z=$t(Z):(Z=Ft(n)?Un:kt.current,Z=ar(t,Z));var Pe=n.getDerivedStateFromProps;(Se=typeof Pe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==be||ve!==Z)&&xl(t,B,i,Z),Tn=!1,ve=t.memoizedState,B.state=ve,Ri(t,i,B,f);var Me=t.memoizedState;K!==be||ve!==Me||Mt.current||Tn?(typeof Pe=="function"&&(sa(t,n,Pe,i),Me=t.memoizedState),(ce=Tn||bl(t,n,ce,i,ve,Me,Z)||!1)?(Se||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(i,Me,Z),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(i,Me,Z)),typeof B.componentDidUpdate=="function"&&(t.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Me),B.props=i,B.state=Me,B.context=Z,i=ce):(typeof B.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),i=!1)}return ca(e,t,n,i,S,f)}function ca(e,t,n,i,f,S){Ol(e,t);var B=(t.flags&128)!==0;if(!i&&!B)return f&&Uo(t,n,!1),fn(e,t,S);i=t.stateNode,_c.current=t;var K=B&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&B?(t.child=cr(t,e.child,null,S),t.child=cr(t,null,K,S)):Pt(e,t,K,S),t.memoizedState=i.state,f&&Uo(t,n,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?_o(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(e,t.context,!1),Ys(e,t.containerInfo)}function Nl(e,t,n,i,f){return ur(),zs(f),t.flags|=256,Pt(e,t,n,i),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function _l(e,t,n){var i=t.pendingProps,f=at.current,S=!1,B=(t.flags&128)!==0,K;if((K=B)||(K=e!==null&&e.memoizedState===null?!1:(f&2)!==0),K?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Je(at,f&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(B=i.children,e=i.fallback,S?(i=t.mode,S=t.child,B={mode:"hidden",children:B},(i&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=B):S=Qi(B,i,0,null),e=jn(e,i,n,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=ha(n),t.memoizedState=da,e):fa(t,B));if(f=e.memoizedState,f!==null&&(K=f.dehydrated,K!==null))return Bc(e,t,B,i,K,f,n);if(S){S=i.fallback,B=t.mode,f=e.child,K=f.sibling;var Z={mode:"hidden",children:i.children};return(B&1)===0&&t.child!==f?(i=t.child,i.childLanes=0,i.pendingProps=Z,t.deletions=null):(i=On(f,Z),i.subtreeFlags=f.subtreeFlags&14680064),K!==null?S=On(K,S):(S=jn(S,B,n,null),S.flags|=2),S.return=t,i.return=t,i.sibling=S,t.child=i,i=S,S=t.child,B=e.child.memoizedState,B=B===null?ha(n):{baseLanes:B.baseLanes|n,cachePool:null,transitions:B.transitions},S.memoizedState=B,S.childLanes=e.childLanes&~n,t.memoizedState=da,i}return S=e.child,e=S.sibling,i=On(S,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function fa(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,n,i){return i!==null&&zs(i),cr(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bc(e,t,n,i,f,S,B){if(n)return t.flags&256?(t.flags&=-257,i=oa(Error(r(422))),_i(e,t,B,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=i.fallback,f=t.mode,i=Qi({mode:"visible",children:i.children},f,0,null),S=jn(S,f,B,null),S.flags|=2,i.return=t,S.return=t,i.sibling=S,t.child=i,(t.mode&1)!==0&&cr(t,e.child,null,B),t.child.memoizedState=ha(B),t.memoizedState=da,S);if((t.mode&1)===0)return _i(e,t,B,null);if(f.data==="$!"){if(i=f.nextSibling&&f.nextSibling.dataset,i)var K=i.dgst;return i=K,S=Error(r(419)),i=oa(S,i,void 0),_i(e,t,B,i)}if(K=(B&e.childLanes)!==0,It||K){if(i=St,i!==null){switch(B&-B){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(i.suspendedLanes|B))!==0?0:f,f!==0&&f!==S.retryLane&&(S.retryLane=f,dn(e,f),qt(i,e,f,-1))}return Ra(),i=oa(Error(r(421))),_i(e,t,B,i)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=Jc.bind(null,e),f._reactRetry=t,null):(e=S.treeContext,Ut=En(f.nextSibling),Bt=t,it=!0,jt=null,e!==null&&(Ht[Wt++]=un,Ht[Wt++]=cn,Ht[Wt++]=zn,un=e.id,cn=e.overflow,zn=t),t=fa(t,i.children),t.flags|=4096,t)}function Bl(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vs(e.return,t,n)}function pa(e,t,n,i,f){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:f}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=i,S.tail=n,S.tailMode=f)}function Ul(e,t,n){var i=t.pendingProps,f=i.revealOrder,S=i.tail;if(Pt(e,t,i.children,n),i=at.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,n,t);else if(e.tag===19)Bl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Je(at,i),(t.mode&1)===0)t.memoizedState=null;else switch(f){case"forwards":for(n=t.child,f=null;n!==null;)e=n.alternate,e!==null&&Mi(e)===null&&(f=n),n=n.sibling;n=f,n===null?(f=t.child,t.child=null):(f=n.sibling,n.sibling=null),pa(t,!1,f,n,S);break;case"backwards":for(n=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Mi(e)===null){t.child=f;break}e=f.sibling,f.sibling=n,n=f,f=e}pa(t,!0,n,null,S);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t,n){switch(t.tag){case 3:Ll(t),ur();break;case 5:qo(t);break;case 1:Ft(t.type)&&Si(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,f=t.memoizedProps.value;Je(Ti,i._currentValue),i._currentValue=f;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Je(at,at.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?_l(e,t,n):(Je(at,at.current&1),e=fn(e,t,n),e!==null?e.sibling:null);Je(at,at.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Ul(e,t,n);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(at,at.current),i)break;return null;case 22:case 23:return t.lanes=0,Il(e,t,n)}return fn(e,t,n)}var zl,ga,Hl,Wl;zl=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ga=function(){},Hl=function(e,t,n,i){var f=e.memoizedProps;if(f!==i){e=t.stateNode,$n(rn.current);var S=null;switch(n){case"input":f=Ae(e,f),i=Ae(e,i),S=[];break;case"select":f=k({},f,{value:void 0}),i=k({},i,{value:void 0}),S=[];break;case"textarea":f=Oe(e,f),i=Oe(e,i),S=[];break;default:typeof f.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=vi)}ie(n,i);var B;n=null;for(ce in f)if(!i.hasOwnProperty(ce)&&f.hasOwnProperty(ce)&&f[ce]!=null)if(ce==="style"){var K=f[ce];for(B in K)K.hasOwnProperty(B)&&(n||(n={}),n[B]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(c.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in i){var Z=i[ce];if(K=f?.[ce],i.hasOwnProperty(ce)&&Z!==K&&(Z!=null||K!=null))if(ce==="style")if(K){for(B in K)!K.hasOwnProperty(B)||Z&&Z.hasOwnProperty(B)||(n||(n={}),n[B]="");for(B in Z)Z.hasOwnProperty(B)&&K[B]!==Z[B]&&(n||(n={}),n[B]=Z[B])}else n||(S||(S=[]),S.push(ce,n)),n=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(S=S||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(c.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&et("scroll",e),S||K===Z||(S=[])):(S=S||[]).push(ce,Z))}n&&(S=S||[]).push("style",n);var ce=S;(t.updateQueue=ce)&&(t.flags|=4)}},Wl=function(e,t,n,i){n!==i&&(t.flags|=4)};function Xr(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var f=e.child;f!==null;)n|=f.lanes|f.childLanes,i|=f.subtreeFlags&14680064,i|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)n|=f.lanes|f.childLanes,i|=f.subtreeFlags,i|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zc(e,t,n){var i=t.pendingProps;switch(_s(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Ft(t.type)&&Ai(),Tt(t),null;case 3:return i=t.stateNode,fr(),tt(Mt),tt(kt),Qs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(Ta(jt),jt=null))),ga(e,t),Tt(t),null;case 5:Ks(t);var f=$n(Hr.current);if(n=t.type,e!==null&&t.stateNode!=null)Hl(e,t,n,i,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Tt(t),null}if(e=$n(rn.current),ki(t)){i=t.stateNode,n=t.type;var S=t.memoizedProps;switch(i[nn]=t,i[Nr]=S,e=(t.mode&1)!==0,n){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(f=0;f<Or.length;f++)et(Or[f],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":se(i,S),et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!S.multiple},et("invalid",i);break;case"textarea":Ue(i,S),et("invalid",i)}ie(n,S),f=null;for(var B in S)if(S.hasOwnProperty(B)){var K=S[B];B==="children"?typeof K=="string"?i.textContent!==K&&(S.suppressHydrationWarning!==!0&&mi(i.textContent,K,e),f=["children",K]):typeof K=="number"&&i.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&mi(i.textContent,K,e),f=["children",""+K]):c.hasOwnProperty(B)&&K!=null&&B==="onScroll"&&et("scroll",i)}switch(n){case"input":X(i),ge(i,S,!0);break;case"textarea":X(i),Ye(i);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(i.onclick=vi)}i=f,t.updateQueue=i,i!==null&&(t.flags|=4)}else{B=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=B.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=B.createElement(n,{is:i.is}):(e=B.createElement(n),n==="select"&&(B=e,i.multiple?B.multiple=!0:i.size&&(B.size=i.size))):e=B.createElementNS(e,n),e[nn]=t,e[Nr]=i,zl(e,t,!1,!1),t.stateNode=e;e:{switch(B=ee(n,i),n){case"dialog":et("cancel",e),et("close",e),f=i;break;case"iframe":case"object":case"embed":et("load",e),f=i;break;case"video":case"audio":for(f=0;f<Or.length;f++)et(Or[f],e);f=i;break;case"source":et("error",e),f=i;break;case"img":case"image":case"link":et("error",e),et("load",e),f=i;break;case"details":et("toggle",e),f=i;break;case"input":se(e,i),f=Ae(e,i),et("invalid",e);break;case"option":f=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},f=k({},i,{value:void 0}),et("invalid",e);break;case"textarea":Ue(e,i),f=Oe(e,i),et("invalid",e);break;default:f=i}ie(n,f),K=f;for(S in K)if(K.hasOwnProperty(S)){var Z=K[S];S==="style"?gn(e,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ze(e,Z)):S==="children"?typeof Z=="string"?(n!=="textarea"||Z!=="")&&ft(e,Z):typeof Z=="number"&&ft(e,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&et("scroll",e):Z!=null&&U(e,S,Z,B))}switch(n){case"input":X(e),ge(e,i,!1);break;case"textarea":X(e),Ye(e);break;case"option":i.value!=null&&e.setAttribute("value",""+F(i.value));break;case"select":e.multiple=!!i.multiple,S=i.value,S!=null?we(e,!!i.multiple,S,!1):i.defaultValue!=null&&we(e,!!i.multiple,i.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=vi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Wl(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(n=$n(Hr.current),$n(rn.current),ki(t)){if(i=t.stateNode,n=t.memoizedProps,i[nn]=t,(S=i.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:mi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(i.nodeValue,n,(e.mode&1)!==0)}S&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[nn]=t,t.stateNode=i}return Tt(t),null;case 13:if(tt(at),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Go(),ur(),t.flags|=98560,S=!1;else if(S=ki(t),i!==null&&i.dehydrated!==null){if(e===null){if(!S)throw Error(r(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[nn]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),S=!1}else jt!==null&&(Ta(jt),jt=null),S=!0;if(!S)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(at.current&1)!==0?vt===0&&(vt=3):Ra())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return fr(),ga(e,t),e===null&&Dr(t.stateNode.containerInfo),Tt(t),null;case 10:return $s(t.type._context),Tt(t),null;case 17:return Ft(t.type)&&Ai(),Tt(t),null;case 19:if(tt(at),S=t.memoizedState,S===null)return Tt(t),null;if(i=(t.flags&128)!==0,B=S.rendering,B===null)if(i)Xr(S,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(B=Mi(e),B!==null){for(t.flags|=128,Xr(S,!1),i=B.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)S=n,e=i,S.flags&=14680066,B=S.alternate,B===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=B.childLanes,S.lanes=B.lanes,S.child=B.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=B.memoizedProps,S.memoizedState=B.memoizedState,S.updateQueue=B.updateQueue,S.type=B.type,e=B.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(at,at.current&1|2),t.child}e=e.sibling}S.tail!==null&&dt()>vr&&(t.flags|=128,i=!0,Xr(S,!1),t.lanes=4194304)}else{if(!i)if(e=Mi(B),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!B.alternate&&!it)return Tt(t),null}else 2*dt()-S.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,i=!0,Xr(S,!1),t.lanes=4194304);S.isBackwards?(B.sibling=t.child,t.child=B):(n=S.last,n!==null?n.sibling=B:t.child=B,S.last=B)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=dt(),t.sibling=null,n=at.current,Je(at,i?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return Pa(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(zt&1073741824)!==0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Hc(e,t){switch(_s(t),t.tag){case 1:return Ft(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),tt(Mt),tt(kt),Qs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ks(t),null;case 13:if(tt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(at),null;case 4:return fr(),null;case 10:return $s(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Ui=!1,wt=!1,Wc=typeof WeakSet=="function"?WeakSet:Set,Re=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ut(e,t,i)}else n.current=null}function ma(e,t,n){try{n()}catch(i){ut(e,t,i)}}var $l=!1;function $c(e,t){if(Ps=si,e=bo(),Ss(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var f=i.anchorOffset,S=i.focusNode;i=i.focusOffset;try{n.nodeType,S.nodeType}catch{n=null;break e}var B=0,K=-1,Z=-1,ce=0,Se=0,be=e,ve=null;t:for(;;){for(var Pe;be!==n||f!==0&&be.nodeType!==3||(K=B+f),be!==S||i!==0&&be.nodeType!==3||(Z=B+i),be.nodeType===3&&(B+=be.nodeValue.length),(Pe=be.firstChild)!==null;)ve=be,be=Pe;for(;;){if(be===e)break t;if(ve===n&&++ce===f&&(K=B),ve===S&&++Se===i&&(Z=B),(Pe=be.nextSibling)!==null)break;be=ve,ve=be.parentNode}be=Pe}n=K===-1||Z===-1?null:{start:K,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},si=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var Me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Fe=Me.memoizedProps,ht=Me.memoizedState,ae=t.stateNode,q=ae.getSnapshotBeforeUpdate(t.elementType===t.type?Fe:Qt(t.type,Fe),ht);ae.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=t.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){ut(t,t.return,Ee)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return Me=$l,$l=!1,Me}function Yr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&e)===e){var S=f.destroy;f.destroy=void 0,S!==void 0&&ma(t,n,S)}f=f.next}while(f!==i)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vl(e){var t=e.alternate;t!==null&&(e.alternate=null,Vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Nr],delete t[Os],delete t[Cc],delete t[Tc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function Xl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vi));else if(i!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function Aa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}var Et=null,Jt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)Yl(e,t,n),n=n.sibling}function Yl(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qr,n)}catch{}switch(n.tag){case 5:wt||gr(n,t);case 6:var i=Et,f=Jt;Et=null,Pn(e,t,n),Et=i,Jt=f,Et!==null&&(Jt?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Jt?(e=Et,n=n.stateNode,e.nodeType===8?Is(e.parentNode,n):e.nodeType===1&&Is(e,n),Cr(e)):Is(Et,n.stateNode));break;case 4:i=Et,f=Jt,Et=n.stateNode.containerInfo,Jt=!0,Pn(e,t,n),Et=i,Jt=f;break;case 0:case 11:case 14:case 15:if(!wt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){f=i=i.next;do{var S=f,B=S.destroy;S=S.tag,B!==void 0&&((S&2)!==0||(S&4)!==0)&&ma(n,t,B),f=f.next}while(f!==i)}Pn(e,t,n);break;case 1:if(!wt&&(gr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(K){ut(n,t,K)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(wt=(i=wt)||n.memoizedState!==null,Pn(e,t,n),wt=i):Pn(e,t,n);break;default:Pn(e,t,n)}}function Kl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wc),t.forEach(function(i){var f=Zc.bind(null,e,i);n.has(i)||(n.add(i),i.then(f,f))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var f=n[i];try{var S=e,B=t,K=B;e:for(;K!==null;){switch(K.tag){case 5:Et=K.stateNode,Jt=!1;break e;case 3:Et=K.stateNode.containerInfo,Jt=!0;break e;case 4:Et=K.stateNode.containerInfo,Jt=!0;break e}K=K.return}if(Et===null)throw Error(r(160));Yl(S,B,f),Et=null,Jt=!1;var Z=f.alternate;Z!==null&&(Z.return=null),f.return=null}catch(ce){ut(f,t,ce)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jl(t,e),t=t.sibling}function jl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),an(e),i&4){try{Yr(3,e,e.return),zi(3,e)}catch(Fe){ut(e,e.return,Fe)}try{Yr(5,e,e.return)}catch(Fe){ut(e,e.return,Fe)}}break;case 1:Zt(t,e),an(e),i&512&&n!==null&&gr(n,n.return);break;case 5:if(Zt(t,e),an(e),i&512&&n!==null&&gr(n,n.return),e.flags&32){var f=e.stateNode;try{ft(f,"")}catch(Fe){ut(e,e.return,Fe)}}if(i&4&&(f=e.stateNode,f!=null)){var S=e.memoizedProps,B=n!==null?n.memoizedProps:S,K=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&ue(f,S),ee(K,B);var ce=ee(K,S);for(B=0;B<Z.length;B+=2){var Se=Z[B],be=Z[B+1];Se==="style"?gn(f,be):Se==="dangerouslySetInnerHTML"?Ze(f,be):Se==="children"?ft(f,be):U(f,Se,be,ce)}switch(K){case"input":pe(f,S);break;case"textarea":He(f,S);break;case"select":var ve=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!S.multiple;var Pe=S.value;Pe!=null?we(f,!!S.multiple,Pe,!1):ve!==!!S.multiple&&(S.defaultValue!=null?we(f,!!S.multiple,S.defaultValue,!0):we(f,!!S.multiple,S.multiple?[]:"",!1))}f[Nr]=S}catch(Fe){ut(e,e.return,Fe)}}break;case 6:if(Zt(t,e),an(e),i&4){if(e.stateNode===null)throw Error(r(162));f=e.stateNode,S=e.memoizedProps;try{f.nodeValue=S}catch(Fe){ut(e,e.return,Fe)}}break;case 3:if(Zt(t,e),an(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Cr(t.containerInfo)}catch(Fe){ut(e,e.return,Fe)}break;case 4:Zt(t,e),an(e);break;case 13:Zt(t,e),an(e),f=e.child,f.flags&8192&&(S=f.memoizedState!==null,f.stateNode.isHidden=S,!S||f.alternate!==null&&f.alternate.memoizedState!==null||(Ea=dt())),i&4&&Kl(e);break;case 22:if(Se=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(ce=wt)||Se,Zt(t,e),wt=ce):Zt(t,e),an(e),i&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!Se&&(e.mode&1)!==0)for(Re=e,Se=e.child;Se!==null;){for(be=Re=Se;Re!==null;){switch(ve=Re,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Yr(4,ve,ve.return);break;case 1:gr(ve,ve.return);var Me=ve.stateNode;if(typeof Me.componentWillUnmount=="function"){i=ve,n=ve.return;try{t=i,Me.props=t.memoizedProps,Me.state=t.memoizedState,Me.componentWillUnmount()}catch(Fe){ut(i,n,Fe)}}break;case 5:gr(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Zl(be);continue}}Pe!==null?(Pe.return=ve,Re=Pe):Zl(be)}Se=Se.sibling}e:for(Se=null,be=e;;){if(be.tag===5){if(Se===null){Se=be;try{f=be.stateNode,ce?(S=f.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=be.stateNode,Z=be.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=Qn("display",B))}catch(Fe){ut(e,e.return,Fe)}}}else if(be.tag===6){if(Se===null)try{be.stateNode.nodeValue=ce?"":be.memoizedProps}catch(Fe){ut(e,e.return,Fe)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===e)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===e)break e;for(;be.sibling===null;){if(be.return===null||be.return===e)break e;Se===be&&(Se=null),be=be.return}Se===be&&(Se=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Zt(t,e),an(e),i&4&&Kl(e);break;case 21:break;default:Zt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gl(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var f=i.stateNode;i.flags&32&&(ft(f,""),i.flags&=-33);var S=Xl(e);Aa(e,S,f);break;case 3:case 4:var B=i.stateNode.containerInfo,K=Xl(e);ya(e,K,B);break;default:throw Error(r(161))}}catch(Z){ut(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vc(e,t,n){Re=e,Ql(e)}function Ql(e,t,n){for(var i=(e.mode&1)!==0;Re!==null;){var f=Re,S=f.child;if(f.tag===22&&i){var B=f.memoizedState!==null||Ui;if(!B){var K=f.alternate,Z=K!==null&&K.memoizedState!==null||wt;K=Ui;var ce=wt;if(Ui=B,(wt=Z)&&!ce)for(Re=f;Re!==null;)B=Re,Z=B.child,B.tag===22&&B.memoizedState!==null?ql(f):Z!==null?(Z.return=B,Re=Z):ql(f);for(;S!==null;)Re=S,Ql(S),S=S.sibling;Re=f,Ui=K,wt=ce}Jl(e)}else(f.subtreeFlags&8772)!==0&&S!==null?(S.return=f,Re=S):Jl(e)}}function Jl(e){for(;Re!==null;){var t=Re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:wt||zi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!wt)if(n===null)i.componentDidMount();else{var f=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);i.componentDidUpdate(f,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&Zo(t,S,i);break;case 3:var B=t.updateQueue;if(B!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,B,n)}break;case 5:var K=t.stateNode;if(n===null&&t.flags&4){n=K;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&n.focus();break;case"img":Z.src&&(n.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ce=t.alternate;if(ce!==null){var Se=ce.memoizedState;if(Se!==null){var be=Se.dehydrated;be!==null&&Cr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wt||t.flags&512&&va(t)}catch(ve){ut(t,t.return,ve)}}if(t===e){Re=null;break}if(n=t.sibling,n!==null){n.return=t.return,Re=n;break}Re=t.return}}function Zl(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Re=n;break}Re=t.return}}function ql(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zi(4,t)}catch(Z){ut(t,n,Z)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var f=t.return;try{i.componentDidMount()}catch(Z){ut(t,f,Z)}}var S=t.return;try{va(t)}catch(Z){ut(t,S,Z)}break;case 5:var B=t.return;try{va(t)}catch(Z){ut(t,B,Z)}}}catch(Z){ut(t,t.return,Z)}if(t===e){Re=null;break}var K=t.sibling;if(K!==null){K.return=t.return,Re=K;break}Re=t.return}}var Gc=Math.ceil,Hi=L.ReactCurrentDispatcher,Sa=L.ReactCurrentOwner,Gt=L.ReactCurrentBatchConfig,Xe=0,St=null,pt=null,xt=0,zt=0,mr=xn(0),vt=0,Kr=null,Gn=0,Wi=0,ba=0,jr=null,Ot=null,Ea=0,vr=1/0,pn=null,$i=!1,xa=null,Rn=null,Vi=!1,Mn=null,Gi=0,Qr=0,ka=null,Xi=-1,Yi=0;function Rt(){return(Xe&6)!==0?dt():Xi!==-1?Xi:Xi=dt()}function Fn(e){return(e.mode&1)===0?1:(Xe&2)!==0&&xt!==0?xt&-xt:Pc.transition!==null?(Yi===0&&(Yi=Ga()),Yi):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:eo(e.type)),e)}function qt(e,t,n,i){if(50<Qr)throw Qr=0,ka=null,Error(r(185));Sr(e,n,i),((Xe&2)===0||e!==St)&&(e===St&&((Xe&2)===0&&(Wi|=n),vt===4&&In(e,xt)),Dt(e,i),n===1&&Xe===0&&(t.mode&1)===0&&(vr=dt()+500,bi&&Cn()))}function Dt(e,t){var n=e.callbackNode;Pu(e,t);var i=ni(e,e===St?xt:0);if(i===0)n!==null&&Wa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Wa(n),t===1)e.tag===0?wc(tu.bind(null,e)):zo(tu.bind(null,e)),xc(function(){(Xe&6)===0&&Cn()}),n=null;else{switch(Xa(i)){case 1:n=rs;break;case 4:n=$a;break;case 16:n=Zr;break;case 536870912:n=Va;break;default:n=Zr}n=uu(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(Xi=-1,Yi=0,(Xe&6)!==0)throw Error(r(327));var n=e.callbackNode;if(yr()&&e.callbackNode!==n)return null;var i=ni(e,e===St?xt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ki(e,i);else{t=i;var f=Xe;Xe|=2;var S=ru();(St!==e||xt!==t)&&(pn=null,vr=dt()+500,Yn(e,t));do try{Kc();break}catch(K){nu(e,K)}while(!0);Ws(),Hi.current=S,Xe=f,pt!==null?t=0:(St=null,xt=0,t=vt)}if(t!==0){if(t===2&&(f=is(e),f!==0&&(i=f,t=Ca(e,f))),t===1)throw n=Kr,Yn(e,0),In(e,i),Dt(e,dt()),n;if(t===6)In(e,i);else{if(f=e.current.alternate,(i&30)===0&&!Xc(f)&&(t=Ki(e,i),t===2&&(S=is(e),S!==0&&(i=S,t=Ca(e,S))),t===1))throw n=Kr,Yn(e,0),In(e,i),Dt(e,dt()),n;switch(e.finishedWork=f,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:Kn(e,Ot,pn);break;case 3:if(In(e,i),(i&130023424)===i&&(t=Ea+500-dt(),10<t)){if(ni(e,0)!==0)break;if(f=e.suspendedLanes,(f&i)!==i){Rt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Fs(Kn.bind(null,e,Ot,pn),t);break}Kn(e,Ot,pn);break;case 4:if(In(e,i),(i&4194240)===i)break;for(t=e.eventTimes,f=-1;0<i;){var B=31-Yt(i);S=1<<B,B=t[B],B>f&&(f=B),i&=~S}if(i=f,i=dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Gc(i/1960))-i,10<i){e.timeoutHandle=Fs(Kn.bind(null,e,Ot,pn),i);break}Kn(e,Ot,pn);break;case 5:Kn(e,Ot,pn);break;default:throw Error(r(329))}}}return Dt(e,dt()),e.callbackNode===n?eu.bind(null,e):null}function Ca(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Ta(t)),e}function Ta(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Xc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var f=n[i],S=f.getSnapshot;f=f.value;try{if(!Kt(S(),f))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~ba,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),i=1<<n;e[n]=-1,t&=~i}}function tu(e){if((Xe&6)!==0)throw Error(r(327));yr();var t=ni(e,0);if((t&1)===0)return Dt(e,dt()),null;var n=Ki(e,t);if(e.tag!==0&&n===2){var i=is(e);i!==0&&(t=i,n=Ca(e,i))}if(n===1)throw n=Kr,Yn(e,0),In(e,t),Dt(e,dt()),n;if(n===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ot,pn),Dt(e,dt()),null}function wa(e,t){var n=Xe;Xe|=1;try{return e(t)}finally{Xe=n,Xe===0&&(vr=dt()+500,bi&&Cn())}}function Xn(e){Mn!==null&&Mn.tag===0&&(Xe&6)===0&&yr();var t=Xe;Xe|=1;var n=Gt.transition,i=Qe;try{if(Gt.transition=null,Qe=1,e)return e()}finally{Qe=i,Gt.transition=n,Xe=t,(Xe&6)===0&&Cn()}}function Pa(){zt=mr.current,tt(mr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ec(n)),pt!==null)for(n=pt.return;n!==null;){var i=n;switch(_s(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ai();break;case 3:fr(),tt(Mt),tt(kt),Qs();break;case 5:Ks(i);break;case 4:fr();break;case 13:tt(at);break;case 19:tt(at);break;case 10:$s(i.type._context);break;case 22:case 23:Pa()}n=n.return}if(St=e,pt=e=On(e.current,null),xt=zt=t,vt=0,Kr=null,ba=Wi=Gn=0,Ot=jr=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],i=n.interleaved,i!==null){n.interleaved=null;var f=i.next,S=n.pending;if(S!==null){var B=S.next;S.next=f,i.next=B}n.pending=i}Wn=null}return e}function nu(e,t){do{var n=pt;try{if(Ws(),Fi.current=Li,Ii){for(var i=ot.memoizedState;i!==null;){var f=i.queue;f!==null&&(f.pending=null),i=i.next}Ii=!1}if(Vn=0,At=mt=ot=null,Wr=!1,$r=0,Sa.current=null,n===null||n.return===null){vt=1,Kr=t,pt=null;break}e:{var S=e,B=n.return,K=n,Z=t;if(t=xt,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,Se=K,be=Se.tag;if((Se.mode&1)===0&&(be===0||be===11||be===15)){var ve=Se.alternate;ve?(Se.updateQueue=ve.updateQueue,Se.memoizedState=ve.memoizedState,Se.lanes=ve.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Pe=wl(B);if(Pe!==null){Pe.flags&=-257,Pl(Pe,B,K,S,t),Pe.mode&1&&Tl(S,ce,t),t=Pe,Z=ce;var Me=t.updateQueue;if(Me===null){var Fe=new Set;Fe.add(Z),t.updateQueue=Fe}else Me.add(Z);break e}else{if((t&1)===0){Tl(S,ce,t),Ra();break e}Z=Error(r(426))}}else if(it&&K.mode&1){var ht=wl(B);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Pl(ht,B,K,S,t),zs(pr(Z,K));break e}}S=Z=pr(Z,K),vt!==4&&(vt=2),jr===null?jr=[S]:jr.push(S),S=B;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var ae=kl(S,Z,t);Jo(S,ae);break e;case 1:K=Z;var q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Rn===null||!Rn.has(oe)))){S.flags|=65536,t&=-t,S.lanes|=t;var Ee=Cl(S,K,t);Jo(S,Ee);break e}}S=S.return}while(S!==null)}su(n)}catch(De){t=De,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function ru(){var e=Hi.current;return Hi.current=Li,e===null?Li:e}function Ra(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||(Gn&268435455)===0&&(Wi&268435455)===0||In(St,xt)}function Ki(e,t){var n=Xe;Xe|=2;var i=ru();(St!==e||xt!==t)&&(pn=null,Yn(e,t));do try{Yc();break}catch(f){nu(e,f)}while(!0);if(Ws(),Xe=n,Hi.current=i,pt!==null)throw Error(r(261));return St=null,xt=0,vt}function Yc(){for(;pt!==null;)iu(pt)}function Kc(){for(;pt!==null&&!Au();)iu(pt)}function iu(e){var t=lu(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?su(e):pt=t,Sa.current=null}function su(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zc(n,t,zt),n!==null){pt=n;return}}else{if(n=Hc(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,pt=null;return}}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);vt===0&&(vt=5)}function Kn(e,t,n){var i=Qe,f=Gt.transition;try{Gt.transition=null,Qe=1,jc(e,t,n,i)}finally{Gt.transition=f,Qe=i}return null}function jc(e,t,n,i){do yr();while(Mn!==null);if((Xe&6)!==0)throw Error(r(327));n=e.finishedWork;var f=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var S=n.lanes|n.childLanes;if(Ru(e,S),e===St&&(pt=St=null,xt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Vi||(Vi=!0,uu(Zr,function(){return yr(),null})),S=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||S){S=Gt.transition,Gt.transition=null;var B=Qe;Qe=1;var K=Xe;Xe|=4,Sa.current=null,$c(e,n),jl(n,e),gc(Rs),si=!!Ps,Rs=Ps=null,e.current=n,Vc(n),Su(),Xe=K,Qe=B,Gt.transition=S}else e.current=n;if(Vi&&(Vi=!1,Mn=e,Gi=f),S=e.pendingLanes,S===0&&(Rn=null),xu(n.stateNode),Dt(e,dt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)f=t[n],i(f.value,{componentStack:f.stack,digest:f.digest});if($i)throw $i=!1,e=xa,xa=null,e;return(Gi&1)!==0&&e.tag!==0&&yr(),S=e.pendingLanes,(S&1)!==0?e===ka?Qr++:(Qr=0,ka=e):Qr=0,Cn(),null}function yr(){if(Mn!==null){var e=Xa(Gi),t=Gt.transition,n=Qe;try{if(Gt.transition=null,Qe=16>e?16:e,Mn===null)var i=!1;else{if(e=Mn,Mn=null,Gi=0,(Xe&6)!==0)throw Error(r(331));var f=Xe;for(Xe|=4,Re=e.current;Re!==null;){var S=Re,B=S.child;if((Re.flags&16)!==0){var K=S.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var ce=K[Z];for(Re=ce;Re!==null;){var Se=Re;switch(Se.tag){case 0:case 11:case 15:Yr(8,Se,S)}var be=Se.child;if(be!==null)be.return=Se,Re=be;else for(;Re!==null;){Se=Re;var ve=Se.sibling,Pe=Se.return;if(Vl(Se),Se===ce){Re=null;break}if(ve!==null){ve.return=Pe,Re=ve;break}Re=Pe}}}var Me=S.alternate;if(Me!==null){var Fe=Me.child;if(Fe!==null){Me.child=null;do{var ht=Fe.sibling;Fe.sibling=null,Fe=ht}while(Fe!==null)}}Re=S}}if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,Re=B;else e:for(;Re!==null;){if(S=Re,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Yr(9,S,S.return)}var ae=S.sibling;if(ae!==null){ae.return=S.return,Re=ae;break e}Re=S.return}}var q=e.current;for(Re=q;Re!==null;){B=Re;var oe=B.child;if((B.subtreeFlags&2064)!==0&&oe!==null)oe.return=B,Re=oe;else e:for(B=q;Re!==null;){if(K=Re,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:zi(9,K)}}catch(De){ut(K,K.return,De)}if(K===B){Re=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,Re=Ee;break e}Re=K.return}}if(Xe=f,Cn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qr,e)}catch{}i=!0}return i}finally{Qe=n,Gt.transition=t}}return!1}function au(e,t,n){t=pr(n,t),t=kl(e,t,1),e=wn(e,t,1),t=Rt(),e!==null&&(Sr(e,1,t),Dt(e,t))}function ut(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Rn===null||!Rn.has(i))){e=pr(n,e),e=Cl(t,e,1),t=wn(t,e,1),e=Rt(),t!==null&&(Sr(t,1,e),Dt(t,e));break}}t=t.return}}function Qc(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(xt&n)===n&&(vt===4||vt===3&&(xt&130023424)===xt&&500>dt()-Ea?Yn(e,0):ba|=n),Dt(e,t)}function ou(e,t){t===0&&((e.mode&1)===0?t=1:(t=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var n=Rt();e=dn(e,t),e!==null&&(Sr(e,t,n),Dt(e,n))}function Jc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ou(e,n)}function Zc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,f=e.memoizedState;f!==null&&(n=f.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}i!==null&&i.delete(t),ou(e,n)}var lu;lu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)It=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return It=!1,Uc(e,t,n);It=(e.flags&131072)!==0}else It=!1,it&&(t.flags&1048576)!==0&&Ho(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bi(e,t),e=t.pendingProps;var f=ar(t,kt.current);hr(t,n),f=qs(null,t,i,e,f,n);var S=ea();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(i)?(S=!0,Si(t)):S=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Xs(t),f.updater=Ni,t.stateNode=f,f._reactInternals=t,aa(t,i,e,n),t=ca(null,t,i,!0,S,n)):(t.tag=0,it&&S&&Ns(t),Pt(null,t,f,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,f=i._init,i=f(i._payload),t.type=i,f=t.tag=ed(i),e=Qt(i,e),f){case 0:t=ua(null,t,i,e,n);break e;case 1:t=Dl(null,t,i,e,n);break e;case 11:t=Rl(null,t,i,e,n);break e;case 14:t=Ml(null,t,i,Qt(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,f=t.pendingProps,f=t.elementType===i?f:Qt(i,f),ua(e,t,i,f,n);case 1:return i=t.type,f=t.pendingProps,f=t.elementType===i?f:Qt(i,f),Dl(e,t,i,f,n);case 3:e:{if(Ll(t),e===null)throw Error(r(387));i=t.pendingProps,S=t.memoizedState,f=S.element,Qo(e,t),Ri(t,i,null,n);var B=t.memoizedState;if(i=B.element,S.isDehydrated)if(S={element:i,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){f=pr(Error(r(423)),t),t=Nl(e,t,i,n,f);break e}else if(i!==f){f=pr(Error(r(424)),t),t=Nl(e,t,i,n,f);break e}else for(Ut=En(t.stateNode.containerInfo.firstChild),Bt=t,it=!0,jt=null,n=Ko(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),i===f){t=fn(e,t,n);break e}Pt(e,t,i,n)}t=t.child}return t;case 5:return qo(t),e===null&&Us(t),i=t.type,f=t.pendingProps,S=e!==null?e.memoizedProps:null,B=f.children,Ms(i,f)?B=null:S!==null&&Ms(i,S)&&(t.flags|=32),Ol(e,t),Pt(e,t,B,n),t.child;case 6:return e===null&&Us(t),null;case 13:return _l(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=cr(t,null,i,n):Pt(e,t,i,n),t.child;case 11:return i=t.type,f=t.pendingProps,f=t.elementType===i?f:Qt(i,f),Rl(e,t,i,f,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,f=t.pendingProps,S=t.memoizedProps,B=f.value,Je(Ti,i._currentValue),i._currentValue=B,S!==null)if(Kt(S.value,B)){if(S.children===f.children&&!Mt.current){t=fn(e,t,n);break e}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var K=S.dependencies;if(K!==null){B=S.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===i){if(S.tag===1){Z=hn(-1,n&-n),Z.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var Se=ce.pending;Se===null?Z.next=Z:(Z.next=Se.next,Se.next=Z),ce.pending=Z}}S.lanes|=n,Z=S.alternate,Z!==null&&(Z.lanes|=n),Vs(S.return,n,t),K.lanes|=n;break}Z=Z.next}}else if(S.tag===10)B=S.type===t.type?null:S.child;else if(S.tag===18){if(B=S.return,B===null)throw Error(r(341));B.lanes|=n,K=B.alternate,K!==null&&(K.lanes|=n),Vs(B,n,t),B=S.sibling}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===t){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}Pt(e,t,f.children,n),t=t.child}return t;case 9:return f=t.type,i=t.pendingProps.children,hr(t,n),f=$t(f),i=i(f),t.flags|=1,Pt(e,t,i,n),t.child;case 14:return i=t.type,f=Qt(i,t.pendingProps),f=Qt(i.type,f),Ml(e,t,i,f,n);case 15:return Fl(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,f=t.pendingProps,f=t.elementType===i?f:Qt(i,f),Bi(e,t),t.tag=1,Ft(i)?(e=!0,Si(t)):e=!1,hr(t,n),El(t,i,f),aa(t,i,f,n),ca(null,t,i,!0,e,n);case 19:return Ul(e,t,n);case 22:return Il(e,t,n)}throw Error(r(156,t.tag))};function uu(e,t){return Ha(e,t)}function qc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,i){return new qc(e,t,n,i)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ed(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===fe)return 14}return 2}function On(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ji(e,t,n,i,f,S){var B=2;if(i=e,typeof e=="function")Ma(e)&&(B=1);else if(typeof e=="string")B=5;else e:switch(e){case z:return jn(n.children,f,S,t);case V:B=8,f|=8;break;case $:return e=Xt(12,n,t,f|2),e.elementType=$,e.lanes=S,e;case le:return e=Xt(13,n,t,f),e.elementType=le,e.lanes=S,e;case de:return e=Xt(19,n,t,f),e.elementType=de,e.lanes=S,e;case Y:return Qi(n,f,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:B=10;break e;case J:B=9;break e;case he:B=11;break e;case fe:B=14;break e;case re:B=16,i=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=Xt(B,n,t,f),t.elementType=e,t.type=i,t.lanes=S,t}function jn(e,t,n,i){return e=Xt(7,e,i,t),e.lanes=n,e}function Qi(e,t,n,i){return e=Xt(22,e,i,t),e.elementType=Y,e.lanes=n,e.stateNode={isHidden:!1},e}function Fa(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Ia(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function td(e,t,n,i,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=i,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Oa(e,t,n,i,f,S,B,K,Z){return e=new td(e,t,n,K,Z),t===1?(t=1,S===!0&&(t|=8)):t=0,S=Xt(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(S),e}function nd(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function cu(e){if(!e)return kn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var n=e.type;if(Ft(n))return Bo(e,n,t)}return t}function du(e,t,n,i,f,S,B,K,Z){return e=Oa(n,i,!0,e,f,S,B,K,Z),e.context=cu(null),n=e.current,i=Rt(),f=Fn(n),S=hn(i,f),S.callback=t??null,wn(n,S,f),e.current.lanes=f,Sr(e,f,i),Dt(e,i),e}function Ji(e,t,n,i){var f=t.current,S=Rt(),B=Fn(f);return n=cu(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(S,B),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wn(f,t,B),e!==null&&(qt(e,f,B,S),Pi(e,f,B)),B}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Da(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function rd(){return null}var fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}qi.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));Ji(e,t,null,null)},qi.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ji(null,e,null,null)}),t[on]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ja();e={blockedOn:null,target:e,priority:t};for(var n=0;n<An.length&&t!==0&&t<An[n].priority;n++);An.splice(n,0,e),n===0&&Za(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function id(e,t,n,i,f){if(f){if(typeof i=="function"){var S=i;i=function(){var ce=Zi(B);S.call(ce)}}var B=du(t,i,e,0,null,!1,!1,"",pu);return e._reactRootContainer=B,e[on]=B.current,Dr(e.nodeType===8?e.parentNode:e),Xn(),B}for(;f=e.lastChild;)e.removeChild(f);if(typeof i=="function"){var K=i;i=function(){var ce=Zi(Z);K.call(ce)}}var Z=Oa(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=Z,e[on]=Z.current,Dr(e.nodeType===8?e.parentNode:e),Xn(function(){Ji(t,Z,n,i)}),Z}function ts(e,t,n,i,f){var S=n._reactRootContainer;if(S){var B=S;if(typeof f=="function"){var K=f;f=function(){var Z=Zi(B);K.call(Z)}}Ji(t,B,e,f)}else B=id(n,t,e,f,i);return Zi(B)}Ya=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(as(t,n|1),Dt(t,dt()),(Xe&6)===0&&(vr=dt()+500,Cn()))}break;case 13:Xn(function(){var i=dn(e,1);if(i!==null){var f=Rt();qt(i,e,1,f)}}),Da(e,1)}},os=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Rt();qt(t,e,134217728,n)}Da(e,134217728)}},Ka=function(e){if(e.tag===13){var t=Fn(e),n=dn(e,t);if(n!==null){var i=Rt();qt(n,e,t,i)}Da(e,t)}},ja=function(){return Qe},Qa=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}},st=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var f=yi(i);if(!f)throw Error(r(90));Q(i),pe(i,f)}}}break;case"textarea":He(e,n);break;case"select":t=n.value,t!=null&&we(e,!!n.multiple,t,!1)}},$e=wa,xe=Xn;var sd={usingClientEntryPoint:!1,Events:[_r,ir,yi,Ie,Le,wa]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||rd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{qr=ns.inject(ad),tn=ns}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sd,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(r(200));return nd(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!Na(e))throw Error(r(299));var n=!1,i="",f=fu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Oa(e,1,!1,null,null,n,!1,i,f),e[on]=t.current,Dr(e.nodeType===8?e.parentNode:e),new La(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Xn(e)},reactDom_production_min.hydrate=function(e,t,n){if(!es(t))throw Error(r(200));return ts(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!Na(e))throw Error(r(405));var i=n!=null&&n.hydratedSources||null,f=!1,S="",B=fu;if(n!=null&&(n.unstable_strictMode===!0&&(f=!0),n.identifierPrefix!==void 0&&(S=n.identifierPrefix),n.onRecoverableError!==void 0&&(B=n.onRecoverableError)),t=du(t,null,e,1,n??null,f,!1,S,B),e[on]=t.current,Dr(e),i)for(e=0;e<i.length;e++)n=i[e],f=n._getVersion,f=f(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,f]:t.mutableSourceEagerHydrationData.push(n,f);return new qi(t)},reactDom_production_min.render=function(e,t,n){if(!es(t))throw Error(r(200));return ts(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!es(e))throw Error(r(40));return e._reactRootContainer?(Xn(function(){ts(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=wa,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!es(n))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ts(e,t,n,!1,i)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(d){console.error(d)}}return E(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var E=requireReactDom();return client.createRoot=E.createRoot,client.hydrateRoot=E.hydrateRoot,client}var clientExports=requireClient();function commonjsRequire(E){throw new Error('Could not dynamically require "'+E+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function E(a,h,v){for(var p=0,R=h.length,U;p<R;p++)(U||!(p in h))&&(U||(U=Array.prototype.slice.call(h,0,p)),U[p]=h[p]);return a.concat(U||Array.prototype.slice.call(h))}var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function c(a){var h=a.match(o);return h?h.map(Number):[]}function A(a){var h=[],v=String(a).trim();return v[0]!=="M"&&v[0]!=="m"||v.replace(r,function(p,R,U){var L=c(U),T=R.toLowerCase(),I=R;if(T==="m"&&L.length>2&&(h.push(E([I],L.splice(0,2))),T="l",I=I==="m"?"l":"L"),L.length<d[T])return"";for(h.push(E([I],L.splice(0,d[T])));L.length>=d[T]&&L.length&&d[T];)h.push(E([I],L.splice(0,d[T])));return""}),h}function b(a,h){var v=a.x*Math.cos(h)-a.y*Math.sin(h),p=a.y*Math.cos(h)+a.x*Math.sin(h);a.x=v,a.y=p}function P(a,h,v){a.x+=h,a.y+=v}function D(a,h){a.x*=h,a.y*=h}var u=(function(){function a(h){var v;this.commands=[],h&&h instanceof a?(v=this.commands).push.apply(v,h.commands):h&&(this.commands=A(h))}return a.prototype.addPath=function(h){var v;h&&h instanceof a&&(v=this.commands).push.apply(v,h.commands)},a.prototype.moveTo=function(h,v){this.commands.push(["M",h,v])},a.prototype.lineTo=function(h,v){this.commands.push(["L",h,v])},a.prototype.arc=function(h,v,p,R,U,L){this.commands.push(["AC",h,v,p,R,U,!!L])},a.prototype.arcTo=function(h,v,p,R,U){this.commands.push(["AT",h,v,p,R,U])},a.prototype.ellipse=function(h,v,p,R,U,L,T,I){this.commands.push(["E",h,v,p,R,U,L,T,!!I])},a.prototype.closePath=function(){this.commands.push(["Z"])},a.prototype.bezierCurveTo=function(h,v,p,R,U,L){this.commands.push(["C",h,v,p,R,U,L])},a.prototype.quadraticCurveTo=function(h,v,p,R){this.commands.push(["Q",h,v,p,R])},a.prototype.rect=function(h,v,p,R){this.commands.push(["R",h,v,p,R])},a.prototype.roundRect=function(h,v,p,R,U){typeof U>"u"?this.commands.push(["RR",h,v,p,R,0]):this.commands.push(["RR",h,v,p,R,U])},a})();function s(a,h){var v=0,p=0,R,U,L,T,I,z,V,$,j,J,he,le,de,fe,re,Y,M,x,k,C,_,W=null,G=null,H=null,y=null,w=null,F=null;a.beginPath();for(var N=0;N<h.length;++N){x=h[N][0],x!=="S"&&x!=="s"&&x!=="C"&&x!=="c"&&(W=null,G=null),x!=="T"&&x!=="t"&&x!=="Q"&&x!=="q"&&(H=null,y=null);var O=void 0;switch(x){case"m":case"M":O=h[N],x==="m"?(v+=O[1],p+=O[2]):(v=O[1],p=O[2]),(x==="M"||!w)&&(w={x:v,y:p}),a.moveTo(v,p);break;case"l":O=h[N],v+=O[1],p+=O[2],a.lineTo(v,p);break;case"L":O=h[N],v=O[1],p=O[2],a.lineTo(v,p);break;case"H":O=h[N],v=O[1],a.lineTo(v,p);break;case"h":O=h[N],v+=O[1],a.lineTo(v,p);break;case"V":O=h[N],p=O[1],a.lineTo(v,p);break;case"v":O=h[N],p+=O[1],a.lineTo(v,p);break;case"a":case"A":if(O=h[N],F===null)throw new Error("This should never happen");x==="a"?(v+=O[6],p+=O[7]):(v=O[6],p=O[7]),fe=O[1],re=O[2],V=O[3]*Math.PI/180,L=!!O[4],T=!!O[5],I={x:v,y:p},z={x:(F.x-I.x)/2,y:(F.y-I.y)/2},b(z,-V),$=z.x*z.x/(fe*fe)+z.y*z.y/(re*re),$>1&&($=Math.sqrt($),fe*=$,re*=$),k={x:fe*z.y/re,y:-(re*z.x)/fe},j=fe*fe*re*re,J=fe*fe*z.y*z.y+re*re*z.x*z.x,T!==L?D(k,Math.sqrt((j-J)/J)||0):D(k,-Math.sqrt((j-J)/J)||0),U=Math.atan2((z.y-k.y)/re,(z.x-k.x)/fe),R=Math.atan2(-(z.y+k.y)/re,-(z.x+k.x)/fe),b(k,V),P(k,(I.x+F.x)/2,(I.y+F.y)/2),a.save(),a.translate(k.x,k.y),a.rotate(V),a.scale(fe,re),a.arc(0,0,1,U,R,!T),a.restore();break;case"C":O=h[N],W=O[3],G=O[4],v=O[5],p=O[6],a.bezierCurveTo(O[1],O[2],W,G,v,p);break;case"c":O=h[N],a.bezierCurveTo(O[1]+v,O[2]+p,O[3]+v,O[4]+p,O[5]+v,O[6]+p),W=O[3]+v,G=O[4]+p,v+=O[5],p+=O[6];break;case"S":O=h[N],(W===null||G===null)&&(W=v,G=p),a.bezierCurveTo(2*v-W,2*p-G,O[1],O[2],O[3],O[4]),W=O[1],G=O[2],v=O[3],p=O[4];break;case"s":O=h[N],(W===null||G===null)&&(W=v,G=p),a.bezierCurveTo(2*v-W,2*p-G,O[1]+v,O[2]+p,O[3]+v,O[4]+p),W=O[1]+v,G=O[2]+p,v+=O[3],p+=O[4];break;case"Q":O=h[N],H=O[1],y=O[2],v=O[3],p=O[4],a.quadraticCurveTo(H,y,v,p);break;case"q":O=h[N],H=O[1]+v,y=O[2]+p,v+=O[3],p+=O[4],a.quadraticCurveTo(H,y,v,p);break;case"T":O=h[N],(H===null||y===null)&&(H=v,y=p),H=2*v-H,y=2*p-y,v=O[1],p=O[2],a.quadraticCurveTo(H,y,v,p);break;case"t":O=h[N],(H===null||y===null)&&(H=v,y=p),H=2*v-H,y=2*p-y,v+=O[1],p+=O[2],a.quadraticCurveTo(H,y,v,p);break;case"z":case"Z":w&&(v=w.x,p=w.y),w=null,a.closePath();break;case"AC":O=h[N],v=O[1],p=O[2],de=O[3],U=O[4],R=O[5],C=O[6],a.arc(v,p,de,U,R,C);break;case"AT":O=h[N],he=O[1],le=O[2],v=O[3],p=O[4],de=O[5],a.arcTo(he,le,v,p,de);break;case"E":O=h[N],v=O[1],p=O[2],fe=O[3],re=O[4],V=O[5],U=O[6],R=O[7],C=O[8],a.save(),a.translate(v,p),a.rotate(V),a.scale(fe,re),a.arc(0,0,1,U,R,C),a.restore();break;case"R":O=h[N],v=O[1],p=O[2],Y=O[3],M=O[4],w={x:v,y:p},a.rect(v,p,Y,M);break;case"RR":O=h[N],v=O[1],p=O[2],Y=O[3],M=O[4],_=O[5],w={x:v,y:p},a.roundRect(v,p,Y,M,_);break}F?(F.x=v,F.y=p):F={x:v,y:p}}}function l(a){if(!(!a||!a.CanvasRenderingContext2D||a.Path2D)){var h=a.CanvasRenderingContext2D,v=h.prototype.fill,p=h.prototype.stroke,R=h.prototype.isPointInPath;h.prototype.fill=function(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];if(L[0]instanceof u){var I=L[0],z=L[1]||"nonzero";s(this,I.commands),v.apply(this,[z])}else{var z=L[0]||"nonzero";return v.apply(this,[z])}},h.prototype.stroke=function(L){L&&s(this,L.commands),p.apply(this)},h.prototype.isPointInPath=function(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];if(L[0]instanceof u){var I=L[0],z=L[1],V=L[2],$=L[3]||"nonzero";return s(this,I.commands),R.apply(this,[z,V,$])}else return R.apply(this,L)},a.Path2D=u}}function g(a,h,v,p,R){var U=this;if(R===void 0&&(R=0),typeof R=="number"&&(R=[R]),Array.isArray(R)){if(R.length===0||R.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(R.length," radii provided. Between one and four radii are necessary."));R.forEach(function($){if($<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(U.constructor.name,"': Radius value ").concat($," is negative."))})}else return;if(R.length===1&&R[0]===0)return this.rect(a,h,v,p);var L=Math.min(v,p)/2,T,I,z,V=T=I=z=Math.min(L,R[0]);R.length===2&&(T=z=Math.min(L,R[1])),R.length===3&&(T=z=Math.min(L,R[1]),I=Math.min(L,R[2])),R.length===4&&(T=Math.min(L,R[1]),I=Math.min(L,R[2]),z=Math.min(L,R[3])),this.moveTo(a,h+p-z),this.arcTo(a,h,a+V,h,V),this.arcTo(a+v,h,a+v,h+T,T),this.arcTo(a+v,h+p,a+v-I,h+p,I),this.arcTo(a,h+p,a,h+p-z,z),this.moveTo(a,h)}function m(a){if(!(!a||!a.CanvasRenderingContext2D)){var h=a.CanvasRenderingContext2D,v=a.Path2D;h&&!h.prototype.roundRect&&(h.prototype.roundRect=g),v&&!v.prototype.roundRect&&(v.prototype.roundRect=g)}}return l(window),m(window),path2dPolyfill_esm}var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(d,r){module.exports=d.pdfjsLib=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.VerbosityLevel=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.RenderingIntentFlag=d.PromiseCapability=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.PageActionEventType=d.OPS=d.MissingPDFException=d.MAX_IMAGE_SIZE_TO_CACHE=d.LINE_FACTOR=d.LINE_DESCENT_FACTOR=d.InvalidPDFException=d.ImageKind=d.IDENTITY_MATRIX=d.FormatError=d.FeatureTest=d.FONT_IDENTITY_MATRIX=d.DocumentActionEventType=d.CMapCompressionType=d.BaseException=d.BASELINE_FACTOR=d.AnnotationType=d.AnnotationReplyType=d.AnnotationPrefix=d.AnnotationMode=d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationEditorType=d.AnnotationEditorPrefix=d.AnnotationEditorParamsType=d.AnnotationBorderStyleType=d.AnnotationActionEventType=d.AbortException=void 0,d.assert=k,d.bytesToString=Q,d.createValidAbsoluteUrl=_,d.getModificationDate=Lt,d.getUuid=Qn,d.getVerbosityLevel=re,d.info=Y,d.isArrayBuffer=nt,d.isArrayEqual=ct,d.isNodeJS=void 0,d.normalizeUnicode=Ln,d.objectFromMap=ue,d.objectSize=se,d.setVerbosityLevel=fe,d.shadow=W,d.string32=Ae,d.stringToBytes=te,d.stringToPDFString=Ue,d.stringToUTF8String=He,d.unreachable=x,d.utf8StringToString=Ye,d.warn=M,r(2),r(84),r(86),r(87),r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");d.isNodeJS=o;const c=[1,0,0,1,0,0];d.IDENTITY_MATRIX=c;const A=[.001,0,0,.001,0,0];d.FONT_IDENTITY_MATRIX=A;const b=1e7;d.MAX_IMAGE_SIZE_TO_CACHE=b;const P=1.35;d.LINE_FACTOR=P;const D=.35;d.LINE_DESCENT_FACTOR=D;const u=D/P;d.BASELINE_FACTOR=u;const s={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};d.RenderingIntentFlag=s;const l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};d.AnnotationMode=l;const g="pdfjs_internal_editor_";d.AnnotationEditorPrefix=g;const m={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};d.AnnotationEditorType=m;const a={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};d.AnnotationEditorParamsType=a;const h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};d.PermissionFlag=h;const v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.TextRenderingMode=v;const p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.ImageKind=p;const R={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.AnnotationType=R;const U={GROUP:"Group",REPLY:"R"};d.AnnotationReplyType=U;const L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationFlag=L;const T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFieldFlag=T;const I={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationBorderStyleType=I;const z={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};d.AnnotationActionEventType=z;const V={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};d.DocumentActionEventType=V;const $={O:"PageOpen",C:"PageClose"};d.PageActionEventType=$;const j={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=j;const J={NONE:0,BINARY:1};d.CMapCompressionType=J;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.OPS=he;const le={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.PasswordResponses=le;let de=j.WARNINGS;function fe(ye){Number.isInteger(ye)&&(de=ye)}function re(){return de}function Y(ye){de>=j.INFOS&&console.log(`Info: ${ye}`)}function M(ye){de>=j.WARNINGS&&console.log(`Warning: ${ye}`)}function x(ye){throw new Error(ye)}function k(ye,ie){ye||x(ie)}function C(ye){switch(ye?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(ye){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ye)return null;try{if(ee&&typeof ye=="string"&&(ee.addDefaultProtocol&&ye.startsWith("www.")&&ye.match(/\./g)?.length>=2&&(ye=`http://${ye}`),ee.tryConvertEncoding))try{ye=He(ye)}catch{}const Te=ie?new URL(ye,ie):new URL(ye);if(C(Te))return Te}catch{}return null}function W(ye,ie,ee){let Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(ye,ie,{value:ee,enumerable:!Te,configurable:!0,writable:!1}),ee}const G=(function(){function ie(ee,Te){this.constructor===ie&&x("Cannot initialize BaseException."),this.message=ee,this.name=Te}return ie.prototype=new Error,ie.constructor=ie,ie})();d.BaseException=G;class H extends G{constructor(ie,ee){super(ie,"PasswordException"),this.code=ee}}d.PasswordException=H;class y extends G{constructor(ie,ee){super(ie,"UnknownErrorException"),this.details=ee}}d.UnknownErrorException=y;class w extends G{constructor(ie){super(ie,"InvalidPDFException")}}d.InvalidPDFException=w;class F extends G{constructor(ie){super(ie,"MissingPDFException")}}d.MissingPDFException=F;class N extends G{constructor(ie,ee){super(ie,"UnexpectedResponseException"),this.status=ee}}d.UnexpectedResponseException=N;class O extends G{constructor(ie){super(ie,"FormatError")}}d.FormatError=O;class X extends G{constructor(ie){super(ie,"AbortException")}}d.AbortException=X;function Q(ye){(typeof ye!="object"||ye?.length===void 0)&&x("Invalid argument for bytesToString");const ie=ye.length,ee=8192;if(ie<ee)return String.fromCharCode.apply(null,ye);const Te=[];for(let Ge=0;Ge<ie;Ge+=ee){const st=Math.min(Ge+ee,ie),ne=ye.subarray(Ge,st);Te.push(String.fromCharCode.apply(null,ne))}return Te.join("")}function te(ye){typeof ye!="string"&&x("Invalid argument for stringToBytes");const ie=ye.length,ee=new Uint8Array(ie);for(let Te=0;Te<ie;++Te)ee[Te]=ye.charCodeAt(Te)&255;return ee}function Ae(ye){return String.fromCharCode(ye>>24&255,ye>>16&255,ye>>8&255,ye&255)}function se(ye){return Object.keys(ye).length}function ue(ye){const ie=Object.create(null);for(const[ee,Te]of ye)ie[ee]=Te;return ie}function pe(){const ye=new Uint8Array(4);return ye[0]=1,new Uint32Array(ye.buffer,0,1)[0]===1}function ge(){try{return new Function(""),!0}catch{return!1}}class me{static get isLittleEndian(){return W(this,"isLittleEndian",pe())}static get isEvalSupported(){return W(this,"isEvalSupported",ge())}static get isOffscreenCanvasSupported(){return W(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?W(this,"platform",{isWin:!1,isMac:!1}):W(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return W(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}d.FeatureTest=me;const ke=[...Array(256).keys()].map(ye=>ye.toString(16).padStart(2,"0"));class we{static makeHexColor(ie,ee,Te){return`#${ke[ie]}${ke[ee]}${ke[Te]}`}static scaleMinMax(ie,ee){let Te;ie[0]?(ie[0]<0&&(Te=ee[0],ee[0]=ee[1],ee[1]=Te),ee[0]*=ie[0],ee[1]*=ie[0],ie[3]<0&&(Te=ee[2],ee[2]=ee[3],ee[3]=Te),ee[2]*=ie[3],ee[3]*=ie[3]):(Te=ee[0],ee[0]=ee[2],ee[2]=Te,Te=ee[1],ee[1]=ee[3],ee[3]=Te,ie[1]<0&&(Te=ee[2],ee[2]=ee[3],ee[3]=Te),ee[2]*=ie[1],ee[3]*=ie[1],ie[2]<0&&(Te=ee[0],ee[0]=ee[1],ee[1]=Te),ee[0]*=ie[2],ee[1]*=ie[2]),ee[0]+=ie[4],ee[1]+=ie[4],ee[2]+=ie[5],ee[3]+=ie[5]}static transform(ie,ee){return[ie[0]*ee[0]+ie[2]*ee[1],ie[1]*ee[0]+ie[3]*ee[1],ie[0]*ee[2]+ie[2]*ee[3],ie[1]*ee[2]+ie[3]*ee[3],ie[0]*ee[4]+ie[2]*ee[5]+ie[4],ie[1]*ee[4]+ie[3]*ee[5]+ie[5]]}static applyTransform(ie,ee){const Te=ie[0]*ee[0]+ie[1]*ee[2]+ee[4],Ge=ie[0]*ee[1]+ie[1]*ee[3]+ee[5];return[Te,Ge]}static applyInverseTransform(ie,ee){const Te=ee[0]*ee[3]-ee[1]*ee[2],Ge=(ie[0]*ee[3]-ie[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/Te,st=(-ie[0]*ee[1]+ie[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/Te;return[Ge,st]}static getAxialAlignedBoundingBox(ie,ee){const Te=this.applyTransform(ie,ee),Ge=this.applyTransform(ie.slice(2,4),ee),st=this.applyTransform([ie[0],ie[3]],ee),ne=this.applyTransform([ie[2],ie[1]],ee);return[Math.min(Te[0],Ge[0],st[0],ne[0]),Math.min(Te[1],Ge[1],st[1],ne[1]),Math.max(Te[0],Ge[0],st[0],ne[0]),Math.max(Te[1],Ge[1],st[1],ne[1])]}static inverseTransform(ie){const ee=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/ee,-ie[1]/ee,-ie[2]/ee,ie[0]/ee,(ie[2]*ie[5]-ie[4]*ie[3])/ee,(ie[4]*ie[1]-ie[5]*ie[0])/ee]}static singularValueDecompose2dScale(ie){const ee=[ie[0],ie[2],ie[1],ie[3]],Te=ie[0]*ee[0]+ie[1]*ee[2],Ge=ie[0]*ee[1]+ie[1]*ee[3],st=ie[2]*ee[0]+ie[3]*ee[2],ne=ie[2]*ee[1]+ie[3]*ee[3],Ce=(Te+ne)/2,Ne=Math.sqrt((Te+ne)**2-4*(Te*ne-st*Ge))/2,Ie=Ce+Ne||1,Le=Ce-Ne||1;return[Math.sqrt(Ie),Math.sqrt(Le)]}static normalizeRect(ie){const ee=ie.slice(0);return ie[0]>ie[2]&&(ee[0]=ie[2],ee[2]=ie[0]),ie[1]>ie[3]&&(ee[1]=ie[3],ee[3]=ie[1]),ee}static intersect(ie,ee){const Te=Math.max(Math.min(ie[0],ie[2]),Math.min(ee[0],ee[2])),Ge=Math.min(Math.max(ie[0],ie[2]),Math.max(ee[0],ee[2]));if(Te>Ge)return null;const st=Math.max(Math.min(ie[1],ie[3]),Math.min(ee[1],ee[3])),ne=Math.min(Math.max(ie[1],ie[3]),Math.max(ee[1],ee[3]));return st>ne?null:[Te,st,Ge,ne]}static bezierBoundingBox(ie,ee,Te,Ge,st,ne,Ce,Ne){const Ie=[],Le=[[],[]];let $e,xe,Ke,We,Ve,rt,gt,lt;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(xe=6*ie-12*Te+6*st,$e=-3*ie+9*Te-9*st+3*Ce,Ke=3*Te-3*ie):(xe=6*ee-12*Ge+6*ne,$e=-3*ee+9*Ge-9*ne+3*Ne,Ke=3*Ge-3*ee),Math.abs($e)<1e-12){if(Math.abs(xe)<1e-12)continue;We=-Ke/xe,0<We&&We<1&&Ie.push(We);continue}gt=xe*xe-4*Ke*$e,lt=Math.sqrt(gt),!(gt<0)&&(Ve=(-xe+lt)/(2*$e),0<Ve&&Ve<1&&Ie.push(Ve),rt=(-xe-lt)/(2*$e),0<rt&&rt<1&&Ie.push(rt))}let Nt=Ie.length,yt;const en=Nt;for(;Nt--;)We=Ie[Nt],yt=1-We,Le[0][Nt]=yt*yt*yt*ie+3*yt*yt*We*Te+3*yt*We*We*st+We*We*We*Ce,Le[1][Nt]=yt*yt*yt*ee+3*yt*yt*We*Ge+3*yt*We*We*ne+We*We*We*Ne;return Le[0][en]=ie,Le[1][en]=ee,Le[0][en+1]=Ce,Le[1][en+1]=Ne,Le[0].length=Le[1].length=en+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}d.Util=we;const Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(ye){if(ye[0]>="ï"){let ee;if(ye[0]==="þ"&&ye[1]==="ÿ"?ee="utf-16be":ye[0]==="ÿ"&&ye[1]==="þ"?ee="utf-16le":ye[0]==="ï"&&ye[1]==="»"&&ye[2]==="¿"&&(ee="utf-8"),ee)try{const Te=new TextDecoder(ee,{fatal:!0}),Ge=te(ye);return Te.decode(Ge)}catch(Te){M(`stringToPDFString: "${Te}".`)}}const ie=[];for(let ee=0,Te=ye.length;ee<Te;ee++){const Ge=Oe[ye.charCodeAt(ee)];ie.push(Ge?String.fromCharCode(Ge):ye.charAt(ee))}return ie.join("")}function He(ye){return decodeURIComponent(escape(ye))}function Ye(ye){return unescape(encodeURIComponent(ye))}function nt(ye){return typeof ye=="object"&&ye?.byteLength!==void 0}function ct(ye,ie){if(ye.length!==ie.length)return!1;for(let ee=0,Te=ye.length;ee<Te;ee++)if(ye[ee]!==ie[ee])return!1;return!0}function Lt(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[ye.getUTCFullYear().toString(),(ye.getUTCMonth()+1).toString().padStart(2,"0"),ye.getUTCDate().toString().padStart(2,"0"),ye.getUTCHours().toString().padStart(2,"0"),ye.getUTCMinutes().toString().padStart(2,"0"),ye.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ze{#e=!1;constructor(){this.promise=new Promise((ie,ee)=>{this.resolve=Te=>{this.#e=!0,ie(Te)},this.reject=Te=>{this.#e=!0,ee(Te)}})}get settled(){return this.#e}}d.PromiseCapability=Ze;let ft=null,qe=null;function Ln(ye){return ft||(ft=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qe=new Map([["ﬅ","ſt"]])),ye.replaceAll(ft,(ie,ee,Te)=>ee?ee.normalize("NFKC"):qe.get(Te))}function Qn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ye=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ye);else for(let ie=0;ie<32;ie++)ye[ie]=Math.floor(Math.random()*255);return Q(ye)}const gn="pdfjs_internal_id_";d.AnnotationPrefix=gn}),((E,d,r)=>{var o=r(3),c=r(4),A=r(69),b=r(70),P="WebAssembly",D=c[P],u=Error("e",{cause:7}).cause!==7,s=function(g,m){var a={};a[g]=b(g,m,u),o({global:!0,constructor:!0,arity:1,forced:u},a)},l=function(g,m){if(D&&D[g]){var a={};a[g]=b(P+"."+g,m,u),o({target:P,stat:!0,constructor:!0,arity:1,forced:u},a)}};s("Error",function(g){return function(a){return A(g,this,arguments)}}),s("EvalError",function(g){return function(a){return A(g,this,arguments)}}),s("RangeError",function(g){return function(a){return A(g,this,arguments)}}),s("ReferenceError",function(g){return function(a){return A(g,this,arguments)}}),s("SyntaxError",function(g){return function(a){return A(g,this,arguments)}}),s("TypeError",function(g){return function(a){return A(g,this,arguments)}}),s("URIError",function(g){return function(a){return A(g,this,arguments)}}),l("CompileError",function(g){return function(a){return A(g,this,arguments)}}),l("LinkError",function(g){return function(a){return A(g,this,arguments)}}),l("RuntimeError",function(g){return function(a){return A(g,this,arguments)}})}),((E,d,r)=>{var o=r(4),c=r(5).f,A=r(44),b=r(48),P=r(38),D=r(56),u=r(68);E.exports=function(s,l){var g=s.target,m=s.global,a=s.stat,h,v,p,R,U,L;if(m?v=o:a?v=o[g]||P(g,{}):v=(o[g]||{}).prototype,v)for(p in l){if(U=l[p],s.dontCallGetSet?(L=c(v,p),R=L&&L.value):R=v[p],h=u(m?p:g+(a?".":"#")+p,s.forced),!h&&R!==void 0){if(typeof U==typeof R)continue;D(U,R)}(s.sham||R&&R.sham)&&A(U,"sham",!0),b(v,p,U,s)}}}),(function(E){var d=function(r){return r&&r.Math===Math&&r};E.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||this||Function("return this")()}),((E,d,r)=>{var o=r(6),c=r(8),A=r(10),b=r(11),P=r(12),D=r(18),u=r(39),s=r(42),l=Object.getOwnPropertyDescriptor;d.f=o?l:function(m,a){if(m=P(m),a=D(a),s)try{return l(m,a)}catch{}if(u(m,a))return b(!c(A.f,m,a),m[a])}}),((E,d,r)=>{var o=r(7);E.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),(E=>{E.exports=function(d){try{return!!d()}catch{return!0}}}),((E,d,r)=>{var o=r(9),c=Function.prototype.call;E.exports=o?c.bind(c):function(){return c.apply(c,arguments)}}),((E,d,r)=>{var o=r(7);E.exports=!o(function(){var c=(function(){}).bind();return typeof c!="function"||c.hasOwnProperty("prototype")})}),((E,d)=>{var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!r.call({1:2},1);d.f=c?function(b){var P=o(this,b);return!!P&&P.enumerable}:r}),(E=>{E.exports=function(d,r){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:r}}}),((E,d,r)=>{var o=r(13),c=r(16);E.exports=function(A){return o(c(A))}}),((E,d,r)=>{var o=r(14),c=r(7),A=r(15),b=Object,P=o("".split);E.exports=c(function(){return!b("z").propertyIsEnumerable(0)})?function(D){return A(D)==="String"?P(D,""):b(D)}:b}),((E,d,r)=>{var o=r(9),c=Function.prototype,A=c.call,b=o&&c.bind.bind(A,A);E.exports=o?b:function(P){return function(){return A.apply(P,arguments)}}}),((E,d,r)=>{var o=r(14),c=o({}.toString),A=o("".slice);E.exports=function(b){return A(c(b),8,-1)}}),((E,d,r)=>{var o=r(17),c=TypeError;E.exports=function(A){if(o(A))throw c("Can't call method on "+A);return A}}),(E=>{E.exports=function(d){return d==null}}),((E,d,r)=>{var o=r(19),c=r(23);E.exports=function(A){var b=o(A,"string");return c(b)?b:b+""}}),((E,d,r)=>{var o=r(8),c=r(20),A=r(23),b=r(30),P=r(33),D=r(34),u=TypeError,s=D("toPrimitive");E.exports=function(l,g){if(!c(l)||A(l))return l;var m=b(l,s),a;if(m){if(g===void 0&&(g="default"),a=o(m,l,g),!c(a)||A(a))return a;throw u("Can't convert object to primitive value")}return g===void 0&&(g="number"),P(l,g)}}),((E,d,r)=>{var o=r(21),c=r(22),A=c.all;E.exports=c.IS_HTMLDDA?function(b){return typeof b=="object"?b!==null:o(b)||b===A}:function(b){return typeof b=="object"?b!==null:o(b)}}),((E,d,r)=>{var o=r(22),c=o.all;E.exports=o.IS_HTMLDDA?function(A){return typeof A=="function"||A===c}:function(A){return typeof A=="function"}}),(E=>{var d=typeof document=="object"&&document.all,r=typeof d>"u"&&d!==void 0;E.exports={all:d,IS_HTMLDDA:r}}),((E,d,r)=>{var o=r(24),c=r(21),A=r(25),b=r(26),P=Object;E.exports=b?function(D){return typeof D=="symbol"}:function(D){var u=o("Symbol");return c(u)&&A(u.prototype,P(D))}}),((E,d,r)=>{var o=r(4),c=r(21),A=function(b){return c(b)?b:void 0};E.exports=function(b,P){return arguments.length<2?A(o[b]):o[b]&&o[b][P]}}),((E,d,r)=>{var o=r(14);E.exports=o({}.isPrototypeOf)}),((E,d,r)=>{var o=r(27);E.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),((E,d,r)=>{var o=r(28),c=r(7),A=r(4),b=A.String;E.exports=!!Object.getOwnPropertySymbols&&!c(function(){var P=Symbol("symbol detection");return!b(P)||!(Object(P)instanceof Symbol)||!Symbol.sham&&o&&o<41})}),((E,d,r)=>{var o=r(4),c=r(29),A=o.process,b=o.Deno,P=A&&A.versions||b&&b.version,D=P&&P.v8,u,s;D&&(u=D.split("."),s=u[0]>0&&u[0]<4?1:+(u[0]+u[1])),!s&&c&&(u=c.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=c.match(/Chrome\/(\d+)/),u&&(s=+u[1]))),E.exports=s}),(E=>{E.exports=typeof navigator<"u"&&String(navigator.userAgent)||""}),((E,d,r)=>{var o=r(31),c=r(17);E.exports=function(A,b){var P=A[b];return c(P)?void 0:o(P)}}),((E,d,r)=>{var o=r(21),c=r(32),A=TypeError;E.exports=function(b){if(o(b))return b;throw A(c(b)+" is not a function")}}),(E=>{var d=String;E.exports=function(r){try{return d(r)}catch{return"Object"}}}),((E,d,r)=>{var o=r(8),c=r(21),A=r(20),b=TypeError;E.exports=function(P,D){var u,s;if(D==="string"&&c(u=P.toString)&&!A(s=o(u,P))||c(u=P.valueOf)&&!A(s=o(u,P))||D!=="string"&&c(u=P.toString)&&!A(s=o(u,P)))return s;throw b("Can't convert object to primitive value")}}),((E,d,r)=>{var o=r(4),c=r(35),A=r(39),b=r(41),P=r(27),D=r(26),u=o.Symbol,s=c("wks"),l=D?u.for||u:u&&u.withoutSetter||b;E.exports=function(g){return A(s,g)||(s[g]=P&&A(u,g)?u[g]:l("Symbol."+g)),s[g]}}),((E,d,r)=>{var o=r(36),c=r(37);(E.exports=function(A,b){return c[A]||(c[A]=b!==void 0?b:{})})("versions",[]).push({version:"3.32.2",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})}),(E=>{E.exports=!1}),((E,d,r)=>{var o=r(4),c=r(38),A="__core-js_shared__",b=o[A]||c(A,{});E.exports=b}),((E,d,r)=>{var o=r(4),c=Object.defineProperty;E.exports=function(A,b){try{c(o,A,{value:b,configurable:!0,writable:!0})}catch{o[A]=b}return b}}),((E,d,r)=>{var o=r(14),c=r(40),A=o({}.hasOwnProperty);E.exports=Object.hasOwn||function(P,D){return A(c(P),D)}}),((E,d,r)=>{var o=r(16),c=Object;E.exports=function(A){return c(o(A))}}),((E,d,r)=>{var o=r(14),c=0,A=Math.random(),b=o(1 .toString);E.exports=function(P){return"Symbol("+(P===void 0?"":P)+")_"+b(++c+A,36)}}),((E,d,r)=>{var o=r(6),c=r(7),A=r(43);E.exports=!o&&!c(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),((E,d,r)=>{var o=r(4),c=r(20),A=o.document,b=c(A)&&c(A.createElement);E.exports=function(P){return b?A.createElement(P):{}}}),((E,d,r)=>{var o=r(6),c=r(45),A=r(11);E.exports=o?function(b,P,D){return c.f(b,P,A(1,D))}:function(b,P,D){return b[P]=D,b}}),((E,d,r)=>{var o=r(6),c=r(42),A=r(46),b=r(47),P=r(18),D=TypeError,u=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",g="configurable",m="writable";d.f=o?A?function(h,v,p){if(b(h),v=P(v),b(p),typeof h=="function"&&v==="prototype"&&"value"in p&&m in p&&!p[m]){var R=s(h,v);R&&R[m]&&(h[v]=p.value,p={configurable:g in p?p[g]:R[g],enumerable:l in p?p[l]:R[l],writable:!1})}return u(h,v,p)}:u:function(h,v,p){if(b(h),v=P(v),b(p),c)try{return u(h,v,p)}catch{}if("get"in p||"set"in p)throw D("Accessors not supported");return"value"in p&&(h[v]=p.value),h}}),((E,d,r)=>{var o=r(6),c=r(7);E.exports=o&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),((E,d,r)=>{var o=r(20),c=String,A=TypeError;E.exports=function(b){if(o(b))return b;throw A(c(b)+" is not an object")}}),((E,d,r)=>{var o=r(21),c=r(45),A=r(49),b=r(38);E.exports=function(P,D,u,s){s||(s={});var l=s.enumerable,g=s.name!==void 0?s.name:D;if(o(u)&&A(u,g,s),s.global)l?P[D]=u:b(D,u);else{try{s.unsafe?P[D]&&(l=!0):delete P[D]}catch{}l?P[D]=u:c.f(P,D,{value:u,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return P}}),((E,d,r)=>{var o=r(14),c=r(7),A=r(21),b=r(39),P=r(6),D=r(50).CONFIGURABLE,u=r(51),s=r(52),l=s.enforce,g=s.get,m=String,a=Object.defineProperty,h=o("".slice),v=o("".replace),p=o([].join),R=P&&!c(function(){return a(function(){},"length",{value:8}).length!==8}),U=String(String).split("String"),L=E.exports=function(T,I,z){h(m(I),0,7)==="Symbol("&&(I="["+v(m(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(I="get "+I),z&&z.setter&&(I="set "+I),(!b(T,"name")||D&&T.name!==I)&&(P?a(T,"name",{value:I,configurable:!0}):T.name=I),R&&z&&b(z,"arity")&&T.length!==z.arity&&a(T,"length",{value:z.arity});try{z&&b(z,"constructor")&&z.constructor?P&&a(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var V=l(T);return b(V,"source")||(V.source=p(U,typeof I=="string"?I:"")),T};Function.prototype.toString=L(function(){return A(this)&&g(this).source||u(this)},"toString")}),((E,d,r)=>{var o=r(6),c=r(39),A=Function.prototype,b=o&&Object.getOwnPropertyDescriptor,P=c(A,"name"),D=P&&(function(){}).name==="something",u=P&&(!o||o&&b(A,"name").configurable);E.exports={EXISTS:P,PROPER:D,CONFIGURABLE:u}}),((E,d,r)=>{var o=r(14),c=r(21),A=r(37),b=o(Function.toString);c(A.inspectSource)||(A.inspectSource=function(P){return b(P)}),E.exports=A.inspectSource}),((E,d,r)=>{var o=r(53),c=r(4),A=r(20),b=r(44),P=r(39),D=r(37),u=r(54),s=r(55),l="Object already initialized",g=c.TypeError,m=c.WeakMap,a,h,v,p=function(T){return v(T)?h(T):a(T,{})},R=function(T){return function(I){var z;if(!A(I)||(z=h(I)).type!==T)throw g("Incompatible receiver, "+T+" required");return z}};if(o||D.state){var U=D.state||(D.state=new m);U.get=U.get,U.has=U.has,U.set=U.set,a=function(T,I){if(U.has(T))throw g(l);return I.facade=T,U.set(T,I),I},h=function(T){return U.get(T)||{}},v=function(T){return U.has(T)}}else{var L=u("state");s[L]=!0,a=function(T,I){if(P(T,L))throw g(l);return I.facade=T,b(T,L,I),I},h=function(T){return P(T,L)?T[L]:{}},v=function(T){return P(T,L)}}E.exports={set:a,get:h,has:v,enforce:p,getterFor:R}}),((E,d,r)=>{var o=r(4),c=r(21),A=o.WeakMap;E.exports=c(A)&&/native code/.test(String(A))}),((E,d,r)=>{var o=r(35),c=r(41),A=o("keys");E.exports=function(b){return A[b]||(A[b]=c(b))}}),(E=>{E.exports={}}),((E,d,r)=>{var o=r(39),c=r(57),A=r(5),b=r(45);E.exports=function(P,D,u){for(var s=c(D),l=b.f,g=A.f,m=0;m<s.length;m++){var a=s[m];!o(P,a)&&!(u&&o(u,a))&&l(P,a,g(D,a))}}}),((E,d,r)=>{var o=r(24),c=r(14),A=r(58),b=r(67),P=r(47),D=c([].concat);E.exports=o("Reflect","ownKeys")||function(s){var l=A.f(P(s)),g=b.f;return g?D(l,g(s)):l}}),((E,d,r)=>{var o=r(59),c=r(66),A=c.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(P){return o(P,A)}}),((E,d,r)=>{var o=r(14),c=r(39),A=r(12),b=r(60).indexOf,P=r(55),D=o([].push);E.exports=function(u,s){var l=A(u),g=0,m=[],a;for(a in l)!c(P,a)&&c(l,a)&&D(m,a);for(;s.length>g;)c(l,a=s[g++])&&(~b(m,a)||D(m,a));return m}}),((E,d,r)=>{var o=r(12),c=r(61),A=r(64),b=function(P){return function(D,u,s){var l=o(D),g=A(l),m=c(s,g),a;if(P&&u!==u){for(;g>m;)if(a=l[m++],a!==a)return!0}else for(;g>m;m++)if((P||m in l)&&l[m]===u)return P||m||0;return!P&&-1}};E.exports={includes:b(!0),indexOf:b(!1)}}),((E,d,r)=>{var o=r(62),c=Math.max,A=Math.min;E.exports=function(b,P){var D=o(b);return D<0?c(D+P,0):A(D,P)}}),((E,d,r)=>{var o=r(63);E.exports=function(c){var A=+c;return A!==A||A===0?0:o(A)}}),(E=>{var d=Math.ceil,r=Math.floor;E.exports=Math.trunc||function(c){var A=+c;return(A>0?r:d)(A)}}),((E,d,r)=>{var o=r(65);E.exports=function(c){return o(c.length)}}),((E,d,r)=>{var o=r(62),c=Math.min;E.exports=function(A){return A>0?c(o(A),9007199254740991):0}}),(E=>{E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),((E,d)=>{d.f=Object.getOwnPropertySymbols}),((E,d,r)=>{var o=r(7),c=r(21),A=/#|\.prototype\./,b=function(l,g){var m=D[P(l)];return m===s?!0:m===u?!1:c(g)?o(g):!!g},P=b.normalize=function(l){return String(l).replace(A,".").toLowerCase()},D=b.data={},u=b.NATIVE="N",s=b.POLYFILL="P";E.exports=b}),((E,d,r)=>{var o=r(9),c=Function.prototype,A=c.apply,b=c.call;E.exports=typeof Reflect=="object"&&Reflect.apply||(o?b.bind(A):function(){return b.apply(A,arguments)})}),((E,d,r)=>{var o=r(24),c=r(39),A=r(44),b=r(25),P=r(71),D=r(56),u=r(74),s=r(75),l=r(76),g=r(80),m=r(81),a=r(6),h=r(36);E.exports=function(v,p,R,U){var L="stackTraceLimit",T=U?2:1,I=v.split("."),z=I[I.length-1],V=o.apply(null,I);if(V){var $=V.prototype;if(!h&&c($,"cause")&&delete $.cause,!R)return V;var j=o("Error"),J=p(function(he,le){var de=l(U?le:he,void 0),fe=U?new V(he):new V;return de!==void 0&&A(fe,"message",de),m(fe,J,fe.stack,2),this&&b($,this)&&s(fe,this,J),arguments.length>T&&g(fe,arguments[T]),fe});if(J.prototype=$,z!=="Error"?P?P(J,j):D(J,j,{name:!0}):a&&L in V&&(u(J,V,L),u(J,V,"prepareStackTrace")),D(J,V),!h)try{$.name!==z&&A($,"name",z),$.constructor=J}catch{}return J}}}),((E,d,r)=>{var o=r(72),c=r(47),A=r(73);E.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,P={},D;try{D=o(Object.prototype,"__proto__","set"),D(P,[]),b=P instanceof Array}catch{}return function(s,l){return c(s),A(l),b?D(s,l):s.__proto__=l,s}})():void 0)}),((E,d,r)=>{var o=r(14),c=r(31);E.exports=function(A,b,P){try{return o(c(Object.getOwnPropertyDescriptor(A,b)[P]))}catch{}}}),((E,d,r)=>{var o=r(21),c=String,A=TypeError;E.exports=function(b){if(typeof b=="object"||o(b))return b;throw A("Can't set "+c(b)+" as a prototype")}}),((E,d,r)=>{var o=r(45).f;E.exports=function(c,A,b){b in c||o(c,b,{configurable:!0,get:function(){return A[b]},set:function(P){A[b]=P}})}}),((E,d,r)=>{var o=r(21),c=r(20),A=r(71);E.exports=function(b,P,D){var u,s;return A&&o(u=P.constructor)&&u!==D&&c(s=u.prototype)&&s!==D.prototype&&A(b,s),b}}),((E,d,r)=>{var o=r(77);E.exports=function(c,A){return c===void 0?arguments.length<2?"":A:o(c)}}),((E,d,r)=>{var o=r(78),c=String;E.exports=function(A){if(o(A)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return c(A)}}),((E,d,r)=>{var o=r(79),c=r(21),A=r(15),b=r(34),P=b("toStringTag"),D=Object,u=A((function(){return arguments})())==="Arguments",s=function(l,g){try{return l[g]}catch{}};E.exports=o?A:function(l){var g,m,a;return l===void 0?"Undefined":l===null?"Null":typeof(m=s(g=D(l),P))=="string"?m:u?A(g):(a=A(g))==="Object"&&c(g.callee)?"Arguments":a}}),((E,d,r)=>{var o=r(34),c=o("toStringTag"),A={};A[c]="z",E.exports=String(A)==="[object z]"}),((E,d,r)=>{var o=r(20),c=r(44);E.exports=function(A,b){o(b)&&"cause"in b&&c(A,"cause",b.cause)}}),((E,d,r)=>{var o=r(44),c=r(82),A=r(83),b=Error.captureStackTrace;E.exports=function(P,D,u,s){A&&(b?b(P,D):o(P,"stack",c(u,s)))}}),((E,d,r)=>{var o=r(14),c=Error,A=o("".replace),b=(function(u){return String(c(u).stack)})("zxcasd"),P=/\n\s*at [^:]*:[^\n]*/,D=P.test(b);E.exports=function(u,s){if(D&&typeof u=="string"&&!c.prepareStackTrace)for(;s--;)u=A(u,P,"");return u}}),((E,d,r)=>{var o=r(7),c=r(11);E.exports=!o(function(){var A=Error("a");return"stack"in A?(Object.defineProperty(A,"stack",c(1,7)),A.stack!==7):!0})}),((E,d,r)=>{var o=r(48),c=r(14),A=r(77),b=r(85),P=URLSearchParams,D=P.prototype,u=c(D.append),s=c(D.delete),l=c(D.forEach),g=c([].push),m=new P("a=1&a=2&b=3");m.delete("a",1),m.delete("b",void 0),m+""!="a=2"&&o(D,"delete",function(a){var h=arguments.length,v=h<2?void 0:arguments[1];if(h&&v===void 0)return s(this,a);var p=[];l(this,function($,j){g(p,{key:j,value:$})}),b(h,1);for(var R=A(a),U=A(v),L=0,T=0,I=!1,z=p.length,V;L<z;)V=p[L++],I||V.key===R?(I=!0,s(this,V.key)):T++;for(;T<z;)V=p[T++],V.key===R&&V.value===U||u(this,V.key,V.value)},{enumerable:!0,unsafe:!0})}),(E=>{var d=TypeError;E.exports=function(r,o){if(r<o)throw d("Not enough arguments");return r}}),((E,d,r)=>{var o=r(48),c=r(14),A=r(77),b=r(85),P=URLSearchParams,D=P.prototype,u=c(D.getAll),s=c(D.has),l=new P("a=1");(l.has("a",2)||!l.has("a",void 0))&&o(D,"has",function(m){var a=arguments.length,h=a<2?void 0:arguments[1];if(a&&h===void 0)return s(this,m);var v=u(this,m);b(a,1);for(var p=A(h),R=0;R<v.length;)if(v[R++]===p)return!0;return!1},{enumerable:!0,unsafe:!0})}),((E,d,r)=>{var o=r(6),c=r(14),A=r(88),b=URLSearchParams.prototype,P=c(b.forEach);o&&!("size"in b)&&A(b,"size",{get:function(){var u=0;return P(this,function(){u++}),u},configurable:!0,enumerable:!0})}),((E,d,r)=>{var o=r(49),c=r(45);E.exports=function(A,b,P){return P.get&&o(P.get,b,{getter:!0}),P.set&&o(P.set,b,{setter:!0}),c.f(A,b,P)}}),((E,d,r)=>{var o=r(3),c=r(40),A=r(64),b=r(90),P=r(92),D=r(7),u=D(function(){return[].push.call({length:4294967296},1)!==4294967297}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(g){return g instanceof TypeError}},l=u||!s();o({target:"Array",proto:!0,arity:1,forced:l},{push:function(m){var a=c(this),h=A(a),v=arguments.length;P(h+v);for(var p=0;p<v;p++)a[h]=arguments[p],h++;return b(a,h),h}})}),((E,d,r)=>{var o=r(6),c=r(91),A=TypeError,b=Object.getOwnPropertyDescriptor,P=o&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(D){return D instanceof TypeError}})();E.exports=P?function(D,u){if(c(D)&&!b(D,"length").writable)throw A("Cannot set read only .length");return D.length=u}:function(D,u){return D.length=u}}),((E,d,r)=>{var o=r(15);E.exports=Array.isArray||function(A){return o(A)==="Array"}}),(E=>{var d=TypeError,r=9007199254740991;E.exports=function(o){if(o>r)throw d("Maximum allowed index exceeded");return o}}),((E,d,r)=>{var o=r(94),c=r(98).findLast,A=o.aTypedArray,b=o.exportTypedArrayMethod;b("findLast",function(D){return c(A(this),D,arguments.length>1?arguments[1]:void 0)})}),((E,d,r)=>{var o=r(95),c=r(6),A=r(4),b=r(21),P=r(20),D=r(39),u=r(78),s=r(32),l=r(44),g=r(48),m=r(88),a=r(25),h=r(96),v=r(71),p=r(34),R=r(41),U=r(52),L=U.enforce,T=U.get,I=A.Int8Array,z=I&&I.prototype,V=A.Uint8ClampedArray,$=V&&V.prototype,j=I&&h(I),J=z&&h(z),he=Object.prototype,le=A.TypeError,de=p("toStringTag"),fe=R("TYPED_ARRAY_TAG"),re="TypedArrayConstructor",Y=o&&!!v&&u(A.opera)!=="Opera",M=!1,x,k,C,_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},G=function(Q){if(!P(Q))return!1;var te=u(Q);return te==="DataView"||D(_,te)||D(W,te)},H=function(X){var Q=h(X);if(P(Q)){var te=T(Q);return te&&D(te,re)?te[re]:H(Q)}},y=function(X){if(!P(X))return!1;var Q=u(X);return D(_,Q)||D(W,Q)},w=function(X){if(y(X))return X;throw le("Target is not a typed array")},F=function(X){if(b(X)&&(!v||a(j,X)))return X;throw le(s(X)+" is not a typed array constructor")},N=function(X,Q,te,Ae){if(c){if(te)for(var se in _){var ue=A[se];if(ue&&D(ue.prototype,X))try{delete ue.prototype[X]}catch{try{ue.prototype[X]=Q}catch{}}}(!J[X]||te)&&g(J,X,te?Q:Y&&z[X]||Q,Ae)}},O=function(X,Q,te){var Ae,se;if(c){if(v){if(te){for(Ae in _)if(se=A[Ae],se&&D(se,X))try{delete se[X]}catch{}}if(!j[X]||te)try{return g(j,X,te?Q:Y&&j[X]||Q)}catch{}else return}for(Ae in _)se=A[Ae],se&&(!se[X]||te)&&g(se,X,Q)}};for(x in _)k=A[x],C=k&&k.prototype,C?L(C)[re]=k:Y=!1;for(x in W)k=A[x],C=k&&k.prototype,C&&(L(C)[re]=k);if((!Y||!b(j)||j===Function.prototype)&&(j=function(){throw le("Incorrect invocation")},Y))for(x in _)A[x]&&v(A[x],j);if((!Y||!J||J===he)&&(J=j.prototype,Y))for(x in _)A[x]&&v(A[x].prototype,J);if(Y&&h($)!==J&&v($,J),c&&!D(J,de)){M=!0,m(J,de,{configurable:!0,get:function(){return P(this)?this[fe]:void 0}});for(x in _)A[x]&&l(A[x],fe,x)}E.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:M&&fe,aTypedArray:w,aTypedArrayConstructor:F,exportTypedArrayMethod:N,exportTypedArrayStaticMethod:O,getTypedArrayConstructor:H,isView:G,isTypedArray:y,TypedArray:j,TypedArrayPrototype:J}}),(E=>{E.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),((E,d,r)=>{var o=r(39),c=r(21),A=r(40),b=r(54),P=r(97),D=b("IE_PROTO"),u=Object,s=u.prototype;E.exports=P?u.getPrototypeOf:function(l){var g=A(l);if(o(g,D))return g[D];var m=g.constructor;return c(m)&&g instanceof m?m.prototype:g instanceof u?s:null}}),((E,d,r)=>{var o=r(7);E.exports=!o(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})}),((E,d,r)=>{var o=r(99),c=r(13),A=r(40),b=r(64),P=function(D){var u=D===1;return function(s,l,g){for(var m=A(s),a=c(m),h=o(l,g),v=b(a),p,R;v-- >0;)if(p=a[v],R=h(p,v,m),R)switch(D){case 0:return p;case 1:return v}return u?-1:void 0}};E.exports={findLast:P(0),findLastIndex:P(1)}}),((E,d,r)=>{var o=r(100),c=r(31),A=r(9),b=o(o.bind);E.exports=function(P,D){return c(P),D===void 0?P:A?b(P,D):function(){return P.apply(D,arguments)}}}),((E,d,r)=>{var o=r(15),c=r(14);E.exports=function(A){if(o(A)==="Function")return c(A)}}),((E,d,r)=>{var o=r(94),c=r(98).findLastIndex,A=o.aTypedArray,b=o.exportTypedArrayMethod;b("findLastIndex",function(D){return c(A(this),D,arguments.length>1?arguments[1]:void 0)})}),((E,d,r)=>{var o=r(4),c=r(8),A=r(94),b=r(64),P=r(103),D=r(40),u=r(7),s=o.RangeError,l=o.Int8Array,g=l&&l.prototype,m=g&&g.set,a=A.aTypedArray,h=A.exportTypedArrayMethod,v=!u(function(){var R=new Uint8ClampedArray(2);return c(m,R,{length:1,0:3},1),R[1]!==3}),p=v&&A.NATIVE_ARRAY_BUFFER_VIEWS&&u(function(){var R=new l(2);return R.set(1),R.set("2",1),R[0]!==0||R[1]!==2});h("set",function(U){a(this);var L=P(arguments.length>1?arguments[1]:void 0,1),T=D(U);if(v)return c(m,this,T,L);var I=this.length,z=b(T),V=0;if(z+L>I)throw s("Wrong length");for(;V<z;)this[L+V]=T[V++]},!v||p)}),((E,d,r)=>{var o=r(104),c=RangeError;E.exports=function(A,b){var P=o(A);if(P%b)throw c("Wrong offset");return P}}),((E,d,r)=>{var o=r(62),c=RangeError;E.exports=function(A){var b=o(A);if(b<0)throw c("The argument can't be less than 0");return b}}),((E,d,r)=>{var o=r(106),c=r(94),A=c.aTypedArray,b=c.exportTypedArrayMethod,P=c.getTypedArrayConstructor;b("toReversed",function(){return o(A(this),P(this))})}),((E,d,r)=>{var o=r(64);E.exports=function(c,A){for(var b=o(c),P=new A(b),D=0;D<b;D++)P[D]=c[b-D-1];return P}}),((E,d,r)=>{var o=r(94),c=r(14),A=r(31),b=r(108),P=o.aTypedArray,D=o.getTypedArrayConstructor,u=o.exportTypedArrayMethod,s=c(o.TypedArrayPrototype.sort);u("toSorted",function(g){g!==void 0&&A(g);var m=P(this),a=b(D(m),m);return s(a,g)})}),((E,d,r)=>{var o=r(64);E.exports=function(c,A){for(var b=0,P=o(A),D=new c(P);P>b;)D[b]=A[b++];return D}}),((E,d,r)=>{var o=r(110),c=r(94),A=r(111),b=r(62),P=r(112),D=c.aTypedArray,u=c.getTypedArrayConstructor,s=c.exportTypedArrayMethod,l=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(g){return g===8}})();s("with",function(g,m){var a=D(this),h=b(g),v=A(a)?P(m):+m;return o(a,u(a),h,v)},!l)}),((E,d,r)=>{var o=r(64),c=r(62),A=RangeError;E.exports=function(b,P,D,u){var s=o(b),l=c(D),g=l<0?s+l:l;if(g>=s||g<0)throw A("Incorrect index");for(var m=new P(s),a=0;a<s;a++)m[a]=a===g?u:b[a];return m}}),((E,d,r)=>{var o=r(78);E.exports=function(c){var A=o(c);return A==="BigInt64Array"||A==="BigUint64Array"}}),((E,d,r)=>{var o=r(19),c=TypeError;E.exports=function(A){var b=o(A,"number");if(typeof b=="number")throw c("Can't convert number to bigint");return BigInt(b)}}),((E,d,r)=>{var o=r(6),c=r(88),A=r(114),b=ArrayBuffer.prototype;o&&!("detached"in b)&&c(b,"detached",{configurable:!0,get:function(){return A(this)}})}),((E,d,r)=>{var o=r(14),c=r(115),A=o(ArrayBuffer.prototype.slice);E.exports=function(b){if(c(b)!==0)return!1;try{return A(b,0,0),!1}catch{return!0}}}),((E,d,r)=>{var o=r(72),c=r(15),A=TypeError;E.exports=o(ArrayBuffer.prototype,"byteLength","get")||function(b){if(c(b)!=="ArrayBuffer")throw A("ArrayBuffer expected");return b.byteLength}}),((E,d,r)=>{var o=r(3),c=r(117);c&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return c(this,arguments.length?arguments[0]:void 0,!0)}})}),((E,d,r)=>{var o=r(4),c=r(14),A=r(72),b=r(118),P=r(114),D=r(115),u=r(119),s=o.TypeError,l=o.structuredClone,g=o.ArrayBuffer,m=o.DataView,a=Math.min,h=g.prototype,v=m.prototype,p=c(h.slice),R=A(h,"resizable","get"),U=A(h,"maxByteLength","get"),L=c(v.getInt8),T=c(v.setInt8);E.exports=u&&function(I,z,V){var $=D(I),j=z===void 0?$:b(z),J=!R||!R(I);if(P(I))throw s("ArrayBuffer is detached");var he=l(I,{transfer:[I]});if($===j&&(V||J))return he;if($>=j&&(!V||J))return p(he,0,j);for(var le=V&&!J&&U?{maxByteLength:U(he)}:void 0,de=new g(j,le),fe=new m(he),re=new m(de),Y=a(j,$),M=0;M<Y;M++)T(re,M,L(fe,M));return de}}),((E,d,r)=>{var o=r(62),c=r(65),A=RangeError;E.exports=function(b){if(b===void 0)return 0;var P=o(b),D=c(P);if(P!==D)throw A("Wrong length or index");return D}}),((E,d,r)=>{var o=r(4),c=r(7),A=r(28),b=r(120),P=r(121),D=r(122),u=o.structuredClone;E.exports=!!u&&!c(function(){if(P&&A>92||D&&A>94||b&&A>97)return!1;var s=new ArrayBuffer(8),l=u(s,{transfer:[s]});return s.byteLength!==0||l.byteLength!==8})}),((E,d,r)=>{var o=r(121),c=r(122);E.exports=!o&&!c&&typeof window=="object"&&typeof document=="object"}),(E=>{E.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"}),((E,d,r)=>{var o=r(4),c=r(15);E.exports=c(o.process)==="process"}),((E,d,r)=>{var o=r(3),c=r(117);c&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return c(this,arguments.length?arguments[0]:void 0,!1)}})}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(E){if(typeof E=="string"||E instanceof URL?E={url:E}:(0,_util.isArrayBuffer)(E)&&(E={data:E}),typeof E!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!E.url&&!E.data&&!E.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,{docId:r}=d,o=E.url?getUrlProp(E.url):null,c=E.data?getDataProp(E.data):null,A=E.httpHeaders||null,b=E.withCredentials===!0,P=E.password??null,D=E.range instanceof PDFDataRangeTransport?E.range:null,u=Number.isInteger(E.rangeChunkSize)&&E.rangeChunkSize>0?E.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let s=E.worker instanceof PDFWorker?E.worker:null;const l=E.verbosity,g=typeof E.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(E.docBaseUrl)?E.docBaseUrl:null,m=typeof E.cMapUrl=="string"?E.cMapUrl:null,a=E.cMapPacked!==!1,h=E.CMapReaderFactory||DefaultCMapReaderFactory,v=typeof E.standardFontDataUrl=="string"?E.standardFontDataUrl:null,p=E.StandardFontDataFactory||DefaultStandardFontDataFactory,R=E.stopAtErrors!==!0,U=Number.isInteger(E.maxImageSize)&&E.maxImageSize>-1?E.maxImageSize:-1,L=E.isEvalSupported!==!1,T=typeof E.isOffscreenCanvasSupported=="boolean"?E.isOffscreenCanvasSupported:!_util.isNodeJS,I=Number.isInteger(E.canvasMaxAreaInBytes)?E.canvasMaxAreaInBytes:-1,z=typeof E.disableFontFace=="boolean"?E.disableFontFace:_util.isNodeJS,V=E.fontExtraProperties===!0,$=E.enableXfa===!0,j=E.ownerDocument||globalThis.document,J=E.disableRange===!0,he=E.disableStream===!0,le=E.disableAutoFetch===!0,de=E.pdfBug===!0,fe=D?D.length:E.length??NaN,re=typeof E.useSystemFonts=="boolean"?E.useSystemFonts:!_util.isNodeJS&&!z,Y=typeof E.useWorkerFetch=="boolean"?E.useWorkerFetch:h===_display_utils.DOMCMapReaderFactory&&p===_display_utils.DOMStandardFontDataFactory&&m&&v&&(0,_display_utils.isValidFetchUrl)(m,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),M=E.canvasFactory||new DefaultCanvasFactory({ownerDocument:j}),x=E.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:j}),k=null;(0,_util.setVerbosityLevel)(l);const C={canvasFactory:M,filterFactory:x};if(Y||(C.cMapReaderFactory=new h({baseUrl:m,isCompressed:a}),C.standardFontDataFactory=new p({baseUrl:v})),!s){const G={verbosity:l,port:_worker_options.GlobalWorkerOptions.workerPort};s=G.port?PDFWorker.fromPort(G):new PDFWorker(G),d._worker=s}const _={docId:r,apiVersion:"3.11.174",data:c,password:P,disableAutoFetch:le,rangeChunkSize:u,length:fe,docBaseUrl:g,enableXfa:$,evaluatorOptions:{maxImageSize:U,disableFontFace:z,ignoreErrors:R,isEvalSupported:L,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:I,fontExtraProperties:V,useSystemFonts:re,cMapUrl:Y?m:null,standardFontDataUrl:Y?v:null}},W={ignoreErrors:R,isEvalSupported:L,disableFontFace:z,fontExtraProperties:V,enableXfa:$,ownerDocument:j,disableAutoFetch:le,pdfBug:de,styleElement:k};return s.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(s,_),H=new Promise(function(y){let w;D?w=new _transport_stream.PDFDataTransportStream({length:fe,initialData:D.initialData,progressiveDone:D.progressiveDone,contentDispositionFilename:D.contentDispositionFilename,disableRange:J,disableStream:he},D):c||(w=(N=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(N):(0,_display_utils.isValidFetchUrl)(N.url)?new _displayFetch_stream.PDFFetchStream(N):new _displayNetwork.PDFNetworkStream(N))({url:o,length:fe,httpHeaders:A,withCredentials:b,rangeChunkSize:u,disableRange:J,disableStream:he})),y(w)});return Promise.all([G,H]).then(function(y){let[w,F]=y;if(d.destroyed)throw new Error("Loading aborted");const N=new _message_handler.MessageHandler(r,w,s.port),O=new WorkerTransport(N,d,F,W,C);d._transport=O,N.send("Ready",null)})}).catch(d._capability.reject),d}async function _fetchDocument(E,d){if(E.destroyed)throw new Error("Worker was destroyed");const r=await E.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(E.destroyed)throw new Error("Worker was destroyed");return r}function getUrlProp(E){if(E instanceof URL)return E.href;try{return new URL(E,window.location).href}catch{if(_util.isNodeJS&&typeof E=="string")return E}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(E){if(_util.isNodeJS&&typeof Buffer<"u"&&E instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength)return E;if(typeof E=="string")return(0,_util.stringToBytes)(E);if(typeof E=="object"&&!isNaN(E?.length)||(0,_util.isArrayBuffer)(E))return new Uint8Array(E);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(d){throw this._worker?.port&&delete this._worker._pendingDestroy,d}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=d,this.initialData=r,this.progressiveDone=o,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,r){for(const o of this._rangeListeners)o(d,r)}onDataProgress(d,r){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(d,r)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,r){this._pdfInfo=d,this._transport=r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const c=[];for(const A in o)c.push(...o[A]);return c}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(d,r,o){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=d,this._pageInfo=r,this._transport=o,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:d,rotation:r=this.rotate,offsetX:o=0,offsetY:c=0,dontFlip:A=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:r,offsetX:o,offsetY:c,dontFlip:A})}getAnnotations(){let{intent:d="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(d){let{canvasContext:r,viewport:o,intent:c="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:b=null,background:P=null,optionalContentConfigPromise:D=null,annotationCanvasMap:u=null,pageColors:s=null,printAnnotationStorage:l=null}=d;this._stats?.time("Overall");const g=this._transport.getRenderingIntent(c,A,l);this.#t=!1,this.#r(),D||(D=this._transport.getOptionalContentConfig());let m=this._intentStates.get(g.cacheKey);m||(m=Object.create(null),this._intentStates.set(g.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const a=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=new _util.PromiseCapability,m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const h=R=>{m.renderTasks.delete(v),(this._maybeCleanupAfterRender||a)&&(this.#t=!0),this.#n(!a),R?(v.capability.reject(R),this._abortOperatorList({intentState:m,reason:R instanceof Error?R:new Error(R)})):v.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},v=new InternalRenderTask({callback:h,params:{canvasContext:r,viewport:o,transform:b,background:P},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!a,pdfBug:this._pdfBug,pageColors:s});(m.renderTasks||=new Set).add(v);const p=v.task;return Promise.all([m.displayReadyCapability.promise,D]).then(R=>{let[U,L]=R;if(this.destroyed){h();return}this._stats?.time("Rendering"),v.initializeGraphics({transparency:U,optionalContentConfig:L}),v.operatorListChanged()}).catch(h),p}getOperatorList(){let{intent:d="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function c(){b.operatorList.lastChunk&&(b.opListReadCapability.resolve(b.operatorList),b.renderTasks.delete(P))}const A=this._transport.getRenderingIntent(d,r,o,!0);let b=this._intentStates.get(A.cacheKey);b||(b=Object.create(null),this._intentStates.set(A.cacheKey,b));let P;return b.opListReadCapability||(P=Object.create(null),P.operatorListChanged=c,b.opListReadCapability=new _util.PromiseCapability,(b.renderTasks||=new Set).add(P),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A)),b.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:d=!1,disableNormalization:r=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:d===!0,disableNormalization:r===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const r=this.streamTextContent(d);return new Promise(function(o,c){function A(){b.read().then(function(D){let{value:u,done:s}=D;if(s){o(P);return}Object.assign(P.styles,u.styles),P.items.push(...u.items),A()},c)}const b=r.getReader(),P={items:[],styles:Object.create(null)};A()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const o of r.renderTasks)d.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(d)}cleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#t=!0;const r=this.#n(!1);return d&&r&&(this._stats&&=new _display_utils.StatTimer),r}#n(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#r(),!this.#t||this.destroyed)return!1;if(d)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:r,operatorList:o}of this._intentStates.values())if(r.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(d,r){const o=this._intentStates.get(r);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(d))}_renderPageChunk(d,r){for(let o=0,c=d.length;o<c;o++)r.operatorList.fnArray.push(d.fnArray[o]),r.operatorList.argsArray.push(d.argsArray[o]);r.operatorList.lastChunk=d.lastChunk,r.operatorList.separateAnnots=d.separateAnnots;for(const o of r.renderTasks)o.operatorListChanged();d.lastChunk&&this.#n(!0)}_pumpOperatorList(d){let{renderingIntent:r,cacheKey:o,annotationStorageSerializable:c}=d;const{map:A,transfers:b}=c,D=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:o,annotationStorage:A},b).getReader(),u=this._intentStates.get(o);u.streamReader=D;const s=()=>{D.read().then(l=>{let{value:g,done:m}=l;if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,u),s())},l=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();this.#n(!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(l);else if(u.opListReadCapability)u.opListReadCapability.reject(l);else throw l}})};s()}_abortOperatorList(d){let{intentState:r,reason:o,force:c=!1}=d;if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!c){if(r.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException){let A=RENDERING_CANCELLED_TIMEOUT;o.extraDelay>0&&o.extraDelay<1e3&&(A+=o.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:o,force:!0})},A);return}}if(r.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[A,b]of this._intentStates)if(b===r){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(d,r){const o={data:structuredClone(d,null)};this.#t.then(()=>{for(const c of this.#e)c.call(this,o)})}addEventListener(d,r){this.#e.add(r)}removeEventListener(d,r){this.#e.delete(r)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const E=document?.currentScript?.src;E&&(PDFWorkerUtil.fallbackWorkerSrc=E.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(E,d){let r;try{if(r=new URL(E),!r.origin||r.origin==="null")return!1}catch{return!1}const o=new URL(d,r);return r.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(E){const d=`importScripts("${E}");`;return URL.createObjectURL(new Blob([d]))}}class PDFWorker{static#workerPorts;constructor(){let{name:E=null,port:d=null,verbosity:r=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=E,this.destroyed=!1,this.verbosity=r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,d){if(PDFWorker.#workerPorts?.has(d))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(d,this),this._initializeFromPort(d);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(E){this._port=E,this._messageHandler=new _message_handler.MessageHandler("main","worker",E),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:E}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,E)||(E=PDFWorkerUtil.createCDNWrapper(new URL(E,window.location).href));const d=new Worker(E),r=new _message_handler.MessageHandler("main","worker",d),o=()=>{d.removeEventListener("error",c),r.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||o()};d.addEventListener("error",c),r.on("test",b=>{if(d.removeEventListener("error",c),this.destroyed){o();return}b?(this._messageHandler=r,this._port=d,this._webWorker=d,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),d.terminate())}),r.on("ready",b=>{if(d.removeEventListener("error",c),this.destroyed){o();return}try{A()}catch{this._setupFakeWorker()}});const A=()=>{const b=new Uint8Array;r.send("test",b,[b.buffer])};A();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(E=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const d=new LoopbackPort;this._port=d;const r=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(r+"_worker",r,d);E.setup(o,d);const c=new _message_handler.MessageHandler(r,r+"_worker",d);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(E=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${E.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(E){if(!E?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const d=this.#workerPorts?.get(E.port);if(d){if(d._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return d}return new PDFWorker(E)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(d,r,o,c,A){this.messageHandler=d,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,this.canvasFactory=A.canvasFactory,this.filterFactory=A.filterFactory,this.cMapReaderFactory=A.cMapReaderFactory,this.standardFontDataFactory=A.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=this.#e.get(d);if(o)return o;const c=this.messageHandler.sendWithPromise(d,r);return this.#e.set(d,c),c}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=_util.RenderingIntentFlag.DISPLAY,b=_annotation_storage.SerializableEmpty;switch(d){case"any":A=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":A=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(r){case _util.AnnotationMode.DISABLE:A+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:A+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:A+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,b=(A&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return c&&(A+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:A,cacheKey:`${A}_${b.hash}`,annotationStorageSerializable:b}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const o of this.#t.values())d.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return d.push(r),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:r}=this;d.on("GetReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=A=>{this._lastProgress={loaded:A.loaded,total:A.total}},c.onPull=()=>{this._fullReader.read().then(function(A){let{value:b,done:P}=A;if(P){c.close();return}(0,_util.assert)(b instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(b),1,[b])}).catch(A=>{c.error(A)})},c.onCancel=A=>{this._fullReader.cancel(A),c.ready.catch(b=>{if(!this.destroyed)throw b})}}),d.on("ReaderHeadersReady",o=>{const c=new _util.PromiseCapability,A=this._fullReader;return A.headersReady.then(()=>{(!A.isStreamingSupported||!A.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),A.onProgress=b=>{r.onProgress?.({loaded:b.loaded,total:b.total})}),c.resolve({isStreamingSupported:A.isStreamingSupported,isRangeSupported:A.isRangeSupported,contentLength:A.contentLength})},c.reject),c.promise}),d.on("GetRangeReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const A=this._networkStream.getRangeReader(o.begin,o.end);if(!A){c.close();return}c.onPull=()=>{A.read().then(function(b){let{value:P,done:D}=b;if(D){c.close();return}(0,_util.assert)(P instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(P),1,[P])}).catch(b=>{c.error(b)})},c.onCancel=b=>{A.cancel(b),c.ready.catch(P=>{if(!this.destroyed)throw P})}}),d.on("GetDoc",o=>{let{pdfInfo:c}=o;this._numPages=c.numPages,this._htmlForXfa=c.htmlForXfa,delete c.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(c,this))}),d.on("DocException",function(o){let c;switch(o.name){case"PasswordException":c=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":c=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(c)}),d.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,r.onPassword){const c=A=>{A instanceof Error?this.#r.reject(A):this.#r.resolve({password:A})};try{r.onPassword(c,o.code)}catch(A){this.#r.reject(A)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),d.on("DataLoaded",o=>{r.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),d.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),d.on("commonobj",o=>{let[c,A,b]=o;if(!this.destroyed&&!this.commonObjs.has(c))switch(A){case"Font":const P=this._params;if("error"in b){const s=b.error;(0,_util.warn)(`Error during font loading: ${s}`),this.commonObjs.resolve(c,s);break}const D=P.pdfBug&&globalThis.FontInspector?.enabled?(s,l)=>globalThis.FontInspector.fontAdded(s,l):null,u=new _font_loader.FontFaceObject(b,{isEvalSupported:P.isEvalSupported,disableFontFace:P.disableFontFace,ignoreErrors:P.ignoreErrors,inspectFont:D});this.fontLoader.bind(u).catch(s=>d.sendWithPromise("FontFallback",{id:c})).finally(()=>{!P.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(c,u)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(c,b);break;default:throw new Error(`Got unknown common object type ${A}`)}}),d.on("obj",o=>{let[c,A,b,P]=o;if(this.destroyed)return;const D=this.#t.get(A);if(!D.objs.has(c))switch(b){case"Image":if(D.objs.resolve(c,P),P){let u;if(P.bitmap){const{width:s,height:l}=P;u=s*l*4}else u=P.data?.length||0;u>_util.MAX_IMAGE_SIZE_TO_CACHE&&(D._maybeCleanupAfterRender=!0)}break;case"Pattern":D.objs.resolve(c,P);break;default:throw new Error(`Got unknown object type ${b}`)}}),d.on("DocProgress",o=>{this.destroyed||r.onProgress?.({loaded:o.loaded,total:o.total})}),d.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:d,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:d,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=d-1,o=this.#n.get(r);if(o)return o;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(A=>{if(this.destroyed)throw new Error("Transport destroyed");const b=new PDFPageProxy(r,A,this,this._params.pdfBug);return this.#t.set(r,b),b});return this.#n.set(r,c),c}getPageIndex(d){return typeof d!="object"||d===null||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:r})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return typeof d!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",r=this.#e.get(d);if(r)return r;const o=this.messageHandler.sendWithPromise(d,null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(d,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),d||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:d,enableXfa:r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:r})}}class PDFObjects{#e=Object.create(null);#t(d){return this.#e[d]||={capability:new _util.PromiseCapability,data:null}}get(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){const c=this.#t(d);return c.capability.promise.then(()=>r(c.data)),null}const o=this.#e[d];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${d}.`);return o.data}has(d){return this.#e[d]?.capability.settled||!1}resolve(d){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=this.#t(d);o.data=r,o.capability.resolve()}clear(){for(const d in this.#e){const{data:r}=this.#e[d];r?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(d){this.#e=d,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.#e.cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=this.#e.operatorList;if(!d)return!1;const{annotationCanvasMap:r}=this.#e;return d.form||d.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor(d){let{callback:r,params:o,objs:c,commonObjs:A,annotationCanvasMap:b,operatorList:P,pageIndex:D,canvasFactory:u,filterFactory:s,useRequestAnimationFrame:l=!1,pdfBug:g=!1,pageColors:m=null}=d;this.callback=r,this.params=o,this.objs=c,this.commonObjs=A,this.annotationCanvasMap=b,this.operatorListIdx=null,this.operatorList=P,this._pageIndex=D,this.canvasFactory=u,this.filterFactory=s,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(d){let{transparency:r=!1,optionalContentConfig:o}=d;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:c,viewport:A,transform:b,background:P}=this.params;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:b,viewport:A,transparency:r,background:P}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((E,d,r)=>{var o=r(3),c=r(126),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("difference")},{difference:c})}),((E,d,r)=>{var o=r(127),c=r(128),A=r(129),b=r(132),P=r(133),D=r(130),u=r(131),s=c.has,l=c.remove;E.exports=function(m){var a=o(this),h=P(m),v=A(a);return b(a)<=h.size?D(a,function(p){h.includes(p)&&l(v,p)}):u(h.getIterator(),function(p){s(a,p)&&l(v,p)}),v}}),((E,d,r)=>{var o=r(128).has;E.exports=function(c){return o(c),c}}),((E,d,r)=>{var o=r(14),c=Set.prototype;E.exports={Set,add:o(c.add),has:o(c.has),remove:o(c.delete),proto:c}}),((E,d,r)=>{var o=r(128),c=r(130),A=o.Set,b=o.add;E.exports=function(P){var D=new A;return c(P,function(u){b(D,u)}),D}}),((E,d,r)=>{var o=r(14),c=r(131),A=r(128),b=A.Set,P=A.proto,D=o(P.forEach),u=o(P.keys),s=u(new b).next;E.exports=function(l,g,m){return m?c({iterator:u(l),next:s},g):D(l,g)}}),((E,d,r)=>{var o=r(8);E.exports=function(c,A,b){for(var P=b?c:c.iterator,D=c.next,u,s;!(u=o(D,P)).done;)if(s=A(u.value),s!==void 0)return s}}),((E,d,r)=>{var o=r(72),c=r(128);E.exports=o(c.proto,"size","get")||function(A){return A.size}}),((E,d,r)=>{var o=r(31),c=r(47),A=r(8),b=r(62),P=r(134),D="Invalid size",u=RangeError,s=TypeError,l=Math.max,g=function(m,a,h,v){this.set=m,this.size=a,this.has=h,this.keys=v};g.prototype={getIterator:function(){return P(c(A(this.keys,this.set)))},includes:function(m){return A(this.has,this.set,m)}},E.exports=function(m){c(m);var a=+m.size;if(a!==a)throw s(D);var h=b(a);if(h<0)throw u(D);return new g(m,l(h,0),o(m.has),o(m.keys))}}),(E=>{E.exports=function(d){return{iterator:d,next:d.next,done:!1}}}),((E,d,r)=>{var o=r(24),c=function(A){return{size:A,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};E.exports=function(A){var b=o("Set");try{new b()[A](c(0));try{return new b()[A](c(-1)),!1}catch{return!0}}catch{return!1}}}),((E,d,r)=>{var o=r(3),c=r(7),A=r(137),b=r(135),P=!b("intersection")||c(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});o({target:"Set",proto:!0,real:!0,forced:P},{intersection:A})}),((E,d,r)=>{var o=r(127),c=r(128),A=r(132),b=r(133),P=r(130),D=r(131),u=c.Set,s=c.add,l=c.has;E.exports=function(m){var a=o(this),h=b(m),v=new u;return A(a)>h.size?D(h.getIterator(),function(p){l(a,p)&&s(v,p)}):P(a,function(p){h.includes(p)&&s(v,p)}),v}}),((E,d,r)=>{var o=r(3),c=r(139),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isDisjointFrom")},{isDisjointFrom:c})}),((E,d,r)=>{var o=r(127),c=r(128).has,A=r(132),b=r(133),P=r(130),D=r(131),u=r(140);E.exports=function(l){var g=o(this),m=b(l);if(A(g)<=m.size)return P(g,function(h){if(m.includes(h))return!1},!0)!==!1;var a=m.getIterator();return D(a,function(h){if(c(g,h))return u(a,"normal",!1)})!==!1}}),((E,d,r)=>{var o=r(8),c=r(47),A=r(30);E.exports=function(b,P,D){var u,s;c(b);try{if(u=A(b,"return"),!u){if(P==="throw")throw D;return D}u=o(u,b)}catch(l){s=!0,u=l}if(P==="throw")throw D;if(s)throw u;return c(u),D}}),((E,d,r)=>{var o=r(3),c=r(142),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isSubsetOf")},{isSubsetOf:c})}),((E,d,r)=>{var o=r(127),c=r(132),A=r(130),b=r(133);E.exports=function(D){var u=o(this),s=b(D);return c(u)>s.size?!1:A(u,function(l){if(!s.includes(l))return!1},!0)!==!1}}),((E,d,r)=>{var o=r(3),c=r(144),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("isSupersetOf")},{isSupersetOf:c})}),((E,d,r)=>{var o=r(127),c=r(128).has,A=r(132),b=r(133),P=r(131),D=r(140);E.exports=function(s){var l=o(this),g=b(s);if(A(l)<g.size)return!1;var m=g.getIterator();return P(m,function(a){if(!c(l,a))return D(m,"normal",!1)})!==!1}}),((E,d,r)=>{var o=r(3),c=r(146),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("symmetricDifference")},{symmetricDifference:c})}),((E,d,r)=>{var o=r(127),c=r(128),A=r(129),b=r(133),P=r(131),D=c.add,u=c.has,s=c.remove;E.exports=function(g){var m=o(this),a=b(g).getIterator(),h=A(m);return P(a,function(v){u(m,v)?s(h,v):D(h,v)}),h}}),((E,d,r)=>{var o=r(3),c=r(148),A=r(135);o({target:"Set",proto:!0,real:!0,forced:!A("union")},{union:c})}),((E,d,r)=>{var o=r(127),c=r(128).add,A=r(129),b=r(133),P=r(131);E.exports=function(u){var s=o(this),l=b(u).getIterator(),g=A(s);return P(l,function(m){c(g,m)}),g}}),((E,d,r)=>{var o=r(3),c=r(4),A=r(24),b=r(11),P=r(45).f,D=r(39),u=r(150),s=r(75),l=r(76),g=r(151),m=r(82),a=r(6),h=r(36),v="DOMException",p=A("Error"),R=A(v),U=function(){u(this,L);var re=arguments.length,Y=l(re<1?void 0:arguments[0]),M=l(re<2?void 0:arguments[1],"Error"),x=new R(Y,M),k=p(Y);return k.name=v,P(x,"stack",b(1,m(k.stack,1))),s(x,this,U),x},L=U.prototype=R.prototype,T="stack"in p(v),I="stack"in new R(1,2),z=R&&a&&Object.getOwnPropertyDescriptor(c,v),V=!!z&&!(z.writable&&z.configurable),$=T&&!V&&!I;o({global:!0,constructor:!0,forced:h||$},{DOMException:$?U:R});var j=A(v),J=j.prototype;if(J.constructor!==j){h||P(J,"constructor",b(1,j));for(var he in g)if(D(g,he)){var le=g[he],de=le.s;D(j,de)||P(j,de,b(6,le.c))}}}),((E,d,r)=>{var o=r(25),c=TypeError;E.exports=function(A,b){if(o(b,A))return A;throw c("Incorrect invocation")}}),(E=>{E.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}),((E,d,r)=>{var o=r(36),c=r(3),A=r(4),b=r(24),P=r(14),D=r(7),u=r(41),s=r(21),l=r(153),g=r(17),m=r(20),a=r(23),h=r(154),v=r(47),p=r(78),R=r(39),U=r(159),L=r(44),T=r(64),I=r(85),z=r(160),V=r(162),$=r(128),j=r(83),J=r(119),he=A.Object,le=A.Array,de=A.Date,fe=A.Error,re=A.EvalError,Y=A.RangeError,M=A.ReferenceError,x=A.SyntaxError,k=A.TypeError,C=A.URIError,_=A.PerformanceMark,W=A.WebAssembly,G=W&&W.CompileError||fe,H=W&&W.LinkError||fe,y=W&&W.RuntimeError||fe,w=b("DOMException"),F=V.Map,N=V.has,O=V.get,X=V.set,Q=$.Set,te=$.add,Ae=b("Object","keys"),se=P([].push),ue=P((!0).valueOf),pe=P(1 .valueOf),ge=P("".valueOf),me=P(de.prototype.getTime),ke=u("structuredClone"),we="DataCloneError",Oe="Transferring",Ue=function(ne){return!D(function(){var Ce=new A.Set([7]),Ne=ne(Ce),Ie=ne(he(7));return Ne===Ce||!Ne.has(7)||typeof Ie!="object"||+Ie!=7})&&ne},He=function(ne,Ce){return!D(function(){var Ne=new Ce,Ie=ne({a:Ne,b:Ne});return!(Ie&&Ie.a===Ie.b&&Ie.a instanceof Ce&&Ie.a.stack===Ne.stack)})},Ye=function(ne){return!D(function(){var Ce=ne(new A.AggregateError([1],ke,{cause:3}));return Ce.name!=="AggregateError"||Ce.errors[0]!==1||Ce.message!==ke||Ce.cause!==3})},nt=A.structuredClone,ct=o||!He(nt,fe)||!He(nt,w)||!Ye(nt),Lt=!nt&&Ue(function(ne){return new _(ke,{detail:ne}).detail}),Ze=Ue(nt)||Lt,ft=function(ne){throw new w("Uncloneable type: "+ne,we)},qe=function(ne,Ce){throw new w((Ce||"Cloning")+" of "+ne+" cannot be properly polyfilled in this engine",we)},Ln=function(ne,Ce){return Ze||qe(Ce),Ze(ne)},Qn=function(){var ne;try{ne=new A.DataTransfer}catch{try{ne=new A.ClipboardEvent("").clipboardData}catch{}}return ne&&ne.items&&ne.files?ne:null},gn=function(ne,Ce,Ne){if(N(Ce,ne))return O(Ce,ne);var Ie=Ne||p(ne),Le,$e,xe,Ke,We,Ve;if(Ie==="SharedArrayBuffer")Ze?Le=Ze(ne):Le=ne;else{var rt=A.DataView;!rt&&typeof ne.slice!="function"&&qe("ArrayBuffer");try{if(typeof ne.slice=="function"&&!ne.resizable)Le=ne.slice(0);else for($e=ne.byteLength,xe=("maxByteLength"in ne)?{maxByteLength:ne.maxByteLength}:void 0,Le=new ArrayBuffer($e,xe),Ke=new rt(ne),We=new rt(Le),Ve=0;Ve<$e;Ve++)We.setUint8(Ve,Ke.getUint8(Ve))}catch{throw new w("ArrayBuffer is detached",we)}}return X(Ce,ne,Le),Le},ye=function(ne,Ce,Ne,Ie,Le){var $e=A[Ce];return m($e)||qe(Ce),new $e(gn(ne.buffer,Le),Ne,Ie)},ie=function(ne,Ce,Ne){this.object=ne,this.type=Ce,this.metadata=Ne},ee=function(ne,Ce,Ne){if(a(ne)&&ft("Symbol"),!m(ne))return ne;if(Ce){if(N(Ce,ne))return O(Ce,ne)}else Ce=new F;var Ie=p(ne),Le,$e,xe,Ke,We,Ve,rt,gt;switch(Ie){case"Array":xe=le(T(ne));break;case"Object":xe={};break;case"Map":xe=new F;break;case"Set":xe=new Q;break;case"RegExp":xe=new RegExp(ne.source,z(ne));break;case"Error":switch($e=ne.name,$e){case"AggregateError":xe=b("AggregateError")([]);break;case"EvalError":xe=re();break;case"RangeError":xe=Y();break;case"ReferenceError":xe=M();break;case"SyntaxError":xe=x();break;case"TypeError":xe=k();break;case"URIError":xe=C();break;case"CompileError":xe=G();break;case"LinkError":xe=H();break;case"RuntimeError":xe=y();break;default:xe=fe()}break;case"DOMException":xe=new w(ne.message,ne.name);break;case"ArrayBuffer":case"SharedArrayBuffer":xe=Ne?new ie(ne,Ie):gn(ne,Ce,Ie);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ve=Ie==="DataView"?ne.byteLength:ne.length,xe=Ne?new ie(ne,Ie,{offset:ne.byteOffset,length:Ve}):ye(ne,Ie,ne.byteOffset,Ve,Ce);break;case"DOMQuad":try{xe=new DOMQuad(ee(ne.p1,Ce,Ne),ee(ne.p2,Ce,Ne),ee(ne.p3,Ce,Ne),ee(ne.p4,Ce,Ne))}catch{xe=Ln(ne,Ie)}break;case"File":if(Ze)try{xe=Ze(ne),p(xe)!==Ie&&(xe=void 0)}catch{}if(!xe)try{xe=new File([ne],ne.name,ne)}catch{}xe||qe(Ie);break;case"FileList":if(Ke=Qn(),Ke){for(We=0,Ve=T(ne);We<Ve;We++)Ke.items.add(ee(ne[We],Ce,Ne));xe=Ke.files}else xe=Ln(ne,Ie);break;case"ImageData":try{xe=new ImageData(ee(ne.data,Ce,Ne),ne.width,ne.height,{colorSpace:ne.colorSpace})}catch{xe=Ln(ne,Ie)}break;default:if(Ze)xe=Ze(ne);else switch(Ie){case"BigInt":xe=he(ne.valueOf());break;case"Boolean":xe=he(ue(ne));break;case"Number":xe=he(pe(ne));break;case"String":xe=he(ge(ne));break;case"Date":xe=new de(me(ne));break;case"Blob":try{xe=ne.slice(0,ne.size,ne.type)}catch{qe(Ie)}break;case"DOMPoint":case"DOMPointReadOnly":Le=A[Ie];try{xe=Le.fromPoint?Le.fromPoint(ne):new Le(ne.x,ne.y,ne.z,ne.w)}catch{qe(Ie)}break;case"DOMRect":case"DOMRectReadOnly":Le=A[Ie];try{xe=Le.fromRect?Le.fromRect(ne):new Le(ne.x,ne.y,ne.width,ne.height)}catch{qe(Ie)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Le=A[Ie];try{xe=Le.fromMatrix?Le.fromMatrix(ne):new Le(ne)}catch{qe(Ie)}break;case"AudioData":case"VideoFrame":s(ne.clone)||qe(Ie);try{xe=ne.clone()}catch{ft(Ie)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":qe(Ie);default:ft(Ie)}}switch(X(Ce,ne,xe),Ie){case"Array":case"Object":for(rt=Ae(ne),We=0,Ve=T(rt);We<Ve;We++)gt=rt[We],U(xe,gt,ee(ne[gt],Ce,Ne));break;case"Map":ne.forEach(function(lt,Nt){X(xe,ee(Nt,Ce,Ne),ee(lt,Ce,Ne))});break;case"Set":ne.forEach(function(lt){te(xe,ee(lt,Ce,Ne))});break;case"Error":L(xe,"message",ee(ne.message,Ce,Ne)),R(ne,"cause")&&L(xe,"cause",ee(ne.cause,Ce,Ne)),$e==="AggregateError"&&(xe.errors=ee(ne.errors,Ce,Ne));case"DOMException":j&&L(xe,"stack",ee(ne.stack,Ce,Ne))}return xe},Te=function(ne,Ce){if(!m(ne))return ne;if(N(Ce,ne))return O(Ce,ne);var Ne,Ie,Le,$e,xe,Ke,We,Ve;if(ne instanceof ie)switch(Ne=ne.type,Ie=ne.object,Ne){case"ArrayBuffer":case"SharedArrayBuffer":Ve=gn(Ie,Ce,Ne);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Le=ne.metadata,Ve=ye(Ie,Ne,Le.offset,Le.length,Ce)}else switch(p(ne)){case"Array":case"Object":for(Ke=Ae(ne),$e=0,xe=T(Ke);$e<xe;$e++)We=Ke[$e],ne[We]=Te(ne[We],Ce);break;case"Map":Ve=new F,ne.forEach(function(rt,gt){X(Ve,Te(gt,Ce),Te(rt,Ce))});break;case"Set":Ve=new Q,ne.forEach(function(rt){te(Ve,Te(rt,Ce))});break;case"Error":ne.message=Te(ne.message,Ce),R(ne,"cause")&&(ne.cause=Te(ne.cause,Ce)),ne.name==="AggregateError"&&(ne.errors=Te(ne.errors,Ce));case"DOMException":j&&(ne.stack=Te(ne.stack,Ce))}return X(Ce,ne,Ve||ne),Ve||ne},Ge=function(ne,Ce){if(!m(ne))throw k("Transfer option cannot be converted to a sequence");var Ne=[];h(ne,function(lt){se(Ne,v(lt))});for(var Ie=0,Le=T(Ne),$e=[],xe,Ke,We,Ve,rt,gt;Ie<Le;){if(xe=Ne[Ie++],Ke=p(xe),Ke==="ArrayBuffer"){se($e,xe);continue}if(N(Ce,xe))throw new w("Duplicate transferable",we);if(J)Ve=nt(xe,{transfer:[xe]});else switch(Ke){case"ImageBitmap":We=A.OffscreenCanvas,l(We)||qe(Ke,Oe);try{rt=new We(xe.width,xe.height),gt=rt.getContext("bitmaprenderer"),gt.transferFromImageBitmap(xe),Ve=rt.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!s(xe.clone)||!s(xe.close))&&qe(Ke,Oe);try{Ve=xe.clone(),xe.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":qe(Ke,Oe)}if(Ve===void 0)throw new w("This object cannot be transferred: "+Ke,we);X(Ce,xe,Ve)}return $e},st=function(ne,Ce){for(var Ne=0,Ie=T(ne),Le,$e;Ne<Ie;){if(Le=ne[Ne++],N(Ce,Le))throw new w("Duplicate transferable",we);J?$e=nt(Le,{transfer:[Le]}):(s(Le.transfer)||qe("ArrayBuffer",Oe),$e=Le.transfer()),X(Ce,Le,$e)}};c({global:!0,enumerable:!0,sham:!J,forced:ct},{structuredClone:function(Ce){var Ne=I(arguments.length,1)>1&&!g(arguments[1])?v(arguments[1]):void 0,Ie=Ne?Ne.transfer:void 0,Le=!1,$e,xe;Ie!==void 0&&($e=new F,xe=Ge(Ie,$e),Le=!!T(xe));var Ke=ee(Ce,$e,Le);return Le&&($e=new F,st(Ie,$e),Ke=Te(Ke,$e)),Ke}})}),((E,d,r)=>{var o=r(14),c=r(7),A=r(21),b=r(78),P=r(24),D=r(51),u=function(){},s=[],l=P("Reflect","construct"),g=/^\s*(?:class|function)\b/,m=o(g.exec),a=!g.exec(u),h=function(R){if(!A(R))return!1;try{return l(u,s,R),!0}catch{return!1}},v=function(R){if(!A(R))return!1;switch(b(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return a||!!m(g,D(R))}catch{return!0}};v.sham=!0,E.exports=!l||c(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?v:h}),((E,d,r)=>{var o=r(99),c=r(8),A=r(47),b=r(32),P=r(155),D=r(64),u=r(25),s=r(157),l=r(158),g=r(140),m=TypeError,a=function(v,p){this.stopped=v,this.result=p},h=a.prototype;E.exports=function(v,p,R){var U=R&&R.that,L=!!(R&&R.AS_ENTRIES),T=!!(R&&R.IS_RECORD),I=!!(R&&R.IS_ITERATOR),z=!!(R&&R.INTERRUPTED),V=o(p,U),$,j,J,he,le,de,fe,re=function(M){return $&&g($,"normal",M),new a(!0,M)},Y=function(M){return L?(A(M),z?V(M[0],M[1],re):V(M[0],M[1])):z?V(M,re):V(M)};if(T)$=v.iterator;else if(I)$=v;else{if(j=l(v),!j)throw m(b(v)+" is not iterable");if(P(j)){for(J=0,he=D(v);he>J;J++)if(le=Y(v[J]),le&&u(h,le))return le;return new a(!1)}$=s(v,j)}for(de=T?v.next:$.next;!(fe=c(de,$)).done;){try{le=Y(fe.value)}catch(M){g($,"throw",M)}if(typeof le=="object"&&le&&u(h,le))return le}return new a(!1)}}),((E,d,r)=>{var o=r(34),c=r(156),A=o("iterator"),b=Array.prototype;E.exports=function(P){return P!==void 0&&(c.Array===P||b[A]===P)}}),(E=>{E.exports={}}),((E,d,r)=>{var o=r(8),c=r(31),A=r(47),b=r(32),P=r(158),D=TypeError;E.exports=function(u,s){var l=arguments.length<2?P(u):s;if(c(l))return A(o(l,u));throw D(b(u)+" is not iterable")}}),((E,d,r)=>{var o=r(78),c=r(30),A=r(17),b=r(156),P=r(34),D=P("iterator");E.exports=function(u){if(!A(u))return c(u,D)||c(u,"@@iterator")||b[o(u)]}}),((E,d,r)=>{var o=r(18),c=r(45),A=r(11);E.exports=function(b,P,D){var u=o(P);u in b?c.f(b,u,A(0,D)):b[u]=D}}),((E,d,r)=>{var o=r(8),c=r(39),A=r(25),b=r(161),P=RegExp.prototype;E.exports=function(D){var u=D.flags;return u===void 0&&!("flags"in P)&&!c(D,"flags")&&A(P,D)?o(b,D):u}}),((E,d,r)=>{var o=r(47);E.exports=function(){var c=o(this),A="";return c.hasIndices&&(A+="d"),c.global&&(A+="g"),c.ignoreCase&&(A+="i"),c.multiline&&(A+="m"),c.dotAll&&(A+="s"),c.unicode&&(A+="u"),c.unicodeSets&&(A+="v"),c.sticky&&(A+="y"),A}}),((E,d,r)=>{var o=r(14),c=Map.prototype;E.exports={Map,set:o(c.set),get:o(c.get),has:o(c.has),remove:o(c.delete),proto:c}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SerializableEmpty=d.PrintAnnotationStorage=d.AnnotationStorage=void 0,r(89),r(149),r(152);var o=r(1),c=r(164),A=r(170);const b=Object.freeze({map:null,hash:"",transfers:void 0});d.SerializableEmpty=b;class P{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(s,l){const g=this.#t.get(s);return g===void 0?l:Object.assign(l,g)}getRawValue(s){return this.#t.get(s)}remove(s){if(this.#t.delete(s),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const l of this.#t.values())if(l instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(s,l){const g=this.#t.get(s);let m=!1;if(g!==void 0)for(const[a,h]of Object.entries(l))g[a]!==h&&(m=!0,g[a]=h);else m=!0,this.#t.set(s,l);m&&this.#n(),l instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(l.constructor._type)}has(s){return this.#t.has(s)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(s){for(const[l,g]of Object.entries(s))this.setValue(l,g)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new D(this)}get serializable(){if(this.#t.size===0)return b;const s=new Map,l=new A.MurmurHash3_64,g=[],m=Object.create(null);let a=!1;for(const[h,v]of this.#t){const p=v instanceof c.AnnotationEditor?v.serialize(!1,m):v;p&&(s.set(h,p),l.update(`${h}:${JSON.stringify(p)}`),a||=!!p.bitmap)}if(a)for(const h of s.values())h.bitmap&&g.push(h.bitmap);return s.size>0?{map:s,hash:l.hexdigest(),transfers:g}:b}}d.AnnotationStorage=P;class D extends P{#e;constructor(s){super();const{map:l,hash:g,transfers:m}=s.serializable,a=structuredClone(l,null);this.#e={map:a,hash:g,transfers:m}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}d.PrintAnnotationStorage=D}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditor=void 0,r(89),r(2);var o=r(165),c=r(1),A=r(168);class b{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=b._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(u){this.constructor===b&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=u.parent,this.id=u.id,this.width=this.height=null,this.pageIndex=u.parent.pageIndex,this.name=u.name,this.div=null,this._uiManager=u.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=u.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:l,pageHeight:g,pageX:m,pageY:a}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[l,g],this.pageTranslation=[m,a];const[h,v]=this.parentDimensions;this.x=u.x/h,this.y=u.y/v,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(u){const s=new P({id:u.parent.getNextId(),parent:u.parent,uiManager:u._uiManager});s.annotationElementId=u.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(b._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(g=>[g,u.get(g)])),s?.strings)for(const g of s.strings)b._l10nPromise.set(g,u.get(g));if(b._borderLineWidth!==-1)return;const l=getComputedStyle(document.documentElement);b._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}static updateDefaultParams(u,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(u){return!1}static paste(u,s){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(u){this.#h=u,this.div?.classList.toggle("draggable",u)}center(){const[u,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(u*2),this.y+=this.width*u/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(u*2),this.y-=this.width*u/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(u){this._uiManager.addCommands(u)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(u){u!==null&&(this.pageIndex=u.pageIndex,this.pageDimensions=u.pageDimensions),this.parent=u}focusin(u){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(u){!this._focusEventsAllowed||!this.isAttachedToDOM||u.relatedTarget?.closest(`#${this.id}`)||(u.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(u,s,l,g){const[m,a]=this.parentDimensions;[l,g]=this.screenToPageTranslation(l,g),this.x=(u+l)/m,this.y=(s+g)/a,this.fixAndSetPosition()}#v(u,s,l){let[g,m]=u;[s,l]=this.screenToPageTranslation(s,l),this.x+=s/g,this.y+=l/m,this.fixAndSetPosition()}translate(u,s){this.#v(this.parentDimensions,u,s)}translateInPage(u,s){this.#v(this.pageDimensions,u,s),this.div.scrollIntoView({block:"nearest"})}drag(u,s){const[l,g]=this.parentDimensions;if(this.x+=u/l,this.y+=s/g,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:R}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,R)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:m,y:a}=this;const[h,v]=this.#m();m+=h,a+=v,this.div.style.left=`${(100*m).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[u,s]=this.parentDimensions,{_borderLineWidth:l}=b,g=l/u,m=l/s;switch(this.rotation){case 90:return[-g,m];case 180:return[g,m];case 270:return[g,-m];default:return[-g,-m]}}fixAndSetPosition(){const[u,s]=this.pageDimensions;let{x:l,y:g,width:m,height:a}=this;switch(m*=u,a*=s,l*=u,g*=s,this.rotation){case 0:l=Math.max(0,Math.min(u-m,l)),g=Math.max(0,Math.min(s-a,g));break;case 90:l=Math.max(0,Math.min(u-a,l)),g=Math.min(s,Math.max(m,g));break;case 180:l=Math.min(u,Math.max(m,l)),g=Math.min(s,Math.max(a,g));break;case 270:l=Math.min(u,Math.max(a,l)),g=Math.max(0,Math.min(s-m,g));break}this.x=l/=u,this.y=g/=s;const[h,v]=this.#m();l+=h,g+=v;const{style:p}=this.div;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}static#g(u,s,l){switch(l){case 90:return[s,-u];case 180:return[-u,-s];case 270:return[-s,u];default:return[u,s]}}screenToPageTranslation(u,s){return b.#g(u,s,this.parentRotation)}pageTranslationToScreen(u,s){return b.#g(u,s,360-this.parentRotation)}#c(u){switch(u){case 90:{const[s,l]=this.pageDimensions;return[0,-s/l,l/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,l]=this.pageDimensions;return[0,s/l,-l/s,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:u,pageDimensions:[s,l]}=this,g=s*u,m=l*u;return c.FeatureTest.isCSSRoundSupported?[Math.round(g),Math.round(m)]:[g,m]}setDims(u,s){const[l,g]=this.parentDimensions;this.div.style.width=`${(100*u/l).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*s/g).toFixed(2)}%`),this.#n?.classList.toggle("small",u<b.SMALL_EDITOR_SIZE||s<b.SMALL_EDITOR_SIZE)}fixDims(){const{style:u}=this.div,{height:s,width:l}=u,g=l.endsWith("%"),m=!this.#a&&s.endsWith("%");if(g&&m)return;const[a,h]=this.parentDimensions;g||(u.width=`${(100*parseFloat(l)/a).toFixed(2)}%`),!this.#a&&!m&&(u.height=`${(100*parseFloat(s)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const u=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||u.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const s of u){const l=document.createElement("div");this.#s.append(l),l.classList.add("resizer",s),l.addEventListener("pointerdown",this.#x.bind(this,s)),l.addEventListener("contextmenu",A.noContextMenu)}this.div.prepend(this.#s)}#x(u,s){s.preventDefault();const{isMac:l}=c.FeatureTest.platform;if(s.button!==0||s.ctrlKey&&l)return;const g=this.#E.bind(this,u),m=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};window.addEventListener("pointermove",g,a);const h=this.x,v=this.y,p=this.width,R=this.height,U=this.parent.div.style.cursor,L=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const T=()=>{this._isDraggable=m,window.removeEventListener("pointerup",T),window.removeEventListener("blur",T),window.removeEventListener("pointermove",g,a),this.parent.div.style.cursor=U,this.div.style.cursor=L;const I=this.x,z=this.y,V=this.width,$=this.height;I===h&&z===v&&V===p&&$===R||this.addCommands({cmd:()=>{this.width=V,this.height=$,this.x=I,this.y=z;const[j,J]=this.parentDimensions;this.setDims(j*V,J*$),this.fixAndSetPosition()},undo:()=>{this.width=p,this.height=R,this.x=h,this.y=v;const[j,J]=this.parentDimensions;this.setDims(j*p,J*R),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",T),window.addEventListener("blur",T)}#E(u,s){const[l,g]=this.parentDimensions,m=this.x,a=this.y,h=this.width,v=this.height,p=b.MIN_SIZE/l,R=b.MIN_SIZE/g,U=H=>Math.round(H*1e4)/1e4,L=this.#c(this.rotation),T=(H,y)=>[L[0]*H+L[2]*y,L[1]*H+L[3]*y],I=this.#c(360-this.rotation),z=(H,y)=>[I[0]*H+I[2]*y,I[1]*H+I[3]*y];let V,$,j=!1,J=!1;switch(u){case"topLeft":j=!0,V=(H,y)=>[0,0],$=(H,y)=>[H,y];break;case"topMiddle":V=(H,y)=>[H/2,0],$=(H,y)=>[H/2,y];break;case"topRight":j=!0,V=(H,y)=>[H,0],$=(H,y)=>[0,y];break;case"middleRight":J=!0,V=(H,y)=>[H,y/2],$=(H,y)=>[0,y/2];break;case"bottomRight":j=!0,V=(H,y)=>[H,y],$=(H,y)=>[0,0];break;case"bottomMiddle":V=(H,y)=>[H/2,y],$=(H,y)=>[H/2,0];break;case"bottomLeft":j=!0,V=(H,y)=>[0,y],$=(H,y)=>[H,0];break;case"middleLeft":J=!0,V=(H,y)=>[0,y/2],$=(H,y)=>[H,y/2];break}const he=V(h,v),le=$(h,v);let de=T(...le);const fe=U(m+de[0]),re=U(a+de[1]);let Y=1,M=1,[x,k]=this.screenToPageTranslation(s.movementX,s.movementY);if([x,k]=z(x/l,k/g),j){const H=Math.hypot(h,v);Y=M=Math.max(Math.min(Math.hypot(le[0]-he[0]-x,le[1]-he[1]-k)/H,1/h,1/v),p/h,R/v)}else J?Y=Math.max(p,Math.min(1,Math.abs(le[0]-he[0]-x)))/h:M=Math.max(R,Math.min(1,Math.abs(le[1]-he[1]-k)))/v;const C=U(h*Y),_=U(v*M);de=T(...$(C,_));const W=fe-de[0],G=re-de[1];this.width=C,this.height=_,this.x=W,this.y=G,this.setDims(l*C,g*_),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const u=this.#n=document.createElement("button");u.className="altText";const s=await b._l10nPromise.get("editor_alt_text_button_label");u.textContent=s,u.setAttribute("aria-label",s),u.tabIndex="0",u.addEventListener("contextmenu",A.noContextMenu),u.addEventListener("pointerdown",l=>l.stopPropagation()),u.addEventListener("click",l=>{l.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),u.addEventListener("keydown",l=>{l.target===u&&l.key==="Enter"&&(l.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(u),b.SMALL_EDITOR_SIZE||(b.SMALL_EDITOR_SIZE=Math.min(128,Math.round(u.getBoundingClientRect().width*1.4)))}async#T(){const u=this.#n;if(!u)return;if(!this.#e&&!this.#t){u.classList.remove("done"),this.#r?.remove();return}b._l10nPromise.get("editor_alt_text_edit_button_label").then(l=>{u.setAttribute("aria-label",l)});let s=this.#r;if(!s){this.#r=s=document.createElement("span"),s.className="tooltip",s.setAttribute("role","tooltip");const l=s.id=`alt-text-tooltip-${this.id}`;u.setAttribute("aria-describedby",l);const g=100;u.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},g)}),u.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}u.classList.add("done"),s.innerText=this.#t?await b._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,s.parentNode||u.append(s)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData(u){let{altText:s,decorative:l}=u;this.#e===s&&this.#t===l||(this.#e=s,this.#t=l,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[u,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/u).toFixed(2)}%`,this.div.style.maxHeight=`${(100*u/s).toFixed(2)}%`);const[l,g]=this.getInitialTranslation();return this.translate(l,g),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(u){const{isMac:s}=c.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&s){u.preventDefault();return}this.#i=!0,this.#P(u)}#P(u){if(!this._isDraggable)return;const s=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let l,g;s&&(l={passive:!0,capture:!0},g=a=>{const[h,v]=this.screenToPageTranslation(a.movementX,a.movementY);this._uiManager.dragSelectedEditors(h,v)},window.addEventListener("pointermove",g,l));const m=()=>{if(window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),s&&window.removeEventListener("pointermove",g,l),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:a}=c.FeatureTest.platform;u.ctrlKey&&!a||u.shiftKey||u.metaKey&&a?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",m),window.addEventListener("blur",m)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(u,s,l){u.changeParent(this),this.x=s,this.y=l,this.fixAndSetPosition()}getRect(u,s){const l=this.parentScale,[g,m]=this.pageDimensions,[a,h]=this.pageTranslation,v=u/l,p=s/l,R=this.x*g,U=this.y*m,L=this.width*g,T=this.height*m;switch(this.rotation){case 0:return[R+v+a,m-U-p-T+h,R+v+L+a,m-U-p+h];case 90:return[R+p+a,m-U+v+h,R+p+T+a,m-U+v+L+h];case 180:return[R-v-L+a,m-U+p+h,R-v+a,m-U+p+T+h];case 270:return[R-p-T+a,m-U-v-L+h,R-p+a,m-U-v+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(u,s){const[l,g,m,a]=u,h=m-l,v=a-g;switch(this.rotation){case 0:return[l,s-a,h,v];case 90:return[l,s-g,v,h];case 180:return[m,s-g,h,v];case 270:return[m,s-a,v,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(u,s,l){const g=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:l});g.rotation=u.rotation;const[m,a]=g.pageDimensions,[h,v,p,R]=g.getRectInCurrentCoords(u.rect,a);return g.x=h/m,g.y=v/a,g.width=p/m,g.height=R/a,g}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(u,s){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(u){this.#f=u,this.parent&&(u?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(u,s){this.#a=!0;const l=u/s,{style:g}=this.div;g.aspectRatio=l,g.height="auto"}static get MIN_SIZE(){return 16}}d.AnnotationEditor=b;class P extends b{constructor(u){super(u),this.annotationElementId=u.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyboardManager=d.CommandManager=d.ColorManager=d.AnnotationEditorUIManager=void 0,d.bindEvents=A,d.opacityToHex=b,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(166);var o=r(1),c=r(168);function A(m,a,h){for(const v of h)a.addEventListener(v,m[v].bind(m))}function b(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}class P{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class D{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const a='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',v=new OffscreenCanvas(1,3).getContext("2d"),p=new Image;p.src=a;const R=p.decode().then(()=>(v.drawImage(p,0,0,1,1,0,0,1,3),new Uint32Array(v.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",R)}async#r(a,h){this.#n||=new Map;let v=this.#n.get(a);if(v===null)return null;if(v?.bitmap)return v.refCounter+=1,v;try{v||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let p;if(typeof h=="string"){v.url=h;const R=await fetch(h);if(!R.ok)throw new Error(R.statusText);p=await R.blob()}else p=v.file=h;if(p.type==="image/svg+xml"){const R=D._isSVGFittingCanvas,U=new FileReader,L=new Image,T=new Promise((I,z)=>{L.onload=()=>{v.bitmap=L,v.isSvg=!0,I()},U.onload=async()=>{const V=v.svgUrl=U.result;L.src=await R?`${V}#svgView(preserveAspectRatio(none))`:V},L.onerror=U.onerror=z});U.readAsDataURL(p),await T}else v.bitmap=await createImageBitmap(p);v.refCounter=1}catch(p){console.error(p),v=null}return this.#n.set(a,v),v&&this.#n.set(v.id,v),v}async getFromFile(a){const{lastModified:h,name:v,size:p,type:R}=a;return this.#r(`${h}_${v}_${p}_${R}`,a)}async getFromUrl(a){return this.#r(a,a)}async getFromId(a){this.#n||=new Map;const h=this.#n.get(a);return h?h.bitmap?(h.refCounter+=1,h):h.file?this.getFromFile(h.file):this.getFromUrl(h.url):null}getSvgUrl(a){const h=this.#n.get(a);return h?.isSvg?h.svgUrl:null}deleteId(a){this.#n||=new Map;const h=this.#n.get(a);h&&(h.refCounter-=1,h.refCounter===0&&(h.bitmap=null))}isValidId(a){return a.startsWith(`image_${this.#e}_`)}}class u{#e=[];#t=!1;#n;#r=-1;constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;this.#n=a}add(a){let{cmd:h,undo:v,mustExec:p,type:R=NaN,overwriteIfSameType:U=!1,keepUndo:L=!1}=a;if(p&&h(),this.#t)return;const T={cmd:h,undo:v,type:R};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(T);return}if(U&&this.#e[this.#r].type===R){L&&(T.undo=this.#e[this.#r].undo),this.#e[this.#r]=T;return}const I=this.#r+1;I===this.#n?this.#e.splice(0,1):(this.#r=I,I<this.#e.length&&this.#e.splice(I)),this.#e.push(T)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}d.CommandManager=u;class s{constructor(a){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:h}=o.FeatureTest.platform;for(const[v,p,R={}]of a)for(const U of v){const L=U.startsWith("mac+");h&&L?(this.callbacks.set(U.slice(4),{callback:p,options:R}),this.allKeys.add(U.split("+").at(-1))):!h&&!L&&(this.callbacks.set(U,{callback:p,options:R}),this.allKeys.add(U.split("+").at(-1)))}}#e(a){a.altKey&&this.buffer.push("alt"),a.ctrlKey&&this.buffer.push("ctrl"),a.metaKey&&this.buffer.push("meta"),a.shiftKey&&this.buffer.push("shift"),this.buffer.push(a.key);const h=this.buffer.join("+");return this.buffer.length=0,h}exec(a,h){if(!this.allKeys.has(h.key))return;const v=this.callbacks.get(this.#e(h));if(!v)return;const{callback:p,options:{bubbles:R=!1,args:U=[],checker:L=null}}=v;L&&!L(a,h)||(p.bind(a,...U)(),R||(h.stopPropagation(),h.preventDefault()))}}d.KeyboardManager=s;class l{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const a=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(a),(0,o.shadow)(this,"_colors",a)}convert(a){const h=(0,c.getRGB)(a);if(!window.matchMedia("(forced-colors: active)").matches)return h;for(const[v,p]of this._colors)if(p.every((R,U)=>R===h[U]))return l._colorsMapping.get(v);return h}getHexCode(a){const h=this._colors.get(a);return h?o.Util.makeHexColor(...h):a}}d.ColorManager=l;class g{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new u;#s=0;#l=new Set;#u=null;#i=null;#f=new Set;#d=null;#h=new P;#p=!1;#v=!1;#m=null;#g=o.AnnotationEditorType.NONE;#c=new Set;#y=null;#x=this.blur.bind(this);#E=this.focus.bind(this);#T=this.copy.bind(this);#P=this.cut.bind(this);#D=this.paste.bind(this);#L=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#A=this.onPageChanging.bind(this);#O=this.onScaleChanging.bind(this);#R=this.onRotationChanging.bind(this);#M={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#S=[0,0];#w=null;#k=null;#_=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const a=g.prototype,h=R=>{const{activeElement:U}=document;return U&&R.#k.contains(U)&&R.hasSomethingToControl()},v=this.TRANSLATE_SMALL,p=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new s([[["ctrl+a","mac+meta+a"],a.selectAll],[["ctrl+z","mac+meta+z"],a.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],a.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],a.delete],[["Escape","mac+Escape"],a.unselectAll],[["ArrowLeft","mac+ArrowLeft"],a.translateSelectedEditors,{args:[-v,0],checker:h}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a.translateSelectedEditors,{args:[-p,0],checker:h}],[["ArrowRight","mac+ArrowRight"],a.translateSelectedEditors,{args:[v,0],checker:h}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a.translateSelectedEditors,{args:[p,0],checker:h}],[["ArrowUp","mac+ArrowUp"],a.translateSelectedEditors,{args:[0,-v],checker:h}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a.translateSelectedEditors,{args:[0,-p],checker:h}],[["ArrowDown","mac+ArrowDown"],a.translateSelectedEditors,{args:[0,v],checker:h}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a.translateSelectedEditors,{args:[0,p],checker:h}]]))}constructor(a,h,v,p,R,U){this.#k=a,this.#_=h,this.#r=v,this._eventBus=p,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#A),this._eventBus._on("scalechanging",this.#O),this._eventBus._on("rotationchanging",this.#R),this.#o=R.annotationStorage,this.#d=R.filterFactory,this.#y=U,this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#U(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#A),this._eventBus._off("scalechanging",this.#O),this._eventBus._off("rotationchanging",this.#R);for(const a of this.#n.values())a.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#c.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#k).direction)}editAltText(a){this.#r?.editAltText(this,a)}onPageChanging(a){let{pageNumber:h}=a;this.#s=h-1}focusMainContainer(){this.#k.focus()}findParent(a,h){for(const v of this.#n.values()){const{x:p,y:R,width:U,height:L}=v.div.getBoundingClientRect();if(a>=p&&a<=p+U&&h>=R&&h<=R+L)return v}return null}disableUserSelect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#_.classList.toggle("noUserSelect",a)}addShouldRescale(a){this.#f.add(a)}removeShouldRescale(a){this.#f.delete(a)}onScaleChanging(a){let{scale:h}=a;this.commitOrRemove(),this.viewParameters.realScale=h*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const v of this.#f)v.onScaleChanging()}onRotationChanging(a){let{pagesRotation:h}=a;this.commitOrRemove(),this.viewParameters.rotation=h}addToAnnotationStorage(a){!a.isEmpty()&&this.#o&&!this.#o.has(a.id)&&this.#o.setValue(a.id,a)}#B(){window.addEventListener("focus",this.#E),window.addEventListener("blur",this.#x)}#U(){window.removeEventListener("focus",this.#E),window.removeEventListener("blur",this.#x)}blur(){if(!this.hasSelection)return;const{activeElement:a}=document;for(const h of this.#c)if(h.div.contains(a)){this.#m=[h,a],h._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[a,h]=this.#m;this.#m=null,h.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0}),h.focus()}#z(){window.addEventListener("keydown",this.#L,{capture:!0})}#F(){window.removeEventListener("keydown",this.#L,{capture:!0})}#I(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#P),document.addEventListener("paste",this.#D)}#C(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#P),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#z(),this.#I()}removeEditListeners(){this.#F(),this.#C()}copy(a){if(a.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const h=[];for(const v of this.#c){const p=v.serialize(!0);p&&h.push(p)}h.length!==0&&a.clipboardData.setData("application/pdfjs",JSON.stringify(h))}cut(a){this.copy(a),this.delete()}paste(a){a.preventDefault();const{clipboardData:h}=a;for(const R of h.items)for(const U of this.#i)if(U.isHandlingMimeForPasting(R.type)){U.paste(R,this.currentLayer);return}let v=h.getData("application/pdfjs");if(!v)return;try{v=JSON.parse(v)}catch(R){(0,o.warn)(`paste: "${R.message}".`);return}if(!Array.isArray(v))return;this.unselectAll();const p=this.currentLayer;try{const R=[];for(const T of v){const I=p.deserialize(T);if(!I)return;R.push(I)}const U=()=>{for(const T of R)this.#$(T);this.#V(R)},L=()=>{for(const T of R)T.remove()};this.addCommands({cmd:U,undo:L,mustExec:!0})}catch(R){(0,o.warn)(`paste: "${R.message}".`)}}keydown(a){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,a)}onEditingAction(a){["undo","redo","delete","selectAll"].includes(a.name)&&this[a.name]()}#b(a){Object.entries(a).some(v=>{let[p,R]=v;return this.#M[p]!==R})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#M,a)})}#H(a){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:a})}setEditingState(a){a?(this.#B(),this.#z(),this.#I(),this.#b({isEditing:this.#g!==o.AnnotationEditorType.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#U(),this.#F(),this.#C(),this.#b({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(a){if(!this.#i){this.#i=a;for(const h of this.#i)this.#H(h.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(a){return this.#n.get(a)}get currentPageIndex(){return this.#s}addLayer(a){this.#n.set(a.pageIndex,a),this.#p?a.enable():a.disable()}removeLayer(a){this.#n.delete(a.pageIndex)}updateMode(a){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.#g!==a){if(this.#g=a,a===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#X();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const v of this.#n.values())v.updateMode(a);if(h){for(const v of this.#t.values())if(v.annotationElementId===h){this.setSelected(v),v.enterInEditMode();break}}}}updateToolbar(a){a!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:a})}updateParams(a,h){if(this.#i){if(a===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(a);return}for(const v of this.#c)v.updateParams(a,h);for(const v of this.#i)v.updateDefaultParams(a,h)}}enableWaiting(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#v!==a){this.#v=a;for(const h of this.#n.values())a?h.disableClick():h.enableClick(),h.div.classList.toggle("waiting",a)}}#G(){if(!this.#p){this.#p=!0;for(const a of this.#n.values())a.enable()}}#X(){if(this.unselectAll(),this.#p){this.#p=!1;for(const a of this.#n.values())a.disable()}}getEditors(a){const h=[];for(const v of this.#t.values())v.pageIndex===a&&h.push(v);return h}getEditor(a){return this.#t.get(a)}addEditor(a){this.#t.set(a.id,a)}removeEditor(a){this.#t.delete(a.id),this.unselect(a),(!a.annotationElementId||!this.#l.has(a.annotationElementId))&&this.#o?.remove(a.id)}addDeletedAnnotationElement(a){this.#l.add(a.annotationElementId),a.deleted=!0}isDeletedAnnotationElement(a){return this.#l.has(a)}removeDeletedAnnotationElement(a){this.#l.delete(a.annotationElementId),a.deleted=!1}#$(a){const h=this.#n.get(a.pageIndex);h?h.addOrRebuild(a):this.addEditor(a)}setActiveEditor(a){this.#e!==a&&(this.#e=a,a&&this.#H(a.propertiesToUpdate))}toggleSelected(a){if(this.#c.has(a)){this.#c.delete(a),a.unselect(),this.#b({hasSelectedEditor:this.hasSelection});return}this.#c.add(a),a.select(),this.#H(a.propertiesToUpdate),this.#b({hasSelectedEditor:!0})}setSelected(a){for(const h of this.#c)h!==a&&h.unselect();this.#c.clear(),this.#c.add(a),a.select(),this.#H(a.propertiesToUpdate),this.#b({hasSelectedEditor:!0})}isSelected(a){return this.#c.has(a)}unselect(a){a.unselect(),this.#c.delete(a),this.#b({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#a.undo(),this.#b({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()})}redo(){this.#a.redo(),this.#b({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(a){this.#a.add(a),this.#b({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}#W(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const a of this.#t.values())return a.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const a=[...this.#c],h=()=>{for(const p of a)p.remove()},v=()=>{for(const p of a)this.#$(p)};this.addCommands({cmd:h,undo:v,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#V(a){this.#c.clear();for(const h of a)h.isEmpty()||(this.#c.add(h),h.select());this.#b({hasSelectedEditor:!0})}selectAll(){for(const a of this.#c)a.commit();this.#V(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const a of this.#c)a.unselect();this.#c.clear(),this.#b({hasSelectedEditor:!1})}}translateSelectedEditors(a,h){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;this.#S[0]+=a,this.#S[1]+=h;const[p,R]=this.#S,U=[...this.#c],L=1e3;this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.#w=null,this.#S[0]=this.#S[1]=0,this.addCommands({cmd:()=>{for(const T of U)this.#t.has(T.id)&&T.translateInPage(p,R)},undo:()=>{for(const T of U)this.#t.has(T.id)&&T.translateInPage(-p,-R)},mustExec:!1})},L);for(const T of U)T.translateInPage(a,h)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const a of this.#c)this.#u.set(a,{savedX:a.x,savedY:a.y,savedPageIndex:a.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const a=this.#u;this.#u=null;let h=!1;for(const[{x:p,y:R,pageIndex:U},L]of a)L.newX=p,L.newY=R,L.newPageIndex=U,h||=p!==L.savedX||R!==L.savedY||U!==L.savedPageIndex;if(!h)return!1;const v=(p,R,U,L)=>{if(this.#t.has(p.id)){const T=this.#n.get(L);T?p._setParentAndPosition(T,R,U):(p.pageIndex=L,p.x=R,p.y=U)}};return this.addCommands({cmd:()=>{for(const[p,{newX:R,newY:U,newPageIndex:L}]of a)v(p,R,U,L)},undo:()=>{for(const[p,{savedX:R,savedY:U,savedPageIndex:L}]of a)v(p,R,U,L)},mustExec:!0}),!0}dragSelectedEditors(a,h){if(this.#u)for(const v of this.#u.keys())v.drag(a,h)}rebuild(a){if(a.parent===null){const h=this.getLayer(a.pageIndex);h?(h.changeParent(a),h.addOrRebuild(a)):(this.addEditor(a),this.addToAnnotationStorage(a),a.rebuild())}else a.parent.addOrRebuild(a)}isActive(a){return this.#e===a}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,o.shadow)(this,"imageManager",new D)}}d.AnnotationEditorUIManager=g}),((E,d,r)=>{var o=r(3),c=r(6),A=r(4),b=r(24),P=r(14),D=r(8),u=r(21),s=r(20),l=r(91),g=r(39),m=r(77),a=r(64),h=r(159),v=r(7),p=r(167),R=r(27),U=A.JSON,L=A.Number,T=A.SyntaxError,I=U&&U.parse,z=b("Object","keys"),V=Object.getOwnPropertyDescriptor,$=P("".charAt),j=P("".slice),J=P(/./.exec),he=P([].push),le=/^\d$/,de=/^[1-9]$/,fe=/^(?:-|\d)$/,re=/^[\t\n\r ]$/,Y=0,M=1,x=function(y,w){y=m(y);var F=new W(y,0),N=F.parse(),O=N.value,X=F.skip(re,N.end);if(X<y.length)throw T('Unexpected extra character: "'+$(y,X)+'" after the parsed data at: '+X);return u(w)?k({"":O},"",w,N):O},k=function(y,w,F,N){var O=y[w],X=N&&O===N.value,Q=X&&typeof N.source=="string"?{source:N.source}:{},te,Ae,se,ue,pe;if(s(O)){var ge=l(O),me=X?N.nodes:ge?[]:{};if(ge)for(te=me.length,se=a(O),ue=0;ue<se;ue++)C(O,ue,k(O,""+ue,F,ue<te?me[ue]:void 0));else for(Ae=z(O),se=a(Ae),ue=0;ue<se;ue++)pe=Ae[ue],C(O,pe,k(O,pe,F,g(me,pe)?me[pe]:void 0))}return D(F,y,w,O,Q)},C=function(y,w,F){if(c){var N=V(y,w);if(N&&!N.configurable)return}F===void 0?delete y[w]:h(y,w,F)},_=function(y,w,F,N){this.value=y,this.end=w,this.source=F,this.nodes=N},W=function(y,w){this.source=y,this.index=w};W.prototype={fork:function(y){return new W(this.source,y)},parse:function(){var y=this.source,w=this.skip(re,this.index),F=this.fork(w),N=$(y,w);if(J(fe,N))return F.number();switch(N){case"{":return F.object();case"[":return F.array();case'"':return F.string();case"t":return F.keyword(!0);case"f":return F.keyword(!1);case"n":return F.keyword(null)}throw T('Unexpected character: "'+N+'" at: '+w)},node:function(y,w,F,N,O){return new _(w,N,y?null:j(this.source,F,N),O)},object:function(){for(var y=this.source,w=this.index+1,F=!1,N={},O={};w<y.length;){if(w=this.until(['"',"}"],w),$(y,w)==="}"&&!F){w++;break}var X=this.fork(w).string(),Q=X.value;w=X.end,w=this.until([":"],w)+1,w=this.skip(re,w),X=this.fork(w).parse(),h(O,Q,X),h(N,Q,X.value),w=this.until([",","}"],X.end);var te=$(y,w);if(te===",")F=!0,w++;else if(te==="}"){w++;break}}return this.node(M,N,this.index,w,O)},array:function(){for(var y=this.source,w=this.index+1,F=!1,N=[],O=[];w<y.length;){if(w=this.skip(re,w),$(y,w)==="]"&&!F){w++;break}var X=this.fork(w).parse();if(he(O,X),he(N,X.value),w=this.until([",","]"],X.end),$(y,w)===",")F=!0,w++;else if($(y,w)==="]"){w++;break}}return this.node(M,N,this.index,w,O)},string:function(){var y=this.index,w=p(this.source,this.index+1);return this.node(Y,w.value,y,w.end)},number:function(){var y=this.source,w=this.index,F=w;if($(y,F)==="-"&&F++,$(y,F)==="0")F++;else if(J(de,$(y,F)))F=this.skip(le,++F);else throw T("Failed to parse number at: "+F);if($(y,F)==="."&&(F=this.skip(le,++F)),$(y,F)==="e"||$(y,F)==="E"){F++,($(y,F)==="+"||$(y,F)==="-")&&F++;var N=F;if(F=this.skip(le,F),N===F)throw T("Failed to parse number's exponent value at: "+F)}return this.node(Y,L(j(y,w,F)),w,F)},keyword:function(y){var w=""+y,F=this.index,N=F+w.length;if(j(this.source,F,N)!==w)throw T("Failed to parse value at: "+F);return this.node(Y,y,F,N)},skip:function(y,w){for(var F=this.source;w<F.length&&J(y,$(F,w));w++);return w},until:function(y,w){w=this.skip(re,w);for(var F=$(this.source,w),N=0;N<y.length;N++)if(y[N]===F)return w;throw T('Unexpected character: "'+F+'" at: '+w)}};var G=v(function(){var y="9007199254740993",w;return I(y,function(F,N,O){w=O.source}),w!==y}),H=R&&!v(function(){return 1/I("-0 	")!==-1/0});o({target:"JSON",stat:!0,forced:G},{parse:function(w,F){return H&&!u(F)?I(w):x(w,F)}})}),((E,d,r)=>{var o=r(14),c=r(39),A=SyntaxError,b=parseInt,P=String.fromCharCode,D=o("".charAt),u=o("".slice),s=o(/./.exec),l={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},g=/^[\da-f]{4}$/i,m=/^[\u0000-\u001F]$/;E.exports=function(a,h){for(var v=!0,p="";h<a.length;){var R=D(a,h);if(R==="\\"){var U=u(a,h,h+2);if(c(l,U))p+=l[U],h+=2;else if(U==="\\u"){h+=2;var L=u(a,h,h+4);if(!s(g,L))throw A("Bad Unicode escape at: "+h);p+=P(b(L,16)),h+=4}else throw A('Unknown escape sequence: "'+U+'"')}else if(R==='"'){v=!1,h++;break}else{if(s(m,R))throw A("Bad control character in string literal at: "+h);p+=R,h++}}if(v)throw A("Unterminated string at: "+h);return{value:p,end:h}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StatTimer=d.RenderingCancelledException=d.PixelsPerInch=d.PageViewport=d.PDFDateString=d.DOMStandardFontDataFactory=d.DOMSVGFactory=d.DOMFilterFactory=d.DOMCanvasFactory=d.DOMCMapReaderFactory=void 0,d.deprecated=z,d.getColorValues=he,d.getCurrentTransform=le,d.getCurrentTransformInverse=de,d.getFilenameFromUrl=p,d.getPdfFilenameFromUrl=R,d.getRGB=J,d.getXfaPageViewport=j,d.isDataScheme=h,d.isPdfFile=v,d.isValidFetchUrl=L,d.loadScript=I,d.noContextMenu=T,d.setLayerDimensions=fe,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89),r(84),r(86),r(87);var o=r(169),c=r(1);const A="http://www.w3.org/2000/svg";class b{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}d.PixelsPerInch=b;class P extends o.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#u;#i;#f=0;constructor(){let{docId:Y,ownerDocument:M=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.#n=Y,this.#r=M}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const Y=this.#r.createElement("div"),{style:M}=Y;M.visibility="hidden",M.contain="strict",M.width=M.height=0,M.position="absolute",M.top=M.left=0,M.zIndex=-1;const x=this.#r.createElementNS(A,"svg");x.setAttribute("width",0),x.setAttribute("height",0),this.#t=this.#r.createElementNS(A,"defs"),Y.append(x),x.append(this.#t),this.#r.body.append(Y)}return this.#t}addFilter(Y){if(!Y)return"none";let M=this.#d.get(Y);if(M)return M;let x,k,C,_;if(Y.length===1){const y=Y[0],w=new Array(256);for(let F=0;F<256;F++)w[F]=y[F]/255;_=x=k=C=w.join(",")}else{const[y,w,F]=Y,N=new Array(256),O=new Array(256),X=new Array(256);for(let Q=0;Q<256;Q++)N[Q]=y[Q]/255,O[Q]=w[Q]/255,X[Q]=F[Q]/255;x=N.join(","),k=O.join(","),C=X.join(","),_=`${x}${k}${C}`}if(M=this.#d.get(_),M)return this.#d.set(Y,M),M;const W=`g_${this.#n}_transfer_map_${this.#f++}`,G=`url(#${W})`;this.#d.set(Y,G),this.#d.set(_,G);const H=this.#v(W);return this.#g(x,k,C,H),G}addHCMFilter(Y,M){const x=`${Y}-${M}`;if(this.#a===x)return this.#s;if(this.#a=x,this.#s="none",this.#o?.remove(),!Y||!M)return this.#s;const k=this.#c(Y);Y=c.Util.makeHexColor(...k);const C=this.#c(M);if(M=c.Util.makeHexColor(...C),this.#h.style.color="",Y==="#000000"&&M==="#ffffff"||Y===M)return this.#s;const _=new Array(256);for(let w=0;w<=255;w++){const F=w/255;_[w]=F<=.03928?F/12.92:((F+.055)/1.055)**2.4}const W=_.join(","),G=`g_${this.#n}_hcm_filter`,H=this.#l=this.#v(G);this.#g(W,W,W,H),this.#p(H);const y=(w,F)=>{const N=k[w]/255,O=C[w]/255,X=new Array(F+1);for(let Q=0;Q<=F;Q++)X[Q]=N+Q/F*(O-N);return X.join(",")};return this.#g(y(0,5),y(1,5),y(2,5),H),this.#s=`url(#${G})`,this.#s}addHighlightHCMFilter(Y,M,x,k){const C=`${Y}-${M}-${x}-${k}`;if(this.#u===C)return this.#i;if(this.#u=C,this.#i="none",this.#l?.remove(),!Y||!M)return this.#i;const[_,W]=[Y,M].map(this.#c.bind(this));let G=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),H=Math.round(.2126*W[0]+.7152*W[1]+.0722*W[2]),[y,w]=[x,k].map(this.#c.bind(this));H<G&&([G,H,y,w]=[H,G,w,y]),this.#h.style.color="";const F=(X,Q,te)=>{const Ae=new Array(256),se=(H-G)/te,ue=X/255,pe=(Q-X)/(255*te);let ge=0;for(let me=0;me<=te;me++){const ke=Math.round(G+me*se),we=ue+me*pe;for(let Oe=ge;Oe<=ke;Oe++)Ae[Oe]=we;ge=ke+1}for(let me=ge;me<256;me++)Ae[me]=Ae[ge-1];return Ae.join(",")},N=`g_${this.#n}_hcm_highlight_filter`,O=this.#l=this.#v(N);return this.#p(O),this.#g(F(y[0],w[0],5),F(y[1],w[1],5),F(y[2],w[2],5),O),this.#i=`url(#${N})`,this.#i}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(Y){const M=this.#r.createElementNS(A,"feColorMatrix");M.setAttribute("type","matrix"),M.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(M)}#v(Y){const M=this.#r.createElementNS(A,"filter");return M.setAttribute("color-interpolation-filters","sRGB"),M.setAttribute("id",Y),this.#h.append(M),M}#m(Y,M,x){const k=this.#r.createElementNS(A,M);k.setAttribute("type","discrete"),k.setAttribute("tableValues",x),Y.append(k)}#g(Y,M,x,k){const C=this.#r.createElementNS(A,"feComponentTransfer");k.append(C),this.#m(C,"feFuncR",Y),this.#m(C,"feFuncG",M),this.#m(C,"feFuncB",x)}#c(Y){return this.#h.style.color=Y,J(getComputedStyle(this.#h).getPropertyValue("color"))}}d.DOMFilterFactory=P;class D extends o.BaseCanvasFactory{constructor(){let{ownerDocument:Y=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Y}_createCanvas(Y,M){const x=this._document.createElement("canvas");return x.width=Y,x.height=M,x}}d.DOMCanvasFactory=D;async function u(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L(re,document.baseURI)){const M=await fetch(re);if(!M.ok)throw new Error(M.statusText);return Y?new Uint8Array(await M.arrayBuffer()):(0,c.stringToBytes)(await M.text())}return new Promise((M,x)=>{const k=new XMLHttpRequest;k.open("GET",re,!0),Y&&(k.responseType="arraybuffer"),k.onreadystatechange=()=>{if(k.readyState===XMLHttpRequest.DONE){if(k.status===200||k.status===0){let C;if(Y&&k.response?C=new Uint8Array(k.response):!Y&&k.responseText&&(C=(0,c.stringToBytes)(k.responseText)),C){M(C);return}}x(new Error(k.statusText))}},k.send(null)})}class s extends o.BaseCMapReaderFactory{_fetchData(Y,M){return u(Y,this.isCompressed).then(x=>({cMapData:x,compressionType:M}))}}d.DOMCMapReaderFactory=s;class l extends o.BaseStandardFontDataFactory{_fetchData(Y){return u(Y,!0)}}d.DOMStandardFontDataFactory=l;class g extends o.BaseSVGFactory{_createSVG(Y){return document.createElementNS(A,Y)}}d.DOMSVGFactory=g;class m{constructor(Y){let{viewBox:M,scale:x,rotation:k,offsetX:C=0,offsetY:_=0,dontFlip:W=!1}=Y;this.viewBox=M,this.scale=x,this.rotation=k,this.offsetX=C,this.offsetY=_;const G=(M[2]+M[0])/2,H=(M[3]+M[1])/2;let y,w,F,N;switch(k%=360,k<0&&(k+=360),k){case 180:y=-1,w=0,F=0,N=1;break;case 90:y=0,w=1,F=1,N=0;break;case 270:y=0,w=-1,F=-1,N=0;break;case 0:y=1,w=0,F=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(F=-F,N=-N);let O,X,Q,te;y===0?(O=Math.abs(H-M[1])*x+C,X=Math.abs(G-M[0])*x+_,Q=(M[3]-M[1])*x,te=(M[2]-M[0])*x):(O=Math.abs(G-M[0])*x+C,X=Math.abs(H-M[1])*x+_,Q=(M[2]-M[0])*x,te=(M[3]-M[1])*x),this.transform=[y*x,w*x,F*x,N*x,O-y*x*G-F*x*H,X-w*x*G-N*x*H],this.width=Q,this.height=te}get rawDims(){const{viewBox:Y}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone(){let{scale:Y=this.scale,rotation:M=this.rotation,offsetX:x=this.offsetX,offsetY:k=this.offsetY,dontFlip:C=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new m({viewBox:this.viewBox.slice(),scale:Y,rotation:M,offsetX:x,offsetY:k,dontFlip:C})}convertToViewportPoint(Y,M){return c.Util.applyTransform([Y,M],this.transform)}convertToViewportRectangle(Y){const M=c.Util.applyTransform([Y[0],Y[1]],this.transform),x=c.Util.applyTransform([Y[2],Y[3]],this.transform);return[M[0],M[1],x[0],x[1]]}convertToPdfPoint(Y,M){return c.Util.applyInverseTransform([Y,M],this.transform)}}d.PageViewport=m;class a extends c.BaseException{constructor(Y){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Y,"RenderingCancelledException"),this.extraDelay=M}}d.RenderingCancelledException=a;function h(re){const Y=re.length;let M=0;for(;M<Y&&re[M].trim()==="";)M++;return re.substring(M,M+5).toLowerCase()==="data:"}function v(re){return typeof re=="string"&&/\.pdf$/i.test(re)}function p(re){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([re]=re.split(/[#?]/,1)),re.substring(re.lastIndexOf("/")+1)}function R(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof re!="string")return Y;if(h(re))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const M=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,x=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,k=M.exec(re);let C=x.exec(k[1])||x.exec(k[2])||x.exec(k[3]);if(C&&(C=C[0],C.includes("%")))try{C=x.exec(decodeURIComponent(C))[0]}catch{}return C||Y}class U{started=Object.create(null);times=[];time(Y){Y in this.started&&(0,c.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,c.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let M=0;for(const{name:x}of this.times)M=Math.max(x.length,M);for(const{name:x,start:k,end:C}of this.times)Y.push(`${x.padEnd(M)} ${C-k}ms
`);return Y.join("")}}d.StatTimer=U;function L(re,Y){try{const{protocol:M}=Y?new URL(re,Y):new URL(re);return M==="http:"||M==="https:"}catch{return!1}}function T(re){re.preventDefault()}function I(re){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((M,x)=>{const k=document.createElement("script");k.src=re,k.onload=function(C){Y&&k.remove(),M(C)},k.onerror=function(){x(new Error(`Cannot load script at: ${k.src}`))},(document.head||document.documentElement).append(k)})}function z(re){console.log("Deprecated API usage: "+re)}let V;class ${static toDateObject(Y){if(!Y||typeof Y!="string")return null;V||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const M=V.exec(Y);if(!M)return null;const x=parseInt(M[1],10);let k=parseInt(M[2],10);k=k>=1&&k<=12?k-1:0;let C=parseInt(M[3],10);C=C>=1&&C<=31?C:1;let _=parseInt(M[4],10);_=_>=0&&_<=23?_:0;let W=parseInt(M[5],10);W=W>=0&&W<=59?W:0;let G=parseInt(M[6],10);G=G>=0&&G<=59?G:0;const H=M[7]||"Z";let y=parseInt(M[8],10);y=y>=0&&y<=23?y:0;let w=parseInt(M[9],10)||0;return w=w>=0&&w<=59?w:0,H==="-"?(_+=y,W+=w):H==="+"&&(_-=y,W-=w),new Date(Date.UTC(x,k,C,_,W,G))}}d.PDFDateString=$;function j(re,Y){let{scale:M=1,rotation:x=0}=Y;const{width:k,height:C}=re.attributes.style,_=[0,0,parseInt(k),parseInt(C)];return new m({viewBox:_,scale:M,rotation:x})}function J(re){if(re.startsWith("#")){const Y=parseInt(re.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return re.startsWith("rgb(")?re.slice(4,-1).split(",").map(Y=>parseInt(Y)):re.startsWith("rgba(")?re.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,c.warn)(`Not a valid color format: "${re}"`),[0,0,0])}function he(re){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const M of re.keys()){Y.style.color=M;const x=window.getComputedStyle(Y).color;re.set(M,J(x))}Y.remove()}function le(re){const{a:Y,b:M,c:x,d:k,e:C,f:_}=re.getTransform();return[Y,M,x,k,C,_]}function de(re){const{a:Y,b:M,c:x,d:k,e:C,f:_}=re.getTransform().invertSelf();return[Y,M,x,k,C,_]}function fe(re,Y){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Y instanceof m){const{pageWidth:k,pageHeight:C}=Y.rawDims,{style:_}=re,W=c.FeatureTest.isCSSRoundSupported,G=`var(--scale-factor) * ${k}px`,H=`var(--scale-factor) * ${C}px`,y=W?`round(${G}, 1px)`:`calc(${G})`,w=W?`round(${H}, 1px)`:`calc(${H})`;!M||Y.rotation%180===0?(_.width=y,_.height=w):(_.width=w,_.height=y)}x&&re.setAttribute("data-main-rotation",Y.rotation)}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseStandardFontDataFactory=d.BaseSVGFactory=d.BaseFilterFactory=d.BaseCanvasFactory=d.BaseCMapReaderFactory=void 0,r(2);var o=r(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(s){return"none"}addHCMFilter(s,l){return"none"}addHighlightHCMFilter(s,l,g,m){return"none"}destroy(){}}d.BaseFilterFactory=c;class A{constructor(){this.constructor===A&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,l){if(s<=0||l<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(s,l);return{canvas:g,context:g.getContext("2d")}}reset(s,l,g){if(!s.canvas)throw new Error("Canvas is not specified");if(l<=0||g<=0)throw new Error("Invalid canvas size");s.canvas.width=l,s.canvas.height=g}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,l){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}d.BaseCanvasFactory=A;class b{constructor(s){let{baseUrl:l=null,isCompressed:g=!0}=s;this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=g}async fetch(s){let{name:l}=s;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const g=this.baseUrl+l+(this.isCompressed?".bcmap":""),m=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(g,m).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${g}`)})}_fetchData(s,l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}d.BaseCMapReaderFactory=b;class P{constructor(s){let{baseUrl:l=null}=s;this.constructor===P&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch(s){let{filename:l}=s;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const g=`${this.baseUrl}${l}`;return this._fetchData(g).catch(m=>{throw new Error(`Unable to load font data at: ${g}`)})}_fetchData(s){(0,o.unreachable)("Abstract method `_fetchData` called.")}}d.BaseStandardFontDataFactory=P;class D{constructor(){this.constructor===D&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,l){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(s<=0||l<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),g||(m.setAttribute("width",`${s}px`),m.setAttribute("height",`${l}px`)),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${s} ${l}`),m}createElement(s){if(typeof s!="string")throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,o.unreachable)("Abstract method `_createSVG` called.")}}d.BaseSVGFactory=D}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MurmurHash3_64=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2);var o=r(1);const c=3285377520,A=4294901760,b=65535;class P{constructor(u){this.h1=u?u&4294967295:c,this.h2=u?u&4294967295:c}update(u){let s,l;if(typeof u=="string"){s=new Uint8Array(u.length*2),l=0;for(let z=0,V=u.length;z<V;z++){const $=u.charCodeAt(z);$<=255?s[l++]=$:(s[l++]=$>>>8,s[l++]=$&255)}}else if((0,o.isArrayBuffer)(u))s=u.slice(),l=s.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const g=l>>2,m=l-g*4,a=new Uint32Array(s.buffer,0,g);let h=0,v=0,p=this.h1,R=this.h2;const U=3432918353,L=461845907,T=U&b,I=L&b;for(let z=0;z<g;z++)z&1?(h=a[z],h=h*U&A|h*T&b,h=h<<15|h>>>17,h=h*L&A|h*I&b,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(v=a[z],v=v*U&A|v*T&b,v=v<<15|v>>>17,v=v*L&A|v*I&b,R^=v,R=R<<13|R>>>19,R=R*5+3864292196);switch(h=0,m){case 3:h^=s[g*4+2]<<16;case 2:h^=s[g*4+1]<<8;case 1:h^=s[g*4],h=h*U&A|h*T&b,h=h<<15|h>>>17,h=h*L&A|h*I&b,g&1?p^=h:R^=h}this.h1=p,this.h2=R}hexdigest(){let u=this.h1,s=this.h2;return u^=s>>>1,u=u*3981806797&A|u*36045&b,s=s*4283543511&A|((s<<16|u>>>16)*2950163797&A)>>>16,u^=s>>>1,u=u*444984403&A|u*60499&b,s=s*3301882366&A|((s<<16|u>>>16)*3120437893&A)>>>16,u^=s>>>1,(u>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}d.MurmurHash3_64=P}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FontLoader=d.FontFaceObject=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(89),r(149);var o=r(1);class c{#e=new Set;constructor(P){let{ownerDocument:D=globalThis.document,styleElement:u=null}=P;this._document=D,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(P){this.nativeFontFaces.add(P),this._document.fonts.add(P)}removeNativeFontFace(P){this.nativeFontFaces.delete(P),this._document.fonts.delete(P)}insertRule(P){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const D=this.styleElement.sheet;D.insertRule(P,D.cssRules.length)}clear(){for(const P of this.nativeFontFaces)this._document.fonts.delete(P);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(P){if(!(!P||this.#e.has(P.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:D,src:u,style:s}=P,l=new FontFace(D,u,s);this.addNativeFontFace(l);try{await l.load(),this.#e.add(D)}catch{(0,o.warn)(`Cannot load system font: ${P.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(P){if(P.attached||P.missingFile&&!P.systemFontInfo)return;if(P.attached=!0,P.systemFontInfo){await this.loadSystemFont(P.systemFontInfo);return}if(this.isFontLoadingAPISupported){const u=P.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(s){throw(0,o.warn)(`Failed to load font '${u.family}': '${s}'.`),P.disableFontFace=!0,s}}return}const D=P.createFontFaceRule();if(D){if(this.insertRule(D),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const s=this._queueLoadingCallback(u);this._prepareFontLoadEvent(P,s)})}}get isFontLoadingAPISupported(){const P=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",P)}get isSyncFontLoadingSupported(){let P=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(P=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",P)}_queueLoadingCallback(P){function D(){for((0,o.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;u.length>0&&u[0].done;){const l=u.shift();setTimeout(l.callback,0)}}const{loadingRequests:u}=this,s={done:!1,complete:D,callback:P};return u.push(s),s}get _loadTestFont(){const P=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",P)}_prepareFontLoadEvent(P,D){function u(j,J){return j.charCodeAt(J)<<24|j.charCodeAt(J+1)<<16|j.charCodeAt(J+2)<<8|j.charCodeAt(J+3)&255}function s(j,J,he,le){const de=j.substring(0,J),fe=j.substring(J+he);return de+le+fe}let l,g;const m=this._document.createElement("canvas");m.width=1,m.height=1;const a=m.getContext("2d");let h=0;function v(j,J){if(++h>30){(0,o.warn)("Load test font never loaded."),J();return}if(a.font="30px "+j,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(v.bind(null,j,J))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let R=this._loadTestFont;R=s(R,976,p.length,p);const L=16,T=1482184792;let I=u(R,L);for(l=0,g=p.length-3;l<g;l+=4)I=I-T+u(p,l)|0;l<p.length&&(I=I-T+u(p+"XXX",l)|0),R=s(R,L,4,(0,o.string32)(I));const z=`url(data:font/opentype;base64,${btoa(R)});`,V=`@font-face {font-family:"${p}";src:${z}}`;this.insertRule(V);const $=this._document.createElement("div");$.style.visibility="hidden",$.style.width=$.style.height="10px",$.style.position="absolute",$.style.top=$.style.left="0px";for(const j of[P.loadedName,p]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=j,$.append(J)}this._document.body.append($),v(p,()=>{$.remove(),D.complete()})}}d.FontLoader=c;class A{constructor(P,D){let{isEvalSupported:u=!0,disableFontFace:s=!1,ignoreErrors:l=!1,inspectFont:g=null}=D;this.compiledGlyphs=Object.create(null);for(const m in P)this[m]=P[m];this.isEvalSupported=u!==!1,this.disableFontFace=s===!0,this.ignoreErrors=l===!0,this._inspectFont=g}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let P;if(!this.cssFontInfo)P=new FontFace(this.loadedName,this.data,{});else{const D={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(D.style=`oblique ${this.cssFontInfo.italicAngle}deg`),P=new FontFace(this.cssFontInfo.fontFamily,this.data,D)}return this._inspectFont?.(this),P}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const P=(0,o.bytesToString)(this.data),D=`url(data:${this.mimetype};base64,${btoa(P)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${D}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${D}}`}return this._inspectFont?.(this,D),u}getPathGenerator(P,D){if(this.compiledGlyphs[D]!==void 0)return this.compiledGlyphs[D];let u;try{u=P.get(this.loadedName+"_path_"+D)}catch(s){if(!this.ignoreErrors)throw s;return(0,o.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[D]=function(l,g){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const s=[];for(const l of u){const g=l.args!==void 0?l.args.join(","):"";s.push("c.",l.cmd,"(",g,`);
`)}return this.compiledGlyphs[D]=new Function("c","size",s.join(""))}return this.compiledGlyphs[D]=function(s,l){for(const g of u)g.cmd==="scale"&&(g.args=[l,-l]),s[g.cmd].apply(s,g.args)}}}d.FontFaceObject=A}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NodeStandardFontDataFactory=d.NodeFilterFactory=d.NodeCanvasFactory=d.NodeCMapReaderFactory=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(169),c=r(1);(function(){if(!(globalThis.DOMMatrix||!c.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(l){(0,c.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${l}".`)}})(),(function(){if(!(globalThis.Path2D||!c.isNodeJS))try{const{CanvasRenderingContext2D:l}=require$$6,{polyfillPath2D:g}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=l,g(globalThis)}catch(l){(0,c.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${l}".`)}})();const A=function(s){return new Promise((l,g)=>{require$$6.readFile(s,(a,h)=>{if(a||!h){g(new Error(a));return}l(new Uint8Array(h))})})};class b extends o.BaseFilterFactory{}d.NodeFilterFactory=b;class P extends o.BaseCanvasFactory{_createCanvas(l,g){return require$$6.createCanvas(l,g)}}d.NodeCanvasFactory=P;class D extends o.BaseCMapReaderFactory{_fetchData(l,g){return A(l).then(m=>({cMapData:m,compressionType:g}))}}d.NodeCMapReaderFactory=D;class u extends o.BaseStandardFontDataFactory{_fetchData(l){return A(l)}}d.NodeStandardFontDataFactory=u}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CanvasGraphics=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(168),A=r(174),b=r(175);const P=16,D=100,u=4096,s=15,l=10,g=1e3,m=16;function a(M,x){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){x.save(),this.__originalSave()},M.restore=function(){x.restore(),this.__originalRestore()},M.translate=function(C,_){x.translate(C,_),this.__originalTranslate(C,_)},M.scale=function(C,_){x.scale(C,_),this.__originalScale(C,_)},M.transform=function(C,_,W,G,H,y){x.transform(C,_,W,G,H,y),this.__originalTransform(C,_,W,G,H,y)},M.setTransform=function(C,_,W,G,H,y){x.setTransform(C,_,W,G,H,y),this.__originalSetTransform(C,_,W,G,H,y)},M.resetTransform=function(){x.resetTransform(),this.__originalResetTransform()},M.rotate=function(C){x.rotate(C),this.__originalRotate(C)},M.clip=function(C){x.clip(C),this.__originalClip(C)},M.moveTo=function(k,C){x.moveTo(k,C),this.__originalMoveTo(k,C)},M.lineTo=function(k,C){x.lineTo(k,C),this.__originalLineTo(k,C)},M.bezierCurveTo=function(k,C,_,W,G,H){x.bezierCurveTo(k,C,_,W,G,H),this.__originalBezierCurveTo(k,C,_,W,G,H)},M.rect=function(k,C,_,W){x.rect(k,C,_,W),this.__originalRect(k,C,_,W)},M.closePath=function(){x.closePath(),this.__originalClosePath()},M.beginPath=function(){x.beginPath(),this.__originalBeginPath()}}class h{constructor(x){this.canvasFactory=x,this.cache=Object.create(null)}getCanvas(x,k,C){let _;return this.cache[x]!==void 0?(_=this.cache[x],this.canvasFactory.reset(_,k,C)):(_=this.canvasFactory.create(k,C),this.cache[x]=_),_}delete(x){delete this.cache[x]}clear(){for(const x in this.cache){const k=this.cache[x];this.canvasFactory.destroy(k),delete this.cache[x]}}}function v(M,x,k,C,_,W,G,H,y,w){const[F,N,O,X,Q,te]=(0,c.getCurrentTransform)(M);if(N===0&&O===0){const ue=G*F+Q,pe=Math.round(ue),ge=H*X+te,me=Math.round(ge),ke=(G+y)*F+Q,we=Math.abs(Math.round(ke)-pe)||1,Oe=(H+w)*X+te,Ue=Math.abs(Math.round(Oe)-me)||1;return M.setTransform(Math.sign(F),0,0,Math.sign(X),pe,me),M.drawImage(x,k,C,_,W,0,0,we,Ue),M.setTransform(F,N,O,X,Q,te),[we,Ue]}if(F===0&&X===0){const ue=H*O+Q,pe=Math.round(ue),ge=G*N+te,me=Math.round(ge),ke=(H+w)*O+Q,we=Math.abs(Math.round(ke)-pe)||1,Oe=(G+y)*N+te,Ue=Math.abs(Math.round(Oe)-me)||1;return M.setTransform(0,Math.sign(N),Math.sign(O),0,pe,me),M.drawImage(x,k,C,_,W,0,0,Ue,we),M.setTransform(F,N,O,X,Q,te),[Ue,we]}M.drawImage(x,k,C,_,W,G,H,y,w);const Ae=Math.hypot(F,N),se=Math.hypot(O,X);return[Ae*y,se*w]}function p(M){const{width:x,height:k}=M;if(x>g||k>g)return null;const C=1e3,_=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),W=x+1;let G=new Uint8Array(W*(k+1)),H,y,w;const F=x+7&-8;let N=new Uint8Array(F*k),O=0;for(const se of M.data){let ue=128;for(;ue>0;)N[O++]=se&ue?0:255,ue>>=1}let X=0;for(O=0,N[O]!==0&&(G[0]=1,++X),y=1;y<x;y++)N[O]!==N[O+1]&&(G[y]=N[O]?2:1,++X),O++;for(N[O]!==0&&(G[y]=2,++X),H=1;H<k;H++){O=H*F,w=H*W,N[O-F]!==N[O]&&(G[w]=N[O]?1:8,++X);let se=(N[O]?4:0)+(N[O-F]?8:0);for(y=1;y<x;y++)se=(se>>2)+(N[O+1]?4:0)+(N[O-F+1]?8:0),_[se]&&(G[w+y]=_[se],++X),O++;if(N[O-F]!==N[O]&&(G[w+y]=N[O]?2:4,++X),X>C)return null}for(O=F*(k-1),w=H*W,N[O]!==0&&(G[w]=8,++X),y=1;y<x;y++)N[O]!==N[O+1]&&(G[w+y]=N[O]?4:8,++X),O++;if(N[O]!==0&&(G[w+y]=4,++X),X>C)return null;const Q=new Int32Array([0,W,-1,0,-W,0,0,0,1]),te=new Path2D;for(H=0;X&&H<=k;H++){let se=H*W;const ue=se+x;for(;se<ue&&!G[se];)se++;if(se===ue)continue;te.moveTo(se%W,H);const pe=se;let ge=G[se];do{const me=Q[ge];do se+=me;while(!G[se]);const ke=G[se];ke!==5&&ke!==10?(ge=ke,G[se]=0):(ge=ke&51*ge>>4,G[se]&=ge>>2|ge<<2),te.lineTo(se%W,se/W|0),G[se]||--X}while(pe!==se);--H}return N=null,G=null,function(se){se.save(),se.scale(1/x,-1/k),se.translate(0,-k),se.fill(te),se.beginPath(),se.restore()}}class R{constructor(x,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,x,k])}clone(){const x=Object.create(this);return x.clipBox=this.clipBox.slice(),x}setCurrentPoint(x,k){this.x=x,this.y=k}updatePathMinMax(x,k,C){[k,C]=o.Util.applyTransform([k,C],x),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,C),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,C)}updateRectMinMax(x,k){const C=o.Util.applyTransform(k,x),_=o.Util.applyTransform(k.slice(2),x);this.minX=Math.min(this.minX,C[0],_[0]),this.minY=Math.min(this.minY,C[1],_[1]),this.maxX=Math.max(this.maxX,C[0],_[0]),this.maxY=Math.max(this.maxY,C[1],_[1])}updateScalingPathMinMax(x,k){o.Util.scaleMinMax(x,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(x,k,C,_,W,G,H,y,w,F){const N=o.Util.bezierBoundingBox(k,C,_,W,G,H,y,w);if(F){F[0]=Math.min(F[0],N[0],N[2]),F[1]=Math.max(F[1],N[0],N[2]),F[2]=Math.min(F[2],N[1],N[3]),F[3]=Math.max(F[3],N[1],N[3]);return}this.updateRectMinMax(x,N)}getPathBoundingBox(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const C=[this.minX,this.minY,this.maxX,this.maxY];if(x===A.PathType.STROKE){k||(0,o.unreachable)("Stroke bounding box must include transform.");const _=o.Util.singularValueDecompose2dScale(k),W=_[0]*this.lineWidth/2,G=_[1]*this.lineWidth/2;C[0]-=W,C[1]-=G,C[2]+=W,C[3]+=G}return C}updateClipFromPath(){const x=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(x||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(x){this.clipBox=x,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.Util.intersect(this.clipBox,this.getPathBoundingBox(x,k))}}function U(M,x){if(typeof ImageData<"u"&&x instanceof ImageData){M.putImageData(x,0,0);return}const k=x.height,C=x.width,_=k%m,W=(k-_)/m,G=_===0?W:W+1,H=M.createImageData(C,m);let y=0,w;const F=x.data,N=H.data;let O,X,Q,te;if(x.kind===o.ImageKind.GRAYSCALE_1BPP){const Ae=F.byteLength,se=new Uint32Array(N.buffer,0,N.byteLength>>2),ue=se.length,pe=C+7>>3,ge=4294967295,me=o.FeatureTest.isLittleEndian?4278190080:255;for(O=0;O<G;O++){for(Q=O<W?m:_,w=0,X=0;X<Q;X++){const ke=Ae-y;let we=0;const Oe=ke>pe?C:ke*8-7,Ue=Oe&-8;let He=0,Ye=0;for(;we<Ue;we+=8)Ye=F[y++],se[w++]=Ye&128?ge:me,se[w++]=Ye&64?ge:me,se[w++]=Ye&32?ge:me,se[w++]=Ye&16?ge:me,se[w++]=Ye&8?ge:me,se[w++]=Ye&4?ge:me,se[w++]=Ye&2?ge:me,se[w++]=Ye&1?ge:me;for(;we<Oe;we++)He===0&&(Ye=F[y++],He=128),se[w++]=Ye&He?ge:me,He>>=1}for(;w<ue;)se[w++]=0;M.putImageData(H,0,O*m)}}else if(x.kind===o.ImageKind.RGBA_32BPP){for(X=0,te=C*m*4,O=0;O<W;O++)N.set(F.subarray(y,y+te)),y+=te,M.putImageData(H,0,X),X+=m;O<G&&(te=C*_*4,N.set(F.subarray(y,y+te)),M.putImageData(H,0,X))}else if(x.kind===o.ImageKind.RGB_24BPP)for(Q=m,te=C*Q,O=0;O<G;O++){for(O>=W&&(Q=_,te=C*Q),w=0,X=te;X--;)N[w++]=F[y++],N[w++]=F[y++],N[w++]=F[y++],N[w++]=255;M.putImageData(H,0,O*m)}else throw new Error(`bad image kind: ${x.kind}`)}function L(M,x){if(x.bitmap){M.drawImage(x.bitmap,0,0);return}const k=x.height,C=x.width,_=k%m,W=(k-_)/m,G=_===0?W:W+1,H=M.createImageData(C,m);let y=0;const w=x.data,F=H.data;for(let N=0;N<G;N++){const O=N<W?m:_;({srcPos:y}=(0,b.convertBlackAndWhiteToRGBA)({src:w,srcPos:y,dest:F,width:C,height:O,nonBlackColor:0})),M.putImageData(H,0,N*m)}}function T(M,x){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const C of k)M[C]!==void 0&&(x[C]=M[C]);M.setLineDash!==void 0&&(x.setLineDash(M.getLineDash()),x.lineDashOffset=M.lineDashOffset)}function I(M){if(M.strokeStyle=M.fillStyle="#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0),!o.isNodeJS){const{filter:x}=M;x!=="none"&&x!==""&&(M.filter="none")}}function z(M,x,k,C){const _=M.length;for(let W=3;W<_;W+=4){const G=M[W];if(G===0)M[W-3]=x,M[W-2]=k,M[W-1]=C;else if(G<255){const H=255-G;M[W-3]=M[W-3]*G+x*H>>8,M[W-2]=M[W-2]*G+k*H>>8,M[W-1]=M[W-1]*G+C*H>>8}}}function V(M,x,k){const C=M.length,_=1/255;for(let W=3;W<C;W+=4){const G=k?k[M[W]]:M[W];x[W]=x[W]*G*_|0}}function $(M,x,k){const C=M.length;for(let _=3;_<C;_+=4){const W=M[_-3]*77+M[_-2]*152+M[_-1]*28;x[_]=k?x[_]*k[W>>8]>>8:x[_]*W>>16}}function j(M,x,k,C,_,W,G,H,y,w,F){const N=!!W,O=N?W[0]:0,X=N?W[1]:0,Q=N?W[2]:0,te=_==="Luminosity"?$:V,se=Math.min(C,Math.ceil(1048576/k));for(let ue=0;ue<C;ue+=se){const pe=Math.min(se,C-ue),ge=M.getImageData(H-w,ue+(y-F),k,pe),me=x.getImageData(H,ue+y,k,pe);N&&z(ge.data,O,X,Q),te(ge.data,me.data,G),x.putImageData(me,H,ue+y)}}function J(M,x,k,C){const _=C[0],W=C[1],G=C[2]-_,H=C[3]-W;G===0||H===0||(j(x.context,k,G,H,x.subtype,x.backdrop,x.transferMap,_,W,x.offsetX,x.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(k.canvas,0,0),M.restore())}function he(M,x){const k=o.Util.singularValueDecompose2dScale(M);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const C=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return x!==void 0?x:k[0]<=C||k[1]<=C}const le=["butt","round","square"],de=["miter","round","bevel"],fe={},re={};class Y{constructor(x,k,C,_,W,G,H,y){let{optionalContentConfig:w,markedContentStack:F=null}=G;this.ctx=x,this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=C,this.canvasFactory=_,this.filterFactory=W,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=F||[],this.optionalContentConfig=w,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=H,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=y,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof x=="string"?x.startsWith("g_")?this.commonObjs.get(x):this.objs.get(x):k}beginDrawing(x){let{transform:k,viewport:C,transparency:_=!1,background:W=null}=x;const G=this.ctx.canvas.width,H=this.ctx.canvas.height,y=this.ctx.fillStyle;if(this.ctx.fillStyle=W||"#ffffff",this.ctx.fillRect(0,0,G,H),this.ctx.fillStyle=y,_){const w=this.cachedCanvases.getCanvas("transparent",G,H);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...C.transform),this.viewportScale=C.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(x,k,C,_){const W=x.argsArray,G=x.fnArray;let H=k||0;const y=W.length;if(y===H)return H;const w=y-H>l&&typeof C=="function",F=w?Date.now()+s:0;let N=0;const O=this.commonObjs,X=this.objs;let Q;for(;;){if(_!==void 0&&H===_.nextBreakPoint)return _.breakIt(H,C),H;if(Q=G[H],Q!==o.OPS.dependency)this[Q].apply(this,W[H]);else for(const te of W[H]){const Ae=te.startsWith("g_")?O:X;if(!Ae.has(te))return Ae.get(te,C),H}if(H++,H===y)return H;if(w&&++N>l){if(Date.now()>F)return C(),H;N=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const x of this._cachedBitmapsMap.values()){for(const k of x.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);x.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const x=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(x!=="none"){const k=this.ctx.filter;this.ctx.filter=x,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=k}}}_scaleImage(x,k){const C=x.width,_=x.height;let W=Math.max(Math.hypot(k[0],k[1]),1),G=Math.max(Math.hypot(k[2],k[3]),1),H=C,y=_,w="prescale1",F,N;for(;W>2&&H>1||G>2&&y>1;){let O=H,X=y;W>2&&H>1&&(O=H>=16384?Math.floor(H/2)-1||1:Math.ceil(H/2),W/=H/O),G>2&&y>1&&(X=y>=16384?Math.floor(y/2)-1||1:Math.ceil(y)/2,G/=y/X),F=this.cachedCanvases.getCanvas(w,O,X),N=F.context,N.clearRect(0,0,O,X),N.drawImage(x,0,0,H,y,0,0,O,X),x=F.canvas,H=O,y=X,w=w==="prescale1"?"prescale2":"prescale1"}return{img:x,paintWidth:H,paintHeight:y}}_createMaskCanvas(x){const k=this.ctx,{width:C,height:_}=x,W=this.current.fillColor,G=this.current.patternFill,H=(0,c.getCurrentTransform)(k);let y,w,F,N;if((x.bitmap||x.data)&&x.count>1){const we=x.bitmap||x.data.buffer;w=JSON.stringify(G?H:[H.slice(0,4),W]),y=this._cachedBitmapsMap.get(we),y||(y=new Map,this._cachedBitmapsMap.set(we,y));const Oe=y.get(w);if(Oe&&!G){const Ue=Math.round(Math.min(H[0],H[2])+H[4]),He=Math.round(Math.min(H[1],H[3])+H[5]);return{canvas:Oe,offsetX:Ue,offsetY:He}}F=Oe}F||(N=this.cachedCanvases.getCanvas("maskCanvas",C,_),L(N.context,x));let O=o.Util.transform(H,[1/C,0,0,-1/_,0,0]);O=o.Util.transform(O,[1,0,0,1,0,-_]);const X=o.Util.applyTransform([0,0],O),Q=o.Util.applyTransform([C,_],O),te=o.Util.normalizeRect([X[0],X[1],Q[0],Q[1]]),Ae=Math.round(te[2]-te[0])||1,se=Math.round(te[3]-te[1])||1,ue=this.cachedCanvases.getCanvas("fillCanvas",Ae,se),pe=ue.context,ge=Math.min(X[0],Q[0]),me=Math.min(X[1],Q[1]);pe.translate(-ge,-me),pe.transform(...O),F||(F=this._scaleImage(N.canvas,(0,c.getCurrentTransformInverse)(pe)),F=F.img,y&&G&&y.set(w,F)),pe.imageSmoothingEnabled=he((0,c.getCurrentTransform)(pe),x.interpolate),v(pe,F,0,0,F.width,F.height,0,0,C,_),pe.globalCompositeOperation="source-in";const ke=o.Util.transform((0,c.getCurrentTransformInverse)(pe),[1,0,0,1,-ge,-me]);return pe.fillStyle=G?W.getPattern(k,this,ke,A.PathType.FILL):W,pe.fillRect(0,0,C,_),y&&!G&&(this.cachedCanvases.delete("fillCanvas"),y.set(w,ue.canvas)),{canvas:ue.canvas,offsetX:Math.round(ge),offsetY:Math.round(me)}}setLineWidth(x){x!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=x,this.ctx.lineWidth=x}setLineCap(x){this.ctx.lineCap=le[x]}setLineJoin(x){this.ctx.lineJoin=de[x]}setMiterLimit(x){this.ctx.miterLimit=x}setDash(x,k){const C=this.ctx;C.setLineDash!==void 0&&(C.setLineDash(x),C.lineDashOffset=k)}setRenderingIntent(x){}setFlatness(x){}setGState(x){for(const[k,C]of x)switch(k){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=C;break;case"ca":this.current.fillAlpha=C,this.ctx.globalAlpha=C;break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(C);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const x=this.inSMaskMode;this.current.activeSMask&&!x?this.beginSMaskMode():!this.current.activeSMask&&x&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const x=this.ctx.canvas.width,k=this.ctx.canvas.height,C="smaskGroupAt"+this.groupLevel,_=this.cachedCanvases.getCanvas(C,x,k);this.suspendedCtx=this.ctx,this.ctx=_.context;const W=this.ctx;W.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),T(this.suspendedCtx,W),a(W,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),T(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(x){if(!this.current.activeSMask)return;x?(x[0]=Math.floor(x[0]),x[1]=Math.floor(x[1]),x[2]=Math.ceil(x[2]),x[3]=Math.ceil(x[3])):x=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,C=this.suspendedCtx;J(C,k,this.ctx,x),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(T(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const x=this.current;this.stateStack.push(x),this.current=x.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),T(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(x,k,C,_,W,G){this.ctx.transform(x,k,C,_,W,G),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(x,k,C){const _=this.ctx,W=this.current;let G=W.x,H=W.y,y,w;const F=(0,c.getCurrentTransform)(_),N=F[0]===0&&F[3]===0||F[1]===0&&F[2]===0,O=N?C.slice(0):null;for(let X=0,Q=0,te=x.length;X<te;X++)switch(x[X]|0){case o.OPS.rectangle:G=k[Q++],H=k[Q++];const Ae=k[Q++],se=k[Q++],ue=G+Ae,pe=H+se;_.moveTo(G,H),Ae===0||se===0?_.lineTo(ue,pe):(_.lineTo(ue,H),_.lineTo(ue,pe),_.lineTo(G,pe)),N||W.updateRectMinMax(F,[G,H,ue,pe]),_.closePath();break;case o.OPS.moveTo:G=k[Q++],H=k[Q++],_.moveTo(G,H),N||W.updatePathMinMax(F,G,H);break;case o.OPS.lineTo:G=k[Q++],H=k[Q++],_.lineTo(G,H),N||W.updatePathMinMax(F,G,H);break;case o.OPS.curveTo:y=G,w=H,G=k[Q+4],H=k[Q+5],_.bezierCurveTo(k[Q],k[Q+1],k[Q+2],k[Q+3],G,H),W.updateCurvePathMinMax(F,y,w,k[Q],k[Q+1],k[Q+2],k[Q+3],G,H,O),Q+=6;break;case o.OPS.curveTo2:y=G,w=H,_.bezierCurveTo(G,H,k[Q],k[Q+1],k[Q+2],k[Q+3]),W.updateCurvePathMinMax(F,y,w,G,H,k[Q],k[Q+1],k[Q+2],k[Q+3],O),G=k[Q+2],H=k[Q+3],Q+=4;break;case o.OPS.curveTo3:y=G,w=H,G=k[Q+2],H=k[Q+3],_.bezierCurveTo(k[Q],k[Q+1],G,H,G,H),W.updateCurvePathMinMax(F,y,w,k[Q],k[Q+1],G,H,G,H,O),Q+=4;break;case o.OPS.closePath:_.closePath();break}N&&W.updateScalingPathMinMax(F,O),W.setCurrentPoint(G,H)}closePath(){this.ctx.closePath()}stroke(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,C=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof C=="object"&&C?.getPattern?(k.save(),k.strokeStyle=C.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),x&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,C=this.current.fillColor,_=this.current.patternFill;let W=!1;_&&(k.save(),k.fillStyle=C.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.FILL),W=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),W&&k.restore(),x&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=fe}eoClip(){this.pendingClip=re}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const x=this.pendingTextPaths,k=this.ctx;if(x===void 0){k.beginPath();return}k.save(),k.beginPath();for(const C of x)k.setTransform(...C.transform),k.translate(C.x,C.y),C.addToPath(k,C.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(x){this.current.charSpacing=x}setWordSpacing(x){this.current.wordSpacing=x}setHScale(x){this.current.textHScale=x/100}setLeading(x){this.current.leading=-x}setFont(x,k){const C=this.commonObjs.get(x),_=this.current;if(!C)throw new Error(`Can't find font for ${x}`);if(_.fontMatrix=C.fontMatrix||o.FONT_IDENTITY_MATRIX,(_.fontMatrix[0]===0||_.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+x),k<0?(k=-k,_.fontDirection=-1):_.fontDirection=1,this.current.font=C,this.current.fontSize=k,C.isType3Font)return;const W=C.loadedName||"sans-serif",G=C.systemFontInfo?.css||`"${W}", ${C.fallbackName}`;let H="normal";C.black?H="900":C.bold&&(H="bold");const y=C.italic?"italic":"normal";let w=k;k<P?w=P:k>D&&(w=D),this.current.fontSizeScale=k/w,this.ctx.font=`${y} ${H} ${w}px ${G}`}setTextRenderingMode(x){this.current.textRenderingMode=x}setTextRise(x){this.current.textRise=x}moveText(x,k){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=k}setLeadingMoveText(x,k){this.setLeading(-k),this.moveText(x,k)}setTextMatrix(x,k,C,_,W,G){this.current.textMatrix=[x,k,C,_,W,G],this.current.textMatrixScale=Math.hypot(x,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(x,k,C,_){const W=this.ctx,G=this.current,H=G.font,y=G.textRenderingMode,w=G.fontSize/G.fontSizeScale,F=y&o.TextRenderingMode.FILL_STROKE_MASK,N=!!(y&o.TextRenderingMode.ADD_TO_PATH_FLAG),O=G.patternFill&&!H.missingFile;let X;(H.disableFontFace||N||O)&&(X=H.getPathGenerator(this.commonObjs,x)),H.disableFontFace||O?(W.save(),W.translate(k,C),W.beginPath(),X(W,w),_&&W.setTransform(..._),(F===o.TextRenderingMode.FILL||F===o.TextRenderingMode.FILL_STROKE)&&W.fill(),(F===o.TextRenderingMode.STROKE||F===o.TextRenderingMode.FILL_STROKE)&&W.stroke(),W.restore()):((F===o.TextRenderingMode.FILL||F===o.TextRenderingMode.FILL_STROKE)&&W.fillText(x,k,C),(F===o.TextRenderingMode.STROKE||F===o.TextRenderingMode.FILL_STROKE)&&W.strokeText(x,k,C)),N&&(this.pendingTextPaths||=[]).push({transform:(0,c.getCurrentTransform)(W),x:k,y:C,fontSize:w,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:x}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);x.scale(1.5,1),x.fillText("I",0,10);const k=x.getImageData(0,0,10,10).data;let C=!1;for(let _=3;_<k.length;_+=4)if(k[_]>0&&k[_]<255){C=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",C)}showText(x){const k=this.current,C=k.font;if(C.isType3Font)return this.showType3Text(x);const _=k.fontSize;if(_===0)return;const W=this.ctx,G=k.fontSizeScale,H=k.charSpacing,y=k.wordSpacing,w=k.fontDirection,F=k.textHScale*w,N=x.length,O=C.vertical,X=O?1:-1,Q=C.defaultVMetrics,te=_*k.fontMatrix[0],Ae=k.textRenderingMode===o.TextRenderingMode.FILL&&!C.disableFontFace&&!k.patternFill;W.save(),W.transform(...k.textMatrix),W.translate(k.x,k.y+k.textRise),w>0?W.scale(F,-1):W.scale(F,1);let se;if(k.patternFill){W.save();const ke=k.fillColor.getPattern(W,this,(0,c.getCurrentTransformInverse)(W),A.PathType.FILL);se=(0,c.getCurrentTransform)(W),W.restore(),W.fillStyle=ke}let ue=k.lineWidth;const pe=k.textMatrixScale;if(pe===0||ue===0){const ke=k.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(ke===o.TextRenderingMode.STROKE||ke===o.TextRenderingMode.FILL_STROKE)&&(ue=this.getSinglePixelWidth())}else ue/=pe;if(G!==1&&(W.scale(G,G),ue/=G),W.lineWidth=ue,C.isInvalidPDFjsFont){const ke=[];let we=0;for(const Oe of x)ke.push(Oe.unicode),we+=Oe.width;W.fillText(ke.join(""),0,0),k.x+=we*te*F,W.restore(),this.compose();return}let ge=0,me;for(me=0;me<N;++me){const ke=x[me];if(typeof ke=="number"){ge+=X*ke*_/1e3;continue}let we=!1;const Oe=(ke.isSpace?y:0)+H,Ue=ke.fontChar,He=ke.accent;let Ye,nt,ct=ke.width;if(O){const Ze=ke.vmetric||Q,ft=-(ke.vmetric?Ze[1]:ct*.5)*te,qe=Ze[2]*te;ct=Ze?-Ze[0]:ct,Ye=ft/G,nt=(ge+qe)/G}else Ye=ge/G,nt=0;if(C.remeasure&&ct>0){const Ze=W.measureText(Ue).width*1e3/_*G;if(ct<Ze&&this.isFontSubpixelAAEnabled){const ft=ct/Ze;we=!0,W.save(),W.scale(ft,1),Ye/=ft}else ct!==Ze&&(Ye+=(ct-Ze)/2e3*_/G)}if(this.contentVisible&&(ke.isInFont||C.missingFile)){if(Ae&&!He)W.fillText(Ue,Ye,nt);else if(this.paintChar(Ue,Ye,nt,se),He){const Ze=Ye+_*He.offset.x/G,ft=nt-_*He.offset.y/G;this.paintChar(He.fontChar,Ze,ft,se)}}const Lt=O?ct*te-Oe*w:ct*te+Oe*w;ge+=Lt,we&&W.restore()}O?k.y-=ge:k.x+=ge*F,W.restore(),this.compose()}showType3Text(x){const k=this.ctx,C=this.current,_=C.font,W=C.fontSize,G=C.fontDirection,H=_.vertical?1:-1,y=C.charSpacing,w=C.wordSpacing,F=C.textHScale*G,N=C.fontMatrix||o.FONT_IDENTITY_MATRIX,O=x.length,X=C.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Q,te,Ae,se;if(!(X||W===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...C.textMatrix),k.translate(C.x,C.y),k.scale(F,G),Q=0;Q<O;++Q){if(te=x[Q],typeof te=="number"){se=H*te*W/1e3,this.ctx.translate(se,0),C.x+=se*F;continue}const ue=(te.isSpace?w:0)+y,pe=_.charProcOperatorList[te.operatorListId];if(!pe){(0,o.warn)(`Type3 character "${te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=te,this.save(),k.scale(W,W),k.transform(...N),this.executeOperatorList(pe),this.restore()),Ae=o.Util.applyTransform([te.width,0],N)[0]*W+ue,k.translate(Ae,0),C.x+=Ae*F}k.restore(),this.processingType3=null}}setCharWidth(x,k){}setCharWidthAndBounds(x,k,C,_,W,G){this.ctx.rect(C,_,W-C,G-_),this.ctx.clip(),this.endPath()}getColorN_Pattern(x){let k;if(x[0]==="TilingPattern"){const C=x[1],_=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),W={createCanvasGraphics:G=>new Y(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};k=new A.TilingPattern(x,C,this.ctx,W,_)}else k=this._getPattern(x[1],x[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(x,k,C){const _=o.Util.makeHexColor(x,k,C);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(x,k,C){const _=o.Util.makeHexColor(x,k,C);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,C;return this.cachedPatterns.has(x)?C=this.cachedPatterns.get(x):(C=(0,A.getShadingPattern)(this.getObject(x)),this.cachedPatterns.set(x,C)),k&&(C.matrix=k),C}shadingFill(x){if(!this.contentVisible)return;const k=this.ctx;this.save();const C=this._getPattern(x);k.fillStyle=C.getPattern(k,this,(0,c.getCurrentTransformInverse)(k),A.PathType.SHADING);const _=(0,c.getCurrentTransformInverse)(k);if(_){const{width:W,height:G}=k.canvas,[H,y,w,F]=o.Util.getAxialAlignedBoundingBox([0,0,W,G],_);this.ctx.fillRect(H,y,w-H,F-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(x,k){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(x)&&x.length===6&&this.transform(...x),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),k)){const C=k[2]-k[0],_=k[3]-k[1];this.ctx.rect(k[0],k[1],C,_),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(x){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;x.isolated||(0,o.info)("TODO: Support non-isolated groups."),x.knockout&&(0,o.warn)("Knockout groups not supported.");const C=(0,c.getCurrentTransform)(k);if(x.matrix&&k.transform(...x.matrix),!x.bbox)throw new Error("Bounding box is required.");let _=o.Util.getAxialAlignedBoundingBox(x.bbox,(0,c.getCurrentTransform)(k));const W=[0,0,k.canvas.width,k.canvas.height];_=o.Util.intersect(_,W)||[0,0,0,0];const G=Math.floor(_[0]),H=Math.floor(_[1]);let y=Math.max(Math.ceil(_[2])-G,1),w=Math.max(Math.ceil(_[3])-H,1),F=1,N=1;y>u&&(F=y/u,y=u),w>u&&(N=w/u,w=u),this.current.startNewPathAndClipBox([0,0,y,w]);let O="groupAt"+this.groupLevel;x.smask&&(O+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(O,y,w),Q=X.context;Q.scale(1/F,1/N),Q.translate(-G,-H),Q.transform(...C),x.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:G,offsetY:H,scaleX:F,scaleY:N,subtype:x.smask.subtype,backdrop:x.smask.backdrop,transferMap:x.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(G,H),k.scale(F,N),k.save()),T(k,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(x){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,C=this.groupStack.pop();if(this.ctx=C,this.ctx.imageSmoothingEnabled=!1,x.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._);const W=o.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],_);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(W)}}beginAnnotation(x,k,C,_,W){if(this.#e(),I(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const G=k[2]-k[0],H=k[3]-k[1];if(W&&this.annotationCanvasMap){C=C.slice(),C[4]-=k[0],C[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=G,k[3]=H;const[y,w]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:F}=this,N=Math.ceil(G*this.outputScaleX*F),O=Math.ceil(H*this.outputScaleY*F);this.annotationCanvas=this.canvasFactory.create(N,O);const{canvas:X,context:Q}=this.annotationCanvas;this.annotationCanvasMap.set(x,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.save(),this.ctx.setTransform(y,0,0,-w,0,H*w),I(this.ctx)}else I(this.ctx),this.ctx.rect(k[0],k[1],G,H),this.ctx.clip(),this.endPath()}this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...C),this.transform(..._)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(x){if(!this.contentVisible)return;const k=x.count;x=this.getObject(x.data,x),x.count=k;const C=this.ctx,_=this.processingType3;if(_&&(_.compiled===void 0&&(_.compiled=p(x)),_.compiled)){_.compiled(C);return}const W=this._createMaskCanvas(x),G=W.canvas;C.save(),C.setTransform(1,0,0,1,0,0),C.drawImage(G,W.offsetX,W.offsetY),C.restore(),this.compose()}paintImageMaskXObjectRepeat(x,k){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,W=arguments.length>4?arguments[4]:void 0,G=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;x=this.getObject(x.data,x);const H=this.ctx;H.save();const y=(0,c.getCurrentTransform)(H);H.transform(k,C,_,W,0,0);const w=this._createMaskCanvas(x);H.setTransform(1,0,0,1,w.offsetX-y[4],w.offsetY-y[5]);for(let F=0,N=G.length;F<N;F+=2){const O=o.Util.transform(y,[k,C,_,W,G[F],G[F+1]]),[X,Q]=o.Util.applyTransform([0,0],O);H.drawImage(w.canvas,X,Q)}H.restore(),this.compose()}paintImageMaskXObjectGroup(x){if(!this.contentVisible)return;const k=this.ctx,C=this.current.fillColor,_=this.current.patternFill;for(const W of x){const{data:G,width:H,height:y,transform:w}=W,F=this.cachedCanvases.getCanvas("maskCanvas",H,y),N=F.context;N.save();const O=this.getObject(G,W);L(N,O),N.globalCompositeOperation="source-in",N.fillStyle=_?C.getPattern(N,this,(0,c.getCurrentTransformInverse)(k),A.PathType.FILL):C,N.fillRect(0,0,H,y),N.restore(),k.save(),k.transform(...w),k.scale(1,-1),v(k,F.canvas,0,0,H,y,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(x){if(!this.contentVisible)return;const k=this.getObject(x);if(!k){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(x,k,C,_){if(!this.contentVisible)return;const W=this.getObject(x);if(!W){(0,o.warn)("Dependent image isn't ready yet");return}const G=W.width,H=W.height,y=[];for(let w=0,F=_.length;w<F;w+=2)y.push({transform:[k,0,0,C,_[w],_[w+1]],x:0,y:0,w:G,h:H});this.paintInlineImageXObjectGroup(W,y)}applyTransferMapsToCanvas(x){return this.current.transferMaps!=="none"&&(x.filter=this.current.transferMaps,x.drawImage(x.canvas,0,0),x.filter="none"),x.canvas}applyTransferMapsToBitmap(x){if(this.current.transferMaps==="none")return x.bitmap;const{bitmap:k,width:C,height:_}=x,W=this.cachedCanvases.getCanvas("inlineImage",C,_),G=W.context;return G.filter=this.current.transferMaps,G.drawImage(k,0,0),G.filter="none",W.canvas}paintInlineImageXObject(x){if(!this.contentVisible)return;const k=x.width,C=x.height,_=this.ctx;if(this.save(),!o.isNodeJS){const{filter:H}=_;H!=="none"&&H!==""&&(_.filter="none")}_.scale(1/k,-1/C);let W;if(x.bitmap)W=this.applyTransferMapsToBitmap(x);else if(typeof HTMLElement=="function"&&x instanceof HTMLElement||!x.data)W=x;else{const y=this.cachedCanvases.getCanvas("inlineImage",k,C).context;U(y,x),W=this.applyTransferMapsToCanvas(y)}const G=this._scaleImage(W,(0,c.getCurrentTransformInverse)(_));_.imageSmoothingEnabled=he((0,c.getCurrentTransform)(_),x.interpolate),v(_,G.img,0,0,G.paintWidth,G.paintHeight,0,-C,k,C),this.compose(),this.restore()}paintInlineImageXObjectGroup(x,k){if(!this.contentVisible)return;const C=this.ctx;let _;if(x.bitmap)_=x.bitmap;else{const W=x.width,G=x.height,y=this.cachedCanvases.getCanvas("inlineImage",W,G).context;U(y,x),_=this.applyTransferMapsToCanvas(y)}for(const W of k)C.save(),C.transform(...W.transform),C.scale(1,-1),v(C,_,W.x,W.y,W.w,W.h,0,-1,1,1),C.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(x){}markPointProps(x,k){}beginMarkedContent(x){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(x,k){x==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(x){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(x);const C=this.ctx;this.pendingClip&&(k||(this.pendingClip===re?C.clip("evenodd"):C.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),C.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const x=(0,c.getCurrentTransform)(this.ctx);if(x[1]===0&&x[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(x[0]),Math.abs(x[3]));else{const k=Math.abs(x[0]*x[3]-x[2]*x[1]),C=Math.hypot(x[0],x[2]),_=Math.hypot(x[1],x[3]);this._cachedGetSinglePixelWidth=Math.max(C,_)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:x}=this.current,{a:k,b:C,c:_,d:W}=this.ctx.getTransform();let G,H;if(C===0&&_===0){const y=Math.abs(k),w=Math.abs(W);if(y===w)if(x===0)G=H=1/y;else{const F=y*x;G=H=F<1?1/F:1}else if(x===0)G=1/y,H=1/w;else{const F=y*x,N=w*x;G=F<1?1/F:1,H=N<1?1/N:1}}else{const y=Math.abs(k*W-C*_),w=Math.hypot(k,C),F=Math.hypot(_,W);if(x===0)G=F/y,H=w/y;else{const N=x*y;G=F>N?F/N:1,H=w>N?w/N:1}}this._cachedScaleForStroking[0]=G,this._cachedScaleForStroking[1]=H}return this._cachedScaleForStroking}rescaleAndStroke(x){const{ctx:k}=this,{lineWidth:C}=this.current,[_,W]=this.getScaleForStroking();if(k.lineWidth=C||1,_===1&&W===1){k.stroke();return}const G=k.getLineDash();if(x&&k.save(),k.scale(_,W),G.length>0){const H=Math.max(_,W);k.setLineDash(G.map(y=>y/H)),k.lineDashOffset/=H}k.stroke(),x&&k.restore()}isContentVisible(){for(let x=this.markedContentStack.length-1;x>=0;x--)if(!this.markedContentStack[x].visible)return!1;return!0}}d.CanvasGraphics=Y;for(const M in o.OPS)Y.prototype[M]!==void 0&&(Y.prototype[o.OPS[M]]=Y.prototype[M])}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TilingPattern=d.PathType=void 0,d.getShadingPattern=m,r(2);var o=r(1),c=r(168);const A={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};d.PathType=A;function b(v,p){if(!p)return;const R=p[2]-p[0],U=p[3]-p[1],L=new Path2D;L.rect(p[0],p[1],R,U),v.clip(L)}class P{constructor(){this.constructor===P&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class D extends P{constructor(p){super(),this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let R;this._type==="axial"?R=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(R=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const U of this._colorStops)R.addColorStop(U[0],U[1]);return R}getPattern(p,R,U,L){let T;if(L===A.STROKE||L===A.FILL){const I=R.current.getClippedPathBoundingBox(L,(0,c.getCurrentTransform)(p))||[0,0,0,0],z=Math.ceil(I[2]-I[0])||1,V=Math.ceil(I[3]-I[1])||1,$=R.cachedCanvases.getCanvas("pattern",z,V,!0),j=$.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-I[0],-I[1]),U=o.Util.transform(U,[1,0,0,1,I[0],I[1]]),j.transform(...R.baseTransform),this.matrix&&j.transform(...this.matrix),b(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),T=p.createPattern($.canvas,"no-repeat");const J=new DOMMatrix(U);T.setTransform(J)}else b(p,this._bbox),T=this._createGradient(p);return T}}function u(v,p,R,U,L,T,I,z){const V=p.coords,$=p.colors,j=v.data,J=v.width*4;let he;V[R+1]>V[U+1]&&(he=R,R=U,U=he,he=T,T=I,I=he),V[U+1]>V[L+1]&&(he=U,U=L,L=he,he=I,I=z,z=he),V[R+1]>V[U+1]&&(he=R,R=U,U=he,he=T,T=I,I=he);const le=(V[R]+p.offsetX)*p.scaleX,de=(V[R+1]+p.offsetY)*p.scaleY,fe=(V[U]+p.offsetX)*p.scaleX,re=(V[U+1]+p.offsetY)*p.scaleY,Y=(V[L]+p.offsetX)*p.scaleX,M=(V[L+1]+p.offsetY)*p.scaleY;if(de>=M)return;const x=$[T],k=$[T+1],C=$[T+2],_=$[I],W=$[I+1],G=$[I+2],H=$[z],y=$[z+1],w=$[z+2],F=Math.round(de),N=Math.round(M);let O,X,Q,te,Ae,se,ue,pe;for(let ge=F;ge<=N;ge++){if(ge<re){const Ue=ge<de?0:(de-ge)/(de-re);O=le-(le-fe)*Ue,X=x-(x-_)*Ue,Q=k-(k-W)*Ue,te=C-(C-G)*Ue}else{let Ue;ge>M?Ue=1:re===M?Ue=0:Ue=(re-ge)/(re-M),O=fe-(fe-Y)*Ue,X=_-(_-H)*Ue,Q=W-(W-y)*Ue,te=G-(G-w)*Ue}let me;ge<de?me=0:ge>M?me=1:me=(de-ge)/(de-M),Ae=le-(le-Y)*me,se=x-(x-H)*me,ue=k-(k-y)*me,pe=C-(C-w)*me;const ke=Math.round(Math.min(O,Ae)),we=Math.round(Math.max(O,Ae));let Oe=J*ge+ke*4;for(let Ue=ke;Ue<=we;Ue++)me=(O-Ue)/(O-Ae),me<0?me=0:me>1&&(me=1),j[Oe++]=X-(X-se)*me|0,j[Oe++]=Q-(Q-ue)*me|0,j[Oe++]=te-(te-pe)*me|0,j[Oe++]=255}}function s(v,p,R){const U=p.coords,L=p.colors;let T,I;switch(p.type){case"lattice":const z=p.verticesPerRow,V=Math.floor(U.length/z)-1,$=z-1;for(T=0;T<V;T++){let j=T*z;for(let J=0;J<$;J++,j++)u(v,R,U[j],U[j+1],U[j+z],L[j],L[j+1],L[j+z]),u(v,R,U[j+z+1],U[j+1],U[j+z],L[j+z+1],L[j+1],L[j+z])}break;case"triangles":for(T=0,I=U.length;T<I;T+=3)u(v,R,U[T],U[T+1],U[T+2],L[T],L[T+1],L[T+2]);break;default:throw new Error("illegal figure")}}class l extends P{constructor(p){super(),this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,R,U){const z=Math.floor(this._bounds[0]),V=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-z,j=Math.ceil(this._bounds[3])-V,J=Math.min(Math.ceil(Math.abs($*p[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(j*p[1]*1.1)),3e3),le=$/J,de=j/he,fe={coords:this._coords,colors:this._colors,offsetX:-z,offsetY:-V,scaleX:1/le,scaleY:1/de},re=J+4,Y=he+4,M=U.getCanvas("mesh",re,Y,!1),x=M.context,k=x.createImageData(J,he);if(R){const _=k.data;for(let W=0,G=_.length;W<G;W+=4)_[W]=R[0],_[W+1]=R[1],_[W+2]=R[2],_[W+3]=255}for(const _ of this._figures)s(k,_,fe);return x.putImageData(k,2,2),{canvas:M.canvas,offsetX:z-2*le,offsetY:V-2*de,scaleX:le,scaleY:de}}getPattern(p,R,U,L){b(p,this._bbox);let T;if(L===A.SHADING)T=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(p));else if(T=o.Util.singularValueDecompose2dScale(R.baseTransform),this.matrix){const z=o.Util.singularValueDecompose2dScale(this.matrix);T=[T[0]*z[0],T[1]*z[1]]}const I=this._createMeshCanvas(T,L===A.SHADING?null:this._background,R.cachedCanvases);return L!==A.SHADING&&(p.setTransform(...R.baseTransform),this.matrix&&p.transform(...this.matrix)),p.translate(I.offsetX,I.offsetY),p.scale(I.scaleX,I.scaleY),p.createPattern(I.canvas,"no-repeat")}}class g extends P{getPattern(){return"hotpink"}}function m(v){switch(v[0]){case"RadialAxial":return new D(v);case"Mesh":return new l(v);case"Dummy":return new g}throw new Error(`Unknown IR type: ${v[0]}`)}const a={COLORED:1,UNCOLORED:2};class h{static MAX_PATTERN_SIZE=3e3;constructor(p,R,U,L,T){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=R,this.ctx=U,this.canvasGraphicsFactory=L,this.baseTransform=T}createPatternCanvas(p){const R=this.operatorList,U=this.bbox,L=this.xstep,T=this.ystep,I=this.paintType,z=this.tilingType,V=this.color,$=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+z);const j=U[0],J=U[1],he=U[2],le=U[3],de=o.Util.singularValueDecompose2dScale(this.matrix),fe=o.Util.singularValueDecompose2dScale(this.baseTransform),re=[de[0]*fe[0],de[1]*fe[1]],Y=this.getSizeAndScale(L,this.ctx.canvas.width,re[0]),M=this.getSizeAndScale(T,this.ctx.canvas.height,re[1]),x=p.cachedCanvases.getCanvas("pattern",Y.size,M.size,!0),k=x.context,C=$.createCanvasGraphics(k);C.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(C,I,V);let _=j,W=J,G=he,H=le;return j<0&&(_=0,G+=Math.abs(j)),J<0&&(W=0,H+=Math.abs(J)),k.translate(-(Y.scale*_),-(M.scale*W)),C.transform(Y.scale,0,0,M.scale,0,0),k.save(),this.clipBbox(C,_,W,G,H),C.baseTransform=(0,c.getCurrentTransform)(C.ctx),C.executeOperatorList(R),C.endDrawing(),{canvas:x.canvas,scaleX:Y.scale,scaleY:M.scale,offsetX:_,offsetY:W}}getSizeAndScale(p,R,U){p=Math.abs(p);const L=Math.max(h.MAX_PATTERN_SIZE,R);let T=Math.ceil(p*U);return T>=L?T=L:U=T/p,{scale:U,size:T}}clipBbox(p,R,U,L,T){const I=L-R,z=T-U;p.ctx.rect(R,U,I,z),p.current.updateRectMinMax((0,c.getCurrentTransform)(p.ctx),[R,U,L,T]),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,R,U){const L=p.ctx,T=p.current;switch(R){case a.COLORED:const I=this.ctx;L.fillStyle=I.fillStyle,L.strokeStyle=I.strokeStyle,T.fillColor=I.fillStyle,T.strokeColor=I.strokeStyle;break;case a.UNCOLORED:const z=o.Util.makeHexColor(U[0],U[1],U[2]);L.fillStyle=z,L.strokeStyle=z,T.fillColor=z,T.strokeColor=z;break;default:throw new o.FormatError(`Unsupported paint type: ${R}`)}}getPattern(p,R,U,L){let T=U;L!==A.SHADING&&(T=o.Util.transform(T,R.baseTransform),this.matrix&&(T=o.Util.transform(T,this.matrix)));const I=this.createPatternCanvas(R);let z=new DOMMatrix(T);z=z.translate(I.offsetX,I.offsetY),z=z.scale(1/I.scaleX,1/I.scaleY);const V=p.createPattern(I.canvas,"repeat");return V.setTransform(z),V}}d.TilingPattern=h}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.convertBlackAndWhiteToRGBA=A,d.convertToRGBA=c,d.grayToRGBA=P,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(1);function c(D){switch(D.kind){case o.ImageKind.GRAYSCALE_1BPP:return A(D);case o.ImageKind.RGB_24BPP:return b(D)}return null}function A(D){let{src:u,srcPos:s=0,dest:l,width:g,height:m,nonBlackColor:a=4294967295,inverseDecode:h=!1}=D;const v=o.FeatureTest.isLittleEndian?4278190080:255,[p,R]=h?[a,v]:[v,a],U=g>>3,L=g&7,T=u.length;l=new Uint32Array(l.buffer);let I=0;for(let z=0;z<m;z++){for(const $=s+U;s<$;s++){const j=s<T?u[s]:255;l[I++]=j&128?R:p,l[I++]=j&64?R:p,l[I++]=j&32?R:p,l[I++]=j&16?R:p,l[I++]=j&8?R:p,l[I++]=j&4?R:p,l[I++]=j&2?R:p,l[I++]=j&1?R:p}if(L===0)continue;const V=s<T?u[s++]:255;for(let $=0;$<L;$++)l[I++]=V&1<<7-$?R:p}return{srcPos:s,destPos:I}}function b(D){let{src:u,srcPos:s=0,dest:l,destPos:g=0,width:m,height:a}=D,h=0;const v=u.length>>2,p=new Uint32Array(u.buffer,s,v);if(o.FeatureTest.isLittleEndian){for(;h<v-2;h+=3,g+=4){const R=p[h],U=p[h+1],L=p[h+2];l[g]=R|4278190080,l[g+1]=R>>>24|U<<8|4278190080,l[g+2]=U>>>16|L<<16|4278190080,l[g+3]=L>>>8|4278190080}for(let R=h*4,U=u.length;R<U;R+=3)l[g++]=u[R]|u[R+1]<<8|u[R+2]<<16|4278190080}else{for(;h<v-2;h+=3,g+=4){const R=p[h],U=p[h+1],L=p[h+2];l[g]=R|255,l[g+1]=R<<24|U>>>8|255,l[g+2]=U<<16|L>>>16|255,l[g+3]=L<<8|255}for(let R=h*4,U=u.length;R<U;R+=3)l[g++]=u[R]<<24|u[R+1]<<16|u[R+2]<<8|255}return{srcPos:s,destPos:g}}function P(D,u){if(o.FeatureTest.isLittleEndian)for(let s=0,l=D.length;s<l;s++)u[s]=D[s]*65793|4278190080;else for(let s=0,l=D.length;s<l;s++)u[s]=D[s]*16843008|255}}),((E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GlobalWorkerOptions=void 0;const r=Object.create(null);d.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MessageHandler=void 0,r(2);var o=r(1);const c={DATA:1,ERROR:2},A={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function b(D){switch(D instanceof Error||typeof D=="object"&&D!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new o.AbortException(D.message);case"MissingPDFException":return new o.MissingPDFException(D.message);case"PasswordException":return new o.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new o.UnknownErrorException(D.message,D.details);default:return new o.UnknownErrorException(D.message,D.toString())}}class P{constructor(u,s,l){this.sourceName=u,this.targetName=s,this.comObj=l,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const m=g.data;if(m.targetName!==this.sourceName)return;if(m.stream){this.#t(m);return}if(m.callback){const h=m.callbackId,v=this.callbackCapabilities[h];if(!v)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],m.callback===c.DATA)v.resolve(m.data);else if(m.callback===c.ERROR)v.reject(b(m.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[m.action];if(!a)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){const h=this.sourceName,v=m.sourceName;new Promise(function(p){p(a(m.data))}).then(function(p){l.postMessage({sourceName:h,targetName:v,callback:c.DATA,callbackId:m.callbackId,data:p})},function(p){l.postMessage({sourceName:h,targetName:v,callback:c.ERROR,callbackId:m.callbackId,reason:b(p)})});return}if(m.streamId){this.#e(m);return}a(m.data)},l.addEventListener("message",this._onComObjOnMessage)}on(u,s){const l=this.actionHandler;if(l[u])throw new Error(`There is already an actionName called "${u}"`);l[u]=s}send(u,s,l){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:s},l)}sendWithPromise(u,s,l){const g=this.callbackId++,m=new o.PromiseCapability;this.callbackCapabilities[g]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:g,data:s},l)}catch(a){m.reject(a)}return m.promise}sendWithStream(u,s,l,g){const m=this.streamId++,a=this.sourceName,h=this.targetName,v=this.comObj;return new ReadableStream({start:p=>{const R=new o.PromiseCapability;return this.streamControllers[m]={controller:p,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:a,targetName:h,action:u,streamId:m,data:s,desiredSize:p.desiredSize},g),R.promise},pull:p=>{const R=new o.PromiseCapability;return this.streamControllers[m].pullCall=R,v.postMessage({sourceName:a,targetName:h,stream:A.PULL,streamId:m,desiredSize:p.desiredSize}),R.promise},cancel:p=>{(0,o.assert)(p instanceof Error,"cancel must have a valid reason");const R=new o.PromiseCapability;return this.streamControllers[m].cancelCall=R,this.streamControllers[m].isClosed=!0,v.postMessage({sourceName:a,targetName:h,stream:A.CANCEL,streamId:m,reason:b(p)}),R.promise}},l)}#e(u){const s=u.streamId,l=this.sourceName,g=u.sourceName,m=this.comObj,a=this,h=this.actionHandler[u.action],v={enqueue(p){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,U=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=R,L>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),m.postMessage({sourceName:l,targetName:g,stream:A.ENQUEUE,streamId:s,chunk:p},U)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:l,targetName:g,stream:A.CLOSE,streamId:s}),delete a.streamSinks[s])},error(p){(0,o.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,m.postMessage({sourceName:l,targetName:g,stream:A.ERROR,streamId:s,reason:b(p)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[s]=v,new Promise(function(p){p(h(u.data,v))}).then(function(){m.postMessage({sourceName:l,targetName:g,stream:A.START_COMPLETE,streamId:s,success:!0})},function(p){m.postMessage({sourceName:l,targetName:g,stream:A.START_COMPLETE,streamId:s,reason:b(p)})})}#t(u){const s=u.streamId,l=this.sourceName,g=u.sourceName,m=this.comObj,a=this.streamControllers[s],h=this.streamSinks[s];switch(u.stream){case A.START_COMPLETE:u.success?a.startCall.resolve():a.startCall.reject(b(u.reason));break;case A.PULL_COMPLETE:u.success?a.pullCall.resolve():a.pullCall.reject(b(u.reason));break;case A.PULL:if(!h){m.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,success:!0});break}h.desiredSize<=0&&u.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=u.desiredSize,new Promise(function(v){v(h.onPull?.())}).then(function(){m.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,success:!0})},function(v){m.postMessage({sourceName:l,targetName:g,stream:A.PULL_COMPLETE,streamId:s,reason:b(v)})});break;case A.ENQUEUE:if((0,o.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(u.chunk);break;case A.CLOSE:if((0,o.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#n(a,s);break;case A.ERROR:(0,o.assert)(a,"error should have stream controller"),a.controller.error(b(u.reason)),this.#n(a,s);break;case A.CANCEL_COMPLETE:u.success?a.cancelCall.resolve():a.cancelCall.reject(b(u.reason)),this.#n(a,s);break;case A.CANCEL:if(!h)break;new Promise(function(v){v(h.onCancel?.(b(u.reason)))}).then(function(){m.postMessage({sourceName:l,targetName:g,stream:A.CANCEL_COMPLETE,streamId:s,success:!0})},function(v){m.postMessage({sourceName:l,targetName:g,stream:A.CANCEL_COMPLETE,streamId:s,reason:b(v)})}),h.sinkCapability.reject(b(u.reason)),h.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}}async#n(u,s){await Promise.allSettled([u.startCall?.promise,u.pullCall?.promise,u.cancelCall?.promise]),delete this.streamControllers[s]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d.MessageHandler=P}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=void 0;var o=r(1);class c{#e;#t;constructor(b){let{parsedData:P,rawData:D}=b;this.#e=P,this.#t=D}getRaw(){return this.#t}get(b){return this.#e.get(b)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(b){return this.#e.has(b)}}d.Metadata=c}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionalContentConfig=void 0;var o=r(1),c=r(170);const A=Symbol("INTERNAL");class b{#e=!0;constructor(u,s){this.name=u,this.intent=s}get visible(){return this.#e}_setVisible(u,s){u!==A&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=s}}class P{#e=null;#t=new Map;#n=null;#r=null;constructor(u){if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,this.#r=u.order;for(const s of u.groups)this.#t.set(s.id,new b(s.name,s.intent));if(u.baseState==="OFF")for(const s of this.#t.values())s._setVisible(A,!1);for(const s of u.on)this.#t.get(s)._setVisible(A,!0);for(const s of u.off)this.#t.get(s)._setVisible(A,!1);this.#n=this.getHash()}}#o(u){const s=u.length;if(s<2)return!0;const l=u[0];for(let g=1;g<s;g++){const m=u[g];let a;if(Array.isArray(m))a=this.#o(m);else if(this.#t.has(m))a=this.#t.get(m).visible;else return(0,o.warn)(`Optional content group not found: ${m}`),!0;switch(l){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return l==="And"}isVisible(u){if(this.#t.size===0)return!0;if(!u)return(0,o.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this.#t.has(u.id)?this.#t.get(u.id).visible:((0,o.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this.#o(u.expression);if(!u.policy||u.policy==="AnyOn"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!0}return!1}else if(u.policy==="AllOn"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!0}return!1}else if(u.policy==="AllOff"){for(const s of u.ids){if(!this.#t.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,o.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.#t.has(u)){(0,o.warn)(`Optional content group not found: ${u}`);return}this.#t.get(u)._setVisible(A,!!s),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(u){return this.#t.get(u)||null}getHash(){if(this.#e!==null)return this.#e;const u=new c.MurmurHash3_64;for(const[s,l]of this.#t)u.update(`${s}:${l.visible}`);return this.#e=u.hexdigest()}}d.OptionalContentConfig=P}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFDataTransportStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(168);class A{constructor(u,s){let{length:l,initialData:g,progressiveDone:m=!1,contentDispositionFilename:a=null,disableRange:h=!1,disableStream:v=!1}=u;if((0,o.assert)(s,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m,this._contentDispositionFilename=a,g?.length>0){const p=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=s,this._isStreamingSupported=!v,this._isRangeSupported=!h,this._contentLength=l,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((p,R)=>{this._onReceiveData({begin:p,chunk:R})}),this._pdfDataRangeTransport.addProgressListener((p,R)=>{this._onProgress({loaded:p,total:R})}),this._pdfDataRangeTransport.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){let{begin:s,chunk:l}=u;const g=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(s===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(g):this._queuedChunks.push(g);else{const m=this._rangeReaders.some(function(a){return a._begin!==s?!1:(a._enqueue(g),!0)});(0,o.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(u){u.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:u.loaded}):this._fullRequestReader?.onProgress?.({loaded:u.loaded,total:u.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const s=this._rangeReaders.indexOf(u);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new b(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,s){if(s<=this._progressiveDataLength)return null;const l=new P(this,u,s);return this._pdfDataRangeTransport.requestDataRange(u,s),this._rangeReaders.push(l),l}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(const s of this._rangeReaders.slice(0))s.cancel(u);this._pdfDataRangeTransport.abort()}}d.PDFDataTransportStream=A;class b{constructor(u,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=u,this._done=l||!1,this._filename=(0,c.isPdfFile)(g)?g:null,this._queuedChunks=s||[],this._loaded=0;for(const m of this._queuedChunks)this._loaded+=m.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const u=new o.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class P{constructor(u,s,l){this._stream=u,this._begin=s,this._end=l,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const u=new o.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFetchStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var o=r(1),c=r(182);function A(l,g,m){return{method:"GET",headers:l,signal:m.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function b(l){const g=new Headers;for(const m in l){const a=l[m];a!==void 0&&g.append(m,a)}return g}function P(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:((0,o.warn)(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class D{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(g,m){if(m<=this._progressiveDataLength)return null;const a=new s(this,g,m);return this._rangeRequestReaders.push(a),a}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(const m of this._rangeRequestReaders.slice(0))m.cancel(g)}}d.PDFFetchStream=D;class u{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const m=g.source;this._withCredentials=m.withCredentials||!1,this._contentLength=m.length,this._headersCapability=new o.PromiseCapability,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._headers=b(this._stream.httpHeaders);const a=m.url;fetch(a,A(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,c.validateResponseStatus)(h.status))throw(0,c.createResponseStatusError)(h.status,a);this._reader=h.body.getReader(),this._headersCapability.resolve();const v=U=>h.headers.get(U),{allowRangeRequests:p,suggestedLength:R}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=R||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:g,done:m}=await this._reader.read();return m?{value:g,done:m}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:P(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}class s{constructor(g,m,a){this._stream=g,this._reader=null,this._loaded=0;const h=g.source;this._withCredentials=h.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!h.disableStream,this._abortController=new AbortController,this._headers=b(this._stream.httpHeaders),this._headers.append("Range",`bytes=${m}-${a-1}`);const v=h.url;fetch(v,A(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,c.validateResponseStatus)(p.status))throw(0,c.createResponseStatusError)(p.status,v);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:g,done:m}=await this._reader.read();return m?{value:g,done:m}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded}),{value:P(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createResponseStatusError=D,d.extractFilenameFromHeader=P,d.validateRangeRequestCapabilities=b,d.validateResponseStatus=u;var o=r(1),c=r(183),A=r(168);function b(s){let{getResponseHeader:l,isHttp:g,rangeChunkSize:m,disableRange:a}=s;const h={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(l("Content-Length"),10);return!Number.isInteger(v)||(h.suggestedLength=v,v<=2*m)||a||!g||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(h.allowRangeRequests=!0),h}function P(s){const l=s("Content-Disposition");if(l){let g=(0,c.getFilenameFromContentDispositionHeader)(l);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,A.isPdfFile)(g))return g}return null}function D(s,l){return s===404||s===0&&l.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+l+'".'):new o.UnexpectedResponseException(`Unexpected server response (${s}) while retrieving PDF "${l}".`,s)}function u(s){return s===200||s===206}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getFilenameFromContentDispositionHeader=c,r(89),r(149);var o=r(1);function c(A){let b=!0,P=D("filename\\*","i").exec(A);if(P){P=P[1];let h=g(P);return h=unescape(h),h=m(h),h=a(h),s(h)}if(P=l(A),P){const h=a(P);return s(h)}if(P=D("filename","i").exec(A),P){P=P[1];let h=g(P);return h=a(h),s(h)}function D(h,v){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function u(h,v){if(h){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const p=new TextDecoder(h,{fatal:!0}),R=(0,o.stringToBytes)(v);v=p.decode(R),b=!1}catch{}}return v}function s(h){return b&&/[\x80-\xff]/.test(h)&&(h=u("utf-8",h),b&&(h=u("iso-8859-1",h))),h}function l(h){const v=[];let p;const R=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=R.exec(h))!==null;){let[,L,T,I]=p;if(L=parseInt(L,10),L in v){if(L===0)break;continue}v[L]=[T,I]}const U=[];for(let L=0;L<v.length&&L in v;++L){let[T,I]=v[L];I=g(I),T&&(I=unescape(I),L===0&&(I=m(I))),U.push(I)}return U.join("")}function g(h){if(h.startsWith('"')){const v=h.slice(1).split('\\"');for(let p=0;p<v.length;++p){const R=v[p].indexOf('"');R!==-1&&(v[p]=v[p].slice(0,R),v.length=p+1),v[p]=v[p].replaceAll(/\\(.)/g,"$1")}h=v.join('"')}return h}function m(h){const v=h.indexOf("'");if(v===-1)return h;const p=h.slice(0,v),U=h.slice(v+1).replace(/^[^']*'/,"");return u(p,U)}function a(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,p,R,U){if(R==="q"||R==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(L,T){return String.fromCharCode(parseInt(T,16))}),u(p,U);try{U=atob(U)}catch{}return u(p,U)})}return""}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNetworkStream=void 0,r(89);var o=r(1),c=r(182);const A=200,b=206;function P(g){const m=g.response;return typeof m!="string"?m:(0,o.stringToBytes)(m).buffer}class D{constructor(m){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=m,this.isHttp=/^https?:/i.test(m),this.httpHeaders=this.isHttp&&a.httpHeaders||Object.create(null),this.withCredentials=a.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(m,a,h){const v={begin:m,end:a};for(const p in h)v[p]=h[p];return this.request(v)}requestFull(m){return this.request(m)}request(m){const a=new XMLHttpRequest,h=this.currXhrId++,v=this.pendingRequests[h]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const R=this.httpHeaders[p];R!==void 0&&a.setRequestHeader(p,R)}return this.isHttp&&"begin"in m&&"end"in m?(a.setRequestHeader("Range",`bytes=${m.begin}-${m.end-1}`),v.expectedStatus=b):v.expectedStatus=A,a.responseType="arraybuffer",m.onError&&(a.onerror=function(p){m.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,h),a.onprogress=this.onProgress.bind(this,h),v.onHeadersReceived=m.onHeadersReceived,v.onDone=m.onDone,v.onError=m.onError,v.onProgress=m.onProgress,a.send(null),h}onProgress(m,a){const h=this.pendingRequests[m];h&&h.onProgress?.(a)}onStateChange(m,a){const h=this.pendingRequests[m];if(!h)return;const v=h.xhr;if(v.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),v.readyState!==4||!(m in this.pendingRequests))return;if(delete this.pendingRequests[m],v.status===0&&this.isHttp){h.onError?.(v.status);return}const p=v.status||A;if(!(p===A&&h.expectedStatus===b)&&p!==h.expectedStatus){h.onError?.(v.status);return}const U=P(v);if(p===b){const L=v.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(L);h.onDone({begin:parseInt(T[1],10),chunk:U})}else U?h.onDone({begin:0,chunk:U}):h.onError?.(v.status)}getRequestXhr(m){return this.pendingRequests[m].xhr}isPendingRequest(m){return m in this.pendingRequests}abortRequest(m){const a=this.pendingRequests[m].xhr;delete this.pendingRequests[m],a.abort()}}class u{constructor(m){this._source=m,this._manager=new D(m.url,{httpHeaders:m.httpHeaders,withCredentials:m.withCredentials}),this._rangeChunkSize=m.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(m){const a=this._rangeRequestReaders.indexOf(m);a>=0&&this._rangeRequestReaders.splice(a,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(m,a){const h=new l(this._manager,m,a);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(m){this._fullRequestReader?.cancel(m);for(const a of this._rangeRequestReaders.slice(0))a.cancel(m)}}d.PDFNetworkStream=u;class s{constructor(m,a){this._manager=m;const h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._fullRequestId=m.requestFull(h),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=a.disableRange||!1,this._contentLength=a.length,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const m=this._fullRequestId,a=this._manager.getRequestXhr(m),h=R=>a.getResponseHeader(R),{allowRangeRequests:v,suggestedLength:p}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}_onDone(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(m){this._storedError=(0,c.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(m){this.onProgress?.({loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const m=new o.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0,this._headersReceivedCapability.reject(m);for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(m,a,h){this._manager=m;const v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._requestId=m.requestRange(a,h,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(m){const a=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a,this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(m){this._storedError=(0,c.createResponseStatusError)(m,this._url);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(m){this.isStreamingSupported||this.onProgress?.({loaded:m.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const m=new o.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNodeStream=void 0,r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var o=r(1),c=r(182);const A=/^file:\/\/\/[a-zA-Z]:\//;function b(h){const v=require$$6,p=v.parse(h);return p.protocol==="file:"||p.host?p:/^[a-z]:[/\\]/i.test(h)?v.parse(`file:///${h}`):(p.host||(p.protocol="file:"),p)}class P{constructor(v){this.source=v,this.url=b(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new l(this),this._fullRequestReader}getRangeReader(v,p){if(p<=this._progressiveDataLength)return null;const R=this.isFsUrl?new a(this,v,p):new g(this,v,p);return this._rangeRequestReaders.push(R),R}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const p of this._rangeRequestReaders.slice(0))p.cancel(v)}}d.PDFNodeStream=P;class D{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=v.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const p=v.source;this._isStreamingSupported=!p.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function s(h,v){return{protocol:h.protocol,auth:h.auth,host:h.hostname,port:h.port,path:h.path,method:"GET",headers:v}}class l extends D{constructor(v){super(v);const p=R=>{if(R.statusCode===404){const I=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I,this._headersCapability.reject(I);return}this._headersCapability.resolve(),this._setReadableStream(R);const U=I=>this._readableStream.headers[I.toLowerCase()],{allowRangeRequests:L,suggestedLength:T}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=T||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const R=require$$6;this._request=R.request(s(this._url,v.httpHeaders),p)}else{const R=require$$6;this._request=R.request(s(this._url,v.httpHeaders),p)}this._request.on("error",R=>{this._storedError=R,this._headersCapability.reject(R)}),this._request.end()}}class g extends u{constructor(v,p,R){super(v),this._httpHeaders={};for(const L in v.httpHeaders){const T=v.httpHeaders[L];T!==void 0&&(this._httpHeaders[L]=T)}this._httpHeaders.Range=`bytes=${p}-${R-1}`;const U=L=>{if(L.statusCode===404){const T=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=T;return}this._setReadableStream(L)};if(this._request=null,this._url.protocol==="http:"){const L=require$$6;this._request=L.request(s(this._url,this._httpHeaders),U)}else{const L=require$$6;this._request=L.request(s(this._url,this._httpHeaders),U)}this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class m extends D{constructor(v){super(v);let p=decodeURIComponent(this._url.path);A.test(this._url.href)&&(p=p.replace(/^\//,""));const R=require$$6;R.lstat(p,(U,L)=>{if(U){U.code==="ENOENT"&&(U=new o.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=L.size,this._setReadableStream(R.createReadStream(p)),this._headersCapability.resolve()})}}class a extends u{constructor(v,p,R){super(v);let U=decodeURIComponent(this._url.path);A.test(this._url.href)&&(U=U.replace(/^\//,""));const L=require$$6;this._setReadableStream(L.createReadStream(U,{start:p,end:R-1}))}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SVGGraphics=void 0,r(84),r(86),r(87),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(187);var o=r(168),c=r(1);const A={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},b="http://www.w3.org/XML/1998/namespace",P="http://www.w3.org/1999/xlink",D=["butt","round","square"],u=["miter","round","bevel"],s=function(L){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([L],{type:T}));const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let V=`data:${T};base64,`;for(let $=0,j=L.length;$<j;$+=3){const J=L[$]&255,he=L[$+1]&255,le=L[$+2]&255,de=J>>2,fe=(J&3)<<4|he>>4,re=$+1<j?(he&15)<<2|le>>6:64,Y=$+2<j?le&63:64;V+=z[de]+z[fe]+z[re]+z[Y]}return V},l=(function(){const L=new Uint8Array([137,80,78,71,13,10,26,10]),T=12,I=new Int32Array(256);for(let le=0;le<256;le++){let de=le;for(let fe=0;fe<8;fe++)de=de&1?3988292384^de>>1&2147483647:de>>1&2147483647;I[le]=de}function z(le,de,fe){let re=-1;for(let Y=de;Y<fe;Y++){const M=(re^le[Y])&255,x=I[M];re=re>>>8^x}return re^-1}function V(le,de,fe,re){let Y=re;const M=de.length;fe[Y]=M>>24&255,fe[Y+1]=M>>16&255,fe[Y+2]=M>>8&255,fe[Y+3]=M&255,Y+=4,fe[Y]=le.charCodeAt(0)&255,fe[Y+1]=le.charCodeAt(1)&255,fe[Y+2]=le.charCodeAt(2)&255,fe[Y+3]=le.charCodeAt(3)&255,Y+=4,fe.set(de,Y),Y+=de.length;const x=z(fe,re+4,Y);fe[Y]=x>>24&255,fe[Y+1]=x>>16&255,fe[Y+2]=x>>8&255,fe[Y+3]=x&255}function $(le,de,fe){let re=1,Y=0;for(let M=de;M<fe;++M)re=(re+(le[M]&255))%65521,Y=(Y+re)%65521;return Y<<16|re}function j(le){if(!c.isNodeJS)return J(le);try{const de=parseInt(process.versions.node)>=8?le:Buffer.from(le),fe=require$$6.deflateSync(de,{level:9});return fe instanceof Uint8Array?fe:new Uint8Array(fe)}catch(de){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+de)}return J(le)}function J(le){let de=le.length;const fe=65535,re=Math.ceil(de/fe),Y=new Uint8Array(2+de+re*5+4);let M=0;Y[M++]=120,Y[M++]=156;let x=0;for(;de>fe;)Y[M++]=0,Y[M++]=255,Y[M++]=255,Y[M++]=0,Y[M++]=0,Y.set(le.subarray(x,x+fe),M),M+=fe,x+=fe,de-=fe;Y[M++]=1,Y[M++]=de&255,Y[M++]=de>>8&255,Y[M++]=~de&65535&255,Y[M++]=(~de&65535)>>8&255,Y.set(le.subarray(x),M),M+=le.length-x;const k=$(le,0,le.length);return Y[M++]=k>>24&255,Y[M++]=k>>16&255,Y[M++]=k>>8&255,Y[M++]=k&255,Y}function he(le,de,fe,re){const Y=le.width,M=le.height;let x,k,C;const _=le.data;switch(de){case c.ImageKind.GRAYSCALE_1BPP:k=0,x=1,C=Y+7>>3;break;case c.ImageKind.RGB_24BPP:k=2,x=8,C=Y*3;break;case c.ImageKind.RGBA_32BPP:k=6,x=8,C=Y*4;break;default:throw new Error("invalid format")}const W=new Uint8Array((1+C)*M);let G=0,H=0;for(let X=0;X<M;++X)W[G++]=0,W.set(_.subarray(H,H+C),G),H+=C,G+=C;if(de===c.ImageKind.GRAYSCALE_1BPP&&re){G=0;for(let X=0;X<M;X++){G++;for(let Q=0;Q<C;Q++)W[G++]^=255}}const y=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,M>>24&255,M>>16&255,M>>8&255,M&255,x,k,0,0,0]),w=j(W),F=L.length+T*3+y.length+w.length,N=new Uint8Array(F);let O=0;return N.set(L,O),O+=L.length,V("IHDR",y,N,O),O+=T+y.length,V("IDATA",w,N,O),O+=T+w.length,V("IEND",new Uint8Array(0),N,O),s(N,"image/png",fe)}return function(de,fe,re){const Y=de.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:de.kind;return he(de,Y,fe,re)}})();class g{constructor(){this.fontSizeScale=1,this.fontWeight=A.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=A.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(T,I){this.x=T,this.y=I}}function m(L){let T=[];const I=[];for(const z of L){if(z.fn==="save"){T.push({fnId:92,fn:"group",items:[]}),I.push(T),T=T.at(-1).items;continue}z.fn==="restore"?T=I.pop():T.push(z)}return T}function a(L){if(Number.isInteger(L))return L.toString();const T=L.toFixed(10);let I=T.length-1;if(T[I]!=="0")return T;do I--;while(T[I]==="0");return T.substring(0,T[I]==="."?I:I+1)}function h(L){if(L[4]===0&&L[5]===0){if(L[1]===0&&L[2]===0)return L[0]===1&&L[3]===1?"":`scale(${a(L[0])} ${a(L[3])})`;if(L[0]===L[3]&&L[1]===-L[2]){const T=Math.acos(L[0])*180/Math.PI;return`rotate(${a(T)})`}}else if(L[0]===1&&L[1]===0&&L[2]===0&&L[3]===1)return`translate(${a(L[4])} ${a(L[5])})`;return`matrix(${a(L[0])} ${a(L[1])} ${a(L[2])} ${a(L[3])} ${a(L[4])} ${a(L[5])})`}let v=0,p=0,R=0;class U{constructor(T,I){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new g,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=T,this.objs=I,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!z,this._operatorIdMapping=[];for(const V in c.OPS)this._operatorIdMapping[c.OPS[V]]=V}getObject(T){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof T=="string"?T.startsWith("g_")?this.commonObjs.get(T):this.objs.get(T):I}save(){this.transformStack.push(this.transformMatrix);const T=this.current;this.extraStack.push(T),this.current=T.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(T){this.save(),this.executeOpTree(T),this.restore()}loadDependencies(T){const I=T.fnArray,z=T.argsArray;for(let V=0,$=I.length;V<$;V++)if(I[V]===c.OPS.dependency)for(const j of z[V]){const J=j.startsWith("g_")?this.commonObjs:this.objs,he=new Promise(le=>{J.get(j,le)});this.current.dependencies.push(he)}return Promise.all(this.current.dependencies)}transform(T,I,z,V,$,j){const J=[T,I,z,V,$,j];this.transformMatrix=c.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(T,I){this.viewport=I;const z=this._initialize(I);return this.loadDependencies(T).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(T)),z))}convertOpList(T){const I=this._operatorIdMapping,z=T.argsArray,V=T.fnArray,$=[];for(let j=0,J=V.length;j<J;j++){const he=V[j];$.push({fnId:he,fn:I[he],args:z[j]})}return m($)}executeOpTree(T){for(const I of T){const z=I.fn,V=I.fnId,$=I.args;switch(V|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading($);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText($[0],$[1]);break;case c.OPS.setFont:this.setFont($);break;case c.OPS.showText:this.showText($[0]);break;case c.OPS.showSpacedText:this.showText($[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText($[0],$[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing($[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing($[0]);break;case c.OPS.setHScale:this.setHScale($[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix($[0],$[1],$[2],$[3],$[4],$[5]);break;case c.OPS.setTextRise:this.setTextRise($[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode($[0]);break;case c.OPS.setLineWidth:this.setLineWidth($[0]);break;case c.OPS.setLineJoin:this.setLineJoin($[0]);break;case c.OPS.setLineCap:this.setLineCap($[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit($[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor($[0],$[1],$[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor($[0],$[1],$[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN($);break;case c.OPS.setFillColorN:this.setFillColorN($);break;case c.OPS.shadingFill:this.shadingFill($[0]);break;case c.OPS.setDash:this.setDash($[0],$[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent($[0]);break;case c.OPS.setFlatness:this.setFlatness($[0]);break;case c.OPS.setGState:this.setGState($[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject($[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject($[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject($[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin($[0],$[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform($[0],$[1],$[2],$[3],$[4],$[5]);break;case c.OPS.constructPath:this.constructPath($[0],$[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(I.items);break;default:(0,c.warn)(`Unimplemented operator ${z}`);break}}}setWordSpacing(T){this.current.wordSpacing=T}setCharSpacing(T){this.current.charSpacing=T}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(T,I,z,V,$,j){const J=this.current;J.textMatrix=J.lineMatrix=[T,I,z,V,$,j],J.textMatrixScale=Math.hypot(T,I),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${a(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",a(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const T=this.current;T.x=T.lineX=0,T.y=T.lineY=0,T.textMatrix=c.IDENTITY_MATRIX,T.lineMatrix=c.IDENTITY_MATRIX,T.textMatrixScale=1,T.tspan=this.svgFactory.createElement("svg:tspan"),T.txtElement=this.svgFactory.createElement("svg:text"),T.txtgrp=this.svgFactory.createElement("svg:g"),T.xcoords=[],T.ycoords=[]}moveText(T,I){const z=this.current;z.x=z.lineX+=T,z.y=z.lineY+=I,z.xcoords=[],z.ycoords=[],z.tspan=this.svgFactory.createElement("svg:tspan"),z.tspan.setAttributeNS(null,"font-family",z.fontFamily),z.tspan.setAttributeNS(null,"font-size",`${a(z.fontSize)}px`),z.tspan.setAttributeNS(null,"y",a(-z.y))}showText(T){const I=this.current,z=I.font,V=I.fontSize;if(V===0)return;const $=I.fontSizeScale,j=I.charSpacing,J=I.wordSpacing,he=I.fontDirection,le=I.textHScale*he,de=z.vertical,fe=de?1:-1,re=z.defaultVMetrics,Y=V*I.fontMatrix[0];let M=0;for(const C of T){if(C===null){M+=he*J;continue}else if(typeof C=="number"){M+=fe*C*V/1e3;continue}const _=(C.isSpace?J:0)+j,W=C.fontChar;let G,H,y=C.width;if(de){let F;const N=C.vmetric||re;F=C.vmetric?N[1]:y*.5,F=-F*Y;const O=N[2]*Y;y=N?-N[0]:y,G=F/$,H=(M+O)/$}else G=M/$,H=0;(C.isInFont||z.missingFile)&&(I.xcoords.push(I.x+G),de&&I.ycoords.push(-I.y+H),I.tspan.textContent+=W);const w=de?y*Y-_*he:y*Y+_*he;M+=w}I.tspan.setAttributeNS(null,"x",I.xcoords.map(a).join(" ")),de?I.tspan.setAttributeNS(null,"y",I.ycoords.map(a).join(" ")):I.tspan.setAttributeNS(null,"y",a(-I.y)),de?I.y-=M:I.x+=M*le,I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${a(I.fontSize)}px`),I.fontStyle!==A.fontStyle&&I.tspan.setAttributeNS(null,"font-style",I.fontStyle),I.fontWeight!==A.fontWeight&&I.tspan.setAttributeNS(null,"font-weight",I.fontWeight);const x=I.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(x===c.TextRenderingMode.FILL||x===c.TextRenderingMode.FILL_STROKE?(I.fillColor!==A.fillColor&&I.tspan.setAttributeNS(null,"fill",I.fillColor),I.fillAlpha<1&&I.tspan.setAttributeNS(null,"fill-opacity",I.fillAlpha)):I.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?I.tspan.setAttributeNS(null,"fill","transparent"):I.tspan.setAttributeNS(null,"fill","none"),x===c.TextRenderingMode.STROKE||x===c.TextRenderingMode.FILL_STROKE){const C=1/(I.textMatrixScale||1);this._setStrokeAttributes(I.tspan,C)}let k=I.textMatrix;I.textRise!==0&&(k=k.slice(),k[5]+=I.textRise),I.txtElement.setAttributeNS(null,"transform",`${h(k)} scale(${a(le)}, -1)`),I.txtElement.setAttributeNS(b,"xml:space","preserve"),I.txtElement.append(I.tspan),I.txtgrp.append(I.txtElement),this._ensureTransformGroup().append(I.txtElement)}setLeadingMoveText(T,I){this.setLeading(-I),this.moveText(T,I)}addFontStyle(T){if(!T.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const I=s(T.data,T.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${T.loadedName}"; src: url(${I}); }
`}setFont(T){const I=this.current,z=this.commonObjs.get(T[0]);let V=T[1];I.font=z,this.embedFonts&&!z.missingFile&&!this.embeddedFonts[z.loadedName]&&(this.addFontStyle(z),this.embeddedFonts[z.loadedName]=z),I.fontMatrix=z.fontMatrix||c.FONT_IDENTITY_MATRIX;let $="normal";z.black?$="900":z.bold&&($="bold");const j=z.italic?"italic":"normal";V<0?(V=-V,I.fontDirection=-1):I.fontDirection=1,I.fontSize=V,I.fontFamily=z.loadedName,I.fontWeight=$,I.fontStyle=j,I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"y",a(-I.y)),I.xcoords=[],I.ycoords=[]}endText(){const T=this.current;T.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&T.txtElement?.hasChildNodes()&&(T.element=T.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(T){T>0&&(this.current.lineWidth=T)}setLineCap(T){this.current.lineCap=D[T]}setLineJoin(T){this.current.lineJoin=u[T]}setMiterLimit(T){this.current.miterLimit=T}setStrokeAlpha(T){this.current.strokeAlpha=T}setStrokeRGBColor(T,I,z){this.current.strokeColor=c.Util.makeHexColor(T,I,z)}setFillAlpha(T){this.current.fillAlpha=T}setFillRGBColor(T,I,z){this.current.fillColor=c.Util.makeHexColor(T,I,z),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(T){this.current.strokeColor=this._makeColorN_Pattern(T)}setFillColorN(T){this.current.fillColor=this._makeColorN_Pattern(T)}shadingFill(T){const{width:I,height:z}=this.viewport,V=c.Util.inverseTransform(this.transformMatrix),[$,j,J,he]=c.Util.getAxialAlignedBoundingBox([0,0,I,z],V),le=this.svgFactory.createElement("svg:rect");le.setAttributeNS(null,"x",$),le.setAttributeNS(null,"y",j),le.setAttributeNS(null,"width",J-$),le.setAttributeNS(null,"height",he-j),le.setAttributeNS(null,"fill",this._makeShadingPattern(T)),this.current.fillAlpha<1&&le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(le)}_makeColorN_Pattern(T){return T[0]==="TilingPattern"?this._makeTilingPattern(T):this._makeShadingPattern(T)}_makeTilingPattern(T){const I=T[1],z=T[2],V=T[3]||c.IDENTITY_MATRIX,[$,j,J,he]=T[4],le=T[5],de=T[6],fe=T[7],re=`shading${R++}`,[Y,M,x,k]=c.Util.normalizeRect([...c.Util.applyTransform([$,j],V),...c.Util.applyTransform([J,he],V)]),[C,_]=c.Util.singularValueDecompose2dScale(V),W=le*C,G=de*_,H=this.svgFactory.createElement("svg:pattern");H.setAttributeNS(null,"id",re),H.setAttributeNS(null,"patternUnits","userSpaceOnUse"),H.setAttributeNS(null,"width",W),H.setAttributeNS(null,"height",G),H.setAttributeNS(null,"x",`${Y}`),H.setAttributeNS(null,"y",`${M}`);const y=this.svg,w=this.transformMatrix,F=this.current.fillColor,N=this.current.strokeColor,O=this.svgFactory.create(x-Y,k-M);if(this.svg=O,this.transformMatrix=V,fe===2){const X=c.Util.makeHexColor(...I);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(z)),this.svg=y,this.transformMatrix=w,this.current.fillColor=F,this.current.strokeColor=N,H.append(O.childNodes[0]),this.defs.append(H),`url(#${re})`}_makeShadingPattern(T){switch(typeof T=="string"&&(T=this.objs.get(T)),T[0]){case"RadialAxial":const I=`shading${R++}`,z=T[3];let V;switch(T[1]){case"axial":const $=T[4],j=T[5];V=this.svgFactory.createElement("svg:linearGradient"),V.setAttributeNS(null,"id",I),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"x1",$[0]),V.setAttributeNS(null,"y1",$[1]),V.setAttributeNS(null,"x2",j[0]),V.setAttributeNS(null,"y2",j[1]);break;case"radial":const J=T[4],he=T[5],le=T[6],de=T[7];V=this.svgFactory.createElement("svg:radialGradient"),V.setAttributeNS(null,"id",I),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"cx",he[0]),V.setAttributeNS(null,"cy",he[1]),V.setAttributeNS(null,"r",de),V.setAttributeNS(null,"fx",J[0]),V.setAttributeNS(null,"fy",J[1]),V.setAttributeNS(null,"fr",le);break;default:throw new Error(`Unknown RadialAxial type: ${T[1]}`)}for(const $ of z){const j=this.svgFactory.createElement("svg:stop");j.setAttributeNS(null,"offset",$[0]),j.setAttributeNS(null,"stop-color",$[1]),V.append(j)}return this.defs.append(V),`url(#${I})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${T[0]}`)}}setDash(T,I){this.current.dashArray=T,this.current.dashPhase=I}constructPath(T,I){const z=this.current;let V=z.x,$=z.y,j=[],J=0;for(const he of T)switch(he|0){case c.OPS.rectangle:V=I[J++],$=I[J++];const le=I[J++],de=I[J++],fe=V+le,re=$+de;j.push("M",a(V),a($),"L",a(fe),a($),"L",a(fe),a(re),"L",a(V),a(re),"Z");break;case c.OPS.moveTo:V=I[J++],$=I[J++],j.push("M",a(V),a($));break;case c.OPS.lineTo:V=I[J++],$=I[J++],j.push("L",a(V),a($));break;case c.OPS.curveTo:V=I[J+4],$=I[J+5],j.push("C",a(I[J]),a(I[J+1]),a(I[J+2]),a(I[J+3]),a(V),a($)),J+=6;break;case c.OPS.curveTo2:j.push("C",a(V),a($),a(I[J]),a(I[J+1]),a(I[J+2]),a(I[J+3])),V=I[J+2],$=I[J+3],J+=4;break;case c.OPS.curveTo3:V=I[J+2],$=I[J+3],j.push("C",a(I[J]),a(I[J+1]),a(V),a($),a(V),a($)),J+=4;break;case c.OPS.closePath:j.push("Z");break}j=j.join(" "),z.path&&T.length>0&&T[0]!==c.OPS.rectangle&&T[0]!==c.OPS.moveTo?j=z.path.getAttributeNS(null,"d")+j:(z.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(z.path)),z.path.setAttributeNS(null,"d",j),z.path.setAttributeNS(null,"fill","none"),z.element=z.path,z.setCurrentPoint(V,$)}endPath(){const T=this.current;if(T.path=null,!this.pendingClip)return;if(!T.element){this.pendingClip=null;return}const I=`clippath${v++}`,z=this.svgFactory.createElement("svg:clipPath");z.setAttributeNS(null,"id",I),z.setAttributeNS(null,"transform",h(this.transformMatrix));const V=T.element.cloneNode(!0);if(this.pendingClip==="evenodd"?V.setAttributeNS(null,"clip-rule","evenodd"):V.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,z.append(V),this.defs.append(z),T.activeClipUrl){T.clipGroup=null;for(const $ of this.extraStack)$.clipGroup=null;z.setAttributeNS(null,"clip-path",T.activeClipUrl)}T.activeClipUrl=`url(#${I})`,this.tgrp=null}clip(T){this.pendingClip=T}closePath(){const T=this.current;if(T.path){const I=`${T.path.getAttributeNS(null,"d")}Z`;T.path.setAttributeNS(null,"d",I)}}setLeading(T){this.current.leading=-T}setTextRise(T){this.current.textRise=T}setTextRenderingMode(T){this.current.textRenderingMode=T}setHScale(T){this.current.textHScale=T/100}setRenderingIntent(T){}setFlatness(T){}setGState(T){for(const[I,z]of T)switch(I){case"LW":this.setLineWidth(z);break;case"LC":this.setLineCap(z);break;case"LJ":this.setLineJoin(z);break;case"ML":this.setMiterLimit(z);break;case"D":this.setDash(z[0],z[1]);break;case"RI":this.setRenderingIntent(z);break;case"FL":this.setFlatness(z);break;case"Font":this.setFont(z);break;case"CA":this.setStrokeAlpha(z);break;case"ca":this.setFillAlpha(z);break;default:(0,c.warn)(`Unimplemented graphic state operator ${I}`);break}}fill(){const T=this.current;T.element&&(T.element.setAttributeNS(null,"fill",T.fillColor),T.element.setAttributeNS(null,"fill-opacity",T.fillAlpha),this.endPath())}stroke(){const T=this.current;T.element&&(this._setStrokeAttributes(T.element),T.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(T){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const z=this.current;let V=z.dashArray;I!==1&&V.length>0&&(V=V.map(function($){return I*$})),T.setAttributeNS(null,"stroke",z.strokeColor),T.setAttributeNS(null,"stroke-opacity",z.strokeAlpha),T.setAttributeNS(null,"stroke-miterlimit",a(z.miterLimit)),T.setAttributeNS(null,"stroke-linecap",z.lineCap),T.setAttributeNS(null,"stroke-linejoin",z.lineJoin),T.setAttributeNS(null,"stroke-width",a(I*z.lineWidth)+"px"),T.setAttributeNS(null,"stroke-dasharray",V.map(a).join(" ")),T.setAttributeNS(null,"stroke-dashoffset",a(I*z.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width","1px"),T.setAttributeNS(null,"height","1px"),T.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(T)}paintImageXObject(T){const I=this.getObject(T);if(!I){(0,c.warn)(`Dependent image with object ID ${T} is not ready yet`);return}this.paintInlineImageXObject(I)}paintInlineImageXObject(T,I){const z=T.width,V=T.height,$=l(T,this.forceDataSchema,!!I),j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",a(z)),j.setAttributeNS(null,"height",a(V)),this.current.element=j,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(P,"xlink:href",$),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",a(-V)),J.setAttributeNS(null,"width",a(z)+"px"),J.setAttributeNS(null,"height",a(V)+"px"),J.setAttributeNS(null,"transform",`scale(${a(1/z)} ${a(-1/V)})`),I?I.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(T){const I=this.getObject(T.data,T);if(I.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const z=this.current,V=I.width,$=I.height,j=z.fillColor;z.maskId=`mask${p++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",z.maskId);const he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",a(V)),he.setAttributeNS(null,"height",a($)),he.setAttributeNS(null,"fill",j),he.setAttributeNS(null,"mask",`url(#${z.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(he),this.paintInlineImageXObject(I,J)}paintFormXObjectBegin(T,I){if(Array.isArray(T)&&T.length===6&&this.transform(T[0],T[1],T[2],T[3],T[4],T[5]),I){const z=I[2]-I[0],V=I[3]-I[1],$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x",I[0]),$.setAttributeNS(null,"y",I[1]),$.setAttributeNS(null,"width",a(z)),$.setAttributeNS(null,"height",a(V)),this.current.element=$,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(T){const I=this.svgFactory.create(T.width,T.height),z=this.svgFactory.createElement("svg:defs");I.append(z),this.defs=z;const V=this.svgFactory.createElement("svg:g");return V.setAttributeNS(null,"transform",h(T.transform)),I.append(V),this.svg=V,I}_ensureClipGroup(){if(!this.current.clipGroup){const T=this.svgFactory.createElement("svg:g");T.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(T),this.current.clipGroup=T}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}d.SVGGraphics=U}),((E,d,r)=>{var o=r(3),c=r(188),A=r(193);o({target:"Array",proto:!0},{group:function(P){var D=arguments.length>1?arguments[1]:void 0;return c(this,P,D)}}),A("group")}),((E,d,r)=>{var o=r(99),c=r(14),A=r(13),b=r(40),P=r(18),D=r(64),u=r(189),s=r(108),l=Array,g=c([].push);E.exports=function(m,a,h,v){for(var p=b(m),R=A(p),U=o(a,h),L=u(null),T=D(R),I=0,z,V,$;T>I;I++)$=R[I],V=P(U($,I,p)),V in L?g(L[V],$):L[V]=[$];if(v&&(z=v(p),z!==l))for(V in L)L[V]=s(z,L[V]);return L}}),((E,d,r)=>{var o=r(47),c=r(190),A=r(66),b=r(55),P=r(192),D=r(43),u=r(54),s=">",l="<",g="prototype",m="script",a=u("IE_PROTO"),h=function(){},v=function(T){return l+m+s+T+l+"/"+m+s},p=function(T){T.write(v("")),T.close();var I=T.parentWindow.Object;return T=null,I},R=function(){var T=D("iframe"),I="java"+m+":",z;return T.style.display="none",P.appendChild(T),T.src=String(I),z=T.contentWindow.document,z.open(),z.write(v("document.F=Object")),z.close(),z.F},U,L=function(){try{U=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&U?p(U):R():p(U);for(var T=A.length;T--;)delete L[g][A[T]];return L()};b[a]=!0,E.exports=Object.create||function(I,z){var V;return I!==null?(h[g]=o(I),V=new h,h[g]=null,V[a]=I):V=L(),z===void 0?V:c.f(V,z)}}),((E,d,r)=>{var o=r(6),c=r(46),A=r(45),b=r(47),P=r(12),D=r(191);d.f=o&&!c?Object.defineProperties:function(s,l){b(s);for(var g=P(l),m=D(l),a=m.length,h=0,v;a>h;)A.f(s,v=m[h++],g[v]);return s}}),((E,d,r)=>{var o=r(59),c=r(66);E.exports=Object.keys||function(b){return o(b,c)}}),((E,d,r)=>{var o=r(24);E.exports=o("document","documentElement")}),((E,d,r)=>{var o=r(34),c=r(189),A=r(45).f,b=o("unscopables"),P=Array.prototype;P[b]===void 0&&A(P,b,{configurable:!0,value:c(null)}),E.exports=function(D){P[b][D]=!0}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaText=void 0,r(89);class o{static textContent(A){const b=[],P={items:b,styles:Object.create(null)};function D(u){if(!u)return;let s=null;const l=u.name;if(l==="#text")s=u.value;else if(o.shouldBuildText(l))u?.attributes?.textContent?s=u.attributes.textContent:u.value&&(s=u.value);else return;if(s!==null&&b.push({str:s}),!!u.children)for(const g of u.children)D(g)}return D(A),P}static shouldBuildText(A){return!(A==="textarea"||A==="input"||A==="option"||A==="select")}}d.XfaText=o}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerRenderTask=void 0,d.renderTextLayer=h,d.updateTextLayer=v,r(89),r(2);var o=r(1),c=r(168);const A=1e5,b=30,P=.8,D=new Map;function u(p,R){let U;if(R&&o.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(p,p).getContext("2d",{alpha:!1});else{const L=document.createElement("canvas");L.width=L.height=p,U=L.getContext("2d",{alpha:!1})}return U}function s(p,R){const U=D.get(p);if(U)return U;const L=u(b,R);L.font=`${b}px ${p}`;const T=L.measureText("");let I=T.fontBoundingBoxAscent,z=Math.abs(T.fontBoundingBoxDescent);if(I){const $=I/(I+z);return D.set(p,$),L.canvas.width=L.canvas.height=0,$}L.strokeStyle="red",L.clearRect(0,0,b,b),L.strokeText("g",0,0);let V=L.getImageData(0,0,b,b).data;z=0;for(let $=V.length-1-3;$>=0;$-=4)if(V[$]>0){z=Math.ceil($/4/b);break}L.clearRect(0,0,b,b),L.strokeText("A",0,b),V=L.getImageData(0,0,b,b).data,I=0;for(let $=0,j=V.length;$<j;$+=4)if(V[$]>0){I=b-Math.floor($/4/b);break}if(L.canvas.width=L.canvas.height=0,I){const $=I/(I+z);return D.set(p,$),$}return D.set(p,P),P}function l(p,R,U){const L=document.createElement("span"),T={angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL,fontSize:0};p._textDivs.push(L);const I=o.Util.transform(p._transform,R.transform);let z=Math.atan2(I[1],I[0]);const V=U[R.fontName];V.vertical&&(z+=Math.PI/2);const $=Math.hypot(I[2],I[3]),j=$*s(V.fontFamily,p._isOffscreenCanvasSupported);let J,he;z===0?(J=I[4],he=I[5]-j):(J=I[4]+j*Math.sin(z),he=I[5]-j*Math.cos(z));const le="calc(var(--scale-factor)*",de=L.style;p._container===p._rootContainer?(de.left=`${(100*J/p._pageWidth).toFixed(2)}%`,de.top=`${(100*he/p._pageHeight).toFixed(2)}%`):(de.left=`${le}${J.toFixed(2)}px)`,de.top=`${le}${he.toFixed(2)}px)`),de.fontSize=`${le}${$.toFixed(2)}px)`,de.fontFamily=V.fontFamily,T.fontSize=$,L.setAttribute("role","presentation"),L.textContent=R.str,L.dir=R.dir,p._fontInspectorEnabled&&(L.dataset.fontName=R.fontName),z!==0&&(T.angle=z*(180/Math.PI));let fe=!1;if(R.str.length>1)fe=!0;else if(R.str!==" "&&R.transform[0]!==R.transform[3]){const re=Math.abs(R.transform[0]),Y=Math.abs(R.transform[3]);re!==Y&&Math.max(re,Y)/Math.min(re,Y)>1.5&&(fe=!0)}fe&&(T.canvasWidth=V.vertical?R.height:R.width),p._textDivProperties.set(L,T),p._isReadableStream&&p._layoutText(L)}function g(p){const{div:R,scale:U,properties:L,ctx:T,prevFontSize:I,prevFontFamily:z}=p,{style:V}=R;let $="";if(L.canvasWidth!==0&&L.hasText){const{fontFamily:j}=V,{canvasWidth:J,fontSize:he}=L;(I!==he||z!==j)&&(T.font=`${he*U}px ${j}`,p.prevFontSize=he,p.prevFontFamily=j);const{width:le}=T.measureText(R.textContent);le>0&&($=`scaleX(${J*U/le})`)}L.angle!==0&&($=`rotate(${L.angle}deg) ${$}`),$.length>0&&(V.transform=$)}function m(p){if(p._canceled)return;const R=p._textDivs,U=p._capability;if(R.length>A){U.resolve();return}if(!p._isReadableStream)for(const T of R)p._layoutText(T);U.resolve()}class a{constructor(R){let{textContentSource:U,container:L,viewport:T,textDivs:I,textDivProperties:z,textContentItemsStr:V,isOffscreenCanvasSupported:$}=R;this._textContentSource=U,this._isReadableStream=U instanceof ReadableStream,this._container=this._rootContainer=L,this._textDivs=I||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=z||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:u(0,$)};const{pageWidth:j,pageHeight:J,pageX:he,pageY:le}=T.rawDims;this._transform=[1,0,0,-1,-he,le+J],this._pageWidth=j,this._pageHeight=J,(0,c.setLayerDimensions)(L,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(R,U){for(const L of R){if(L.str===void 0){if(L.type==="beginMarkedContentProps"||L.type==="beginMarkedContent"){const T=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),L.id!==null&&this._container.setAttribute("id",`${L.id}`),T.append(this._container)}else L.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(L.str),l(this,L,U)}}_layoutText(R){const U=this._layoutTextParams.properties=this._textDivProperties.get(R);if(this._layoutTextParams.div=R,g(this._layoutTextParams),U.hasText&&this._container.append(R),U.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),this._container.append(L)}}_render(){const R=new o.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const L=()=>{this._reader.read().then(T=>{let{value:I,done:z}=T;if(z){R.resolve();return}Object.assign(U,I.styles),this._processItems(I.items,U),L()},R.reject)};this._reader=this._textContentSource.getReader(),L()}else if(this._textContentSource){const{items:L,styles:T}=this._textContentSource;this._processItems(L,T),R.resolve()}else throw new Error('No "textContentSource" parameter specified.');R.promise.then(()=>{U=null,m(this)},this._capability.reject)}}d.TextLayerRenderTask=a;function h(p){!p.textContentSource&&(p.textContent||p.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),p.textContentSource=p.textContent||p.textContentStream);const{container:R,viewport:U}=p,L=getComputedStyle(R),T=L.getPropertyValue("visibility"),I=parseFloat(L.getPropertyValue("--scale-factor"));T==="visible"&&(!I||Math.abs(I-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const z=new a(p);return z._render(),z}function v(p){let{container:R,viewport:U,textDivs:L,textDivProperties:T,isOffscreenCanvasSupported:I,mustRotate:z=!0,mustRescale:V=!0}=p;if(z&&(0,c.setLayerDimensions)(R,{rotation:U.rotation}),V){const $=u(0,I),J={prevFontSize:null,prevFontFamily:null,div:null,scale:U.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const he of L)J.properties=T.get(he),J.div=he,g(J)}}}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayer=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147);var o=r(1),c=r(164),A=r(197),b=r(202),P=r(168),D=r(203);class u{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor(l){let{uiManager:g,pageIndex:m,div:a,accessibilityManager:h,annotationLayer:v,viewport:p,l10n:R}=l;const U=[A.FreeTextEditor,b.InkEditor,D.StampEditor];if(!u._initialized){u._initialized=!0;for(const L of U)L.initialize(R)}g.registerEditorTypes(U),this.#i=g,this.pageIndex=m,this.div=a,this.#e=h,this.#n=v,this.viewport=p,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(l){this.#i.updateToolbar(l)}updateMode(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.#i.getMode();this.#p(),l===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),l!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",l===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",l===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",l===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(l){if(!l&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!l){for(const m of this.#a.values())if(m.isEmpty()){m.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(l){this.#i.setEditingState(l)}addCommands(l){this.#i.addCommands(l)}enable(){this.div.style.pointerEvents="auto";const l=new Set;for(const m of this.#a.values())m.enableEditing(),m.annotationElementId&&l.add(m.annotationElementId);if(!this.#n)return;const g=this.#n.getEditableAnnotations();for(const m of g){if(m.hide(),this.#i.isDeletedAnnotationElement(m.data.id)||l.has(m.data.id))continue;const a=this.deserialize(m);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const l=new Set;for(const g of this.#a.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){l.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){const g=this.#n.getEditableAnnotations();for(const m of g){const{id:a}=m.data;l.has(a)||this.#i.isDeletedAnnotationElement(a)||m.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(l){return this.#n?.getEditableAnnotation(l)||null}setActiveEditor(l){this.#i.getActive()!==l&&this.#i.setActiveEditor(l)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(l){this.#a.set(l.id,l);const{annotationElementId:g}=l;g&&this.#i.isDeletedAnnotationElement(g)&&this.#i.removeDeletedAnnotationElement(l)}detach(l){this.#a.delete(l.id),this.#e?.removePointerInTextLayer(l.contentDiv),!this.#u&&l.annotationElementId&&this.#i.addDeletedAnnotationElement(l)}remove(l){this.detach(l),this.#i.removeEditor(l),l.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),l.div.remove(),l.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(l){l.parent!==this&&(l.annotationElementId&&(this.#i.addDeletedAnnotationElement(l.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(l),l.annotationElementId=null),this.attach(l),l.parent?.detach(l),l.setParent(this),l.div&&l.isAttachedToDOM&&(l.div.remove(),this.div.append(l.div)))}add(l){if(this.changeParent(l),this.#i.addEditor(l),this.attach(l),!l.isAttachedToDOM){const g=l.render();this.div.append(g),l.isAttachedToDOM=!0}l.fixAndSetPosition(),l.onceAdded(),this.#i.addToAnnotationStorage(l)}moveEditorInDOM(l){if(!l.isAttachedToDOM)return;const{activeElement:g}=document;l.div.contains(g)&&(l._focusEventsAllowed=!1,setTimeout(()=>{l.div.contains(document.activeElement)?l._focusEventsAllowed=!0:(l.div.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),l._structTreeParentId=this.#e?.moveElementInDOM(this.div,l.div,l.contentDiv,!0)}addOrRebuild(l){l.needsToBeRebuilt()?l.rebuild():this.add(l)}addUndoableEditor(l){const g=()=>l._uiManager.rebuild(l),m=()=>{l.remove()};this.addCommands({cmd:g,undo:m,mustExec:!1})}getNextId(){return this.#i.getId()}#f(l){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new A.FreeTextEditor(l);case o.AnnotationEditorType.INK:return new b.InkEditor(l);case o.AnnotationEditorType.STAMP:return new D.StampEditor(l)}return null}pasteEditor(l,g){this.#i.updateToolbar(l),this.#i.updateMode(l);const{offsetX:m,offsetY:a}=this.#h(),h=this.getNextId(),v=this.#f({parent:this,id:h,x:m,y:a,uiManager:this.#i,isCentered:!0,...g});v&&this.add(v)}deserialize(l){switch(l.annotationType??l.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return A.FreeTextEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.INK:return b.InkEditor.deserialize(l,this,this.#i);case o.AnnotationEditorType.STAMP:return D.StampEditor.deserialize(l,this,this.#i)}return null}#d(l,g){const m=this.getNextId(),a=this.#f({parent:this,id:m,x:l.offsetX,y:l.offsetY,uiManager:this.#i,isCentered:g});return a&&this.add(a),a}#h(){const{x:l,y:g,width:m,height:a}=this.div.getBoundingClientRect(),h=Math.max(0,l),v=Math.max(0,g),p=Math.min(window.innerWidth,l+m),R=Math.min(window.innerHeight,g+a),U=(h+p)/2-l,L=(v+R)/2-g,[T,I]=this.viewport.rotation%180===0?[U,L]:[L,U];return{offsetX:T,offsetY:I}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(l){this.#i.setSelected(l)}toggleSelected(l){this.#i.toggleSelected(l)}isSelected(l){return this.#i.isSelected(l)}unselect(l){this.#i.unselect(l)}pointerup(l){const{isMac:g}=o.FeatureTest.platform;if(!(l.button!==0||l.ctrlKey&&g)&&l.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(l,!1)}}pointerdown(l){if(this.#s){this.#s=!1;return}const{isMac:g}=o.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&g||l.target!==this.div)return;this.#s=!0;const m=this.#i.getActive();this.#t=!m||m.isEmpty()}findNewParent(l,g,m){const a=this.#i.findParent(g,m);return a===null||a===this?!1:(a.changeParent(l),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const l of this.#a.values())this.#e?.removePointerInTextLayer(l.contentDiv),l.setParent(null),l.isAttachedToDOM=!1,l.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const l of this.#a.values())l.isEmpty()&&l.remove();this.#l=!1}render(l){let{viewport:g}=l;this.viewport=g,(0,P.setLayerDimensions)(this.div,g);for(const m of this.#i.getEditors(this.pageIndex))this.add(m);this.updateMode()}update(l){let{viewport:g}=l;this.#i.commitOrRemove(),this.viewport=g,(0,P.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:l,pageHeight:g}=this.viewport.rawDims;return[l,g]}}d.AnnotationEditorLayer=u}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FreeTextEditor=void 0,r(89);var o=r(1),c=r(165),A=r(164),b=r(198);class P extends A.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const u=P.prototype,s=m=>m.isEmpty(),l=c.AnnotationEditorUIManager.TRANSLATE_SMALL,g=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-l,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-g,0],checker:s}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[l,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[g,0],checker:s}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-l],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-g],checker:s}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,l],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,g],checker:s}]]))}static _type="freetext";constructor(u){super({...u,name:"freeTextEditor"}),this.#o=u.color||P._defaultColor||A.AnnotationEditor._defaultLineColor,this.#l=u.fontSize||P._defaultFontSize}static initialize(u){A.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,s){switch(u){case o.AnnotationEditorParamsType.FREETEXT_SIZE:P._defaultFontSize=s;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:P._defaultColor=s;break}}updateParams(u,s){switch(u){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(s);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(s);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,P._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,P._defaultColor||A.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(u){const s=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#h()},l=this.#l;this.addCommands({cmd:()=>{s(u)},undo:()=>{s(l)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(u){const s=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=u},undo:()=>{this.#o=this.editorDiv.style.color=s},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(u,s){this._uiManager.translateSelectedEditors(u,s,!0)}getInitialTranslation(){const u=this.parentScale;return[-P._internalPadding*u,-(P._internalPadding+this.#l)*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;const s=[];for(const l of u)s.push(l.innerText.replace(/\r\n?|\n/,""));return s.join(`
`)}#h(){const[u,s]=this.parentDimensions;let l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{const{currentLayer:g,div:m}=this,a=m.style.display;m.style.display="hidden",g.div.append(this.div),l=m.getBoundingClientRect(),m.remove(),m.style.display=a}this.rotation%180===this.parentRotation%180?(this.width=l.width/u,this.height=l.height/s):(this.width=l.height/u,this.height=l.width/s),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const u=this.#a,s=this.#a=this.#d().trimEnd();if(u===s)return;const l=g=>{if(this.#a=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{l(s)},undo:()=>{l(u)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){P._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,s;this.width&&(u=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),A.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),A.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;const{style:l}=this.editorDiv;if(l.fontSize=`calc(${this.#l}px * var(--scale-factor))`,l.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[g,m]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this.#u;let[h,v]=this.getInitialTranslation();[h,v]=this.pageTranslationToScreen(h,v);const[p,R]=this.pageDimensions,[U,L]=this.pageTranslation;let T,I;switch(this.rotation){case 0:T=u+(a[0]-U)/p,I=s+this.height-(a[1]-L)/R;break;case 90:T=u+(a[0]-U)/p,I=s-(a[1]-L)/R,[h,v]=[v,-h];break;case 180:T=u-this.width+(a[0]-U)/p,I=s-(a[1]-L)/R,[h,v]=[-h,-v];break;case 270:T=u+(a[0]-U-this.height*R)/p,I=s+(a[1]-L-this.width*p)/R,[h,v]=[-v,h];break}this.setAt(T*g,I*m,h,v)}else this.setAt(u*g,s*m,this.width*g,this.height*m);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const u of this.#a.split(`
`)){const s=document.createElement("div");s.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(s)}}get contentDiv(){return this.editorDiv}static deserialize(u,s,l){let g=null;if(u instanceof b.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:a,fontColor:h},rect:v,rotation:p,id:R},textContent:U,textPosition:L,parent:{page:{pageNumber:T}}}=u;if(!U||U.length===0)return null;g=u={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(h),fontSize:a,value:U.join(`
`),position:L,pageIndex:T-1,rect:v,rotation:p,id:R,deleted:!1}}const m=super.deserialize(u,s,l);return m.#l=u.fontSize,m.#o=o.Util.makeHexColor(...u.color),m.#a=u.value,m.annotationElementId=u.id||null,m.#u=g,m}serialize(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const s=P._internalPadding*this.parentScale,l=this.getRect(s,s),g=A.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),m={annotationType:o.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?m:this.annotationElementId&&!this.#v(m)?null:(m.id=this.annotationElementId,m)}#v(u){const{value:s,fontSize:l,color:g,rect:m,pageIndex:a}=this.#u;return u.value!==s||u.fontSize!==l||u.rect.some((h,v)=>Math.abs(h-m[v])>=1)||u.color.some((h,v)=>h!==g[v])||u.pageIndex!==a}#m(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(this.#h(),!u&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const s=P._internalPadding*this.parentScale;this.#u.rect=this.getRect(s,s)}}d.FreeTextEditor=P}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampAnnotationElement=d.InkAnnotationElement=d.FreeTextAnnotationElement=d.AnnotationLayer=void 0,r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147);var o=r(1),c=r(168),A=r(163),b=r(199),P=r(200),D=r(201);const u=1e3,s=9,l=new WeakSet;function g(H){return{width:H[2]-H[0],height:H[3]-H[1]}}class m{static create(y){switch(y.data.annotationType){case o.AnnotationType.LINK:return new h(y);case o.AnnotationType.TEXT:return new v(y);case o.AnnotationType.WIDGET:switch(y.data.fieldType){case"Tx":return new R(y);case"Btn":return y.data.radioButton?new T(y):y.data.checkBox?new L(y):new I(y);case"Ch":return new z(y);case"Sig":return new U(y)}return new p(y);case o.AnnotationType.POPUP:return new V(y);case o.AnnotationType.FREETEXT:return new j(y);case o.AnnotationType.LINE:return new J(y);case o.AnnotationType.SQUARE:return new he(y);case o.AnnotationType.CIRCLE:return new le(y);case o.AnnotationType.POLYLINE:return new de(y);case o.AnnotationType.CARET:return new re(y);case o.AnnotationType.INK:return new Y(y);case o.AnnotationType.POLYGON:return new fe(y);case o.AnnotationType.HIGHLIGHT:return new M(y);case o.AnnotationType.UNDERLINE:return new x(y);case o.AnnotationType.SQUIGGLY:return new k(y);case o.AnnotationType.STRIKEOUT:return new C(y);case o.AnnotationType.STAMP:return new _(y);case o.AnnotationType.FILEATTACHMENT:return new W(y);default:return new a(y)}}}class a{#e=!1;constructor(y){let{isRenderable:w=!1,ignoreBorder:F=!1,createQuadrilaterals:N=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=w,this.data=y.data,this.layer=y.layer,this.linkService=y.linkService,this.downloadManager=y.downloadManager,this.imageResourcesPath=y.imageResourcesPath,this.renderForms=y.renderForms,this.svgFactory=y.svgFactory,this.annotationStorage=y.annotationStorage,this.enableScripting=y.enableScripting,this.hasJSActions=y.hasJSActions,this._fieldObjects=y.fieldObjects,this.parent=y.parent,w&&(this.container=this._createContainer(F)),N&&this._createQuadrilaterals()}static _hasPopupData(y){let{titleObj:w,contentsObj:F,richText:N}=y;return!!(w?.str||F?.str||N?.str)}get hasPopupData(){return a._hasPopupData(this.data)}_createContainer(y){const{data:w,parent:{page:F,viewport:N}}=this,O=document.createElement("section");O.setAttribute("data-annotation-id",w.id),this instanceof p||(O.tabIndex=u),O.style.zIndex=this.parent.zIndex++,this.data.popupRef&&O.setAttribute("aria-haspopup","dialog"),w.noRotate&&O.classList.add("norotate");const{pageWidth:X,pageHeight:Q,pageX:te,pageY:Ae}=N.rawDims;if(!w.rect||this instanceof V){const{rotation:me}=w;return!w.hasOwnCanvas&&me!==0&&this.setRotation(me,O),O}const{width:se,height:ue}=g(w.rect),pe=o.Util.normalizeRect([w.rect[0],F.view[3]-w.rect[1]+F.view[1],w.rect[2],F.view[3]-w.rect[3]+F.view[1]]);if(!y&&w.borderStyle.width>0){O.style.borderWidth=`${w.borderStyle.width}px`;const me=w.borderStyle.horizontalCornerRadius,ke=w.borderStyle.verticalCornerRadius;if(me>0||ke>0){const Oe=`calc(${me}px * var(--scale-factor)) / calc(${ke}px * var(--scale-factor))`;O.style.borderRadius=Oe}else if(this instanceof T){const Oe=`calc(${se}px * var(--scale-factor)) / calc(${ue}px * var(--scale-factor))`;O.style.borderRadius=Oe}switch(w.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:O.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:O.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:O.style.borderBottomStyle="solid";break}const we=w.borderColor||null;we?(this.#e=!0,O.style.borderColor=o.Util.makeHexColor(we[0]|0,we[1]|0,we[2]|0)):O.style.borderWidth=0}O.style.left=`${100*(pe[0]-te)/X}%`,O.style.top=`${100*(pe[1]-Ae)/Q}%`;const{rotation:ge}=w;return w.hasOwnCanvas||ge===0?(O.style.width=`${100*se/X}%`,O.style.height=`${100*ue/Q}%`):this.setRotation(ge,O),O}setRotation(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:F,pageHeight:N}=this.parent.viewport.rawDims,{width:O,height:X}=g(this.data.rect);let Q,te;y%180===0?(Q=100*O/F,te=100*X/N):(Q=100*X/F,te=100*O/N),w.style.width=`${Q}%`,w.style.height=`${te}%`,w.setAttribute("data-main-rotation",(360-y)%360)}get _commonActions(){const y=(w,F,N)=>{const O=N.detail[w],X=O[0],Q=O.slice(1);N.target.style[F]=b.ColorConverters[`${X}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[F]:b.ColorConverters[`${X}_rgb`](Q)})};return(0,o.shadow)(this,"_commonActions",{display:w=>{const{display:F}=w.detail,N=F%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:N,noPrint:F===1||F===2})},print:w=>{this.annotationStorage.setValue(this.data.id,{noPrint:!w.detail.print})},hidden:w=>{const{hidden:F}=w.detail;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:F,noView:F})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.target.disabled=w.detail.readonly},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{y("bgColor","backgroundColor",w)},fillColor:w=>{y("fillColor","backgroundColor",w)},fgColor:w=>{y("fgColor","color",w)},textColor:w=>{y("textColor","color",w)},borderColor:w=>{y("borderColor","borderColor",w)},strokeColor:w=>{y("strokeColor","borderColor",w)},rotation:w=>{const F=w.detail.rotation;this.setRotation(F),this.annotationStorage.setValue(this.data.id,{rotation:F})}})}_dispatchEventFromSandbox(y,w){const F=this._commonActions;for(const N of Object.keys(w.detail))(y[N]||F[N])?.(w)}_setDefaultPropertiesFromJS(y){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const F=this._commonActions;for(const[N,O]of Object.entries(w)){const X=F[N];if(X){const Q={detail:{[N]:O},target:y};X(Q),delete w[N]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:y}=this.data;if(!y)return;const[w,F,N,O]=this.data.rect;if(y.length===1){const[,{x:ke,y:we},{x:Oe,y:Ue}]=y[0];if(N===ke&&O===we&&w===Oe&&F===Ue)return}const{style:X}=this.container;let Q;if(this.#e){const{borderColor:ke,borderWidth:we}=X;X.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ke}" stroke-width="${we}">`],this.container.classList.add("hasBorder")}const te=N-w,Ae=O-F,{svgFactory:se}=this,ue=se.createElement("svg");ue.classList.add("quadrilateralsContainer"),ue.setAttribute("width",0),ue.setAttribute("height",0);const pe=se.createElement("defs");ue.append(pe);const ge=se.createElement("clipPath"),me=`clippath_${this.data.id}`;ge.setAttribute("id",me),ge.setAttribute("clipPathUnits","objectBoundingBox"),pe.append(ge);for(const[,{x:ke,y:we},{x:Oe,y:Ue}]of y){const He=se.createElement("rect"),Ye=(Oe-w)/te,nt=(O-we)/Ae,ct=(ke-Oe)/te,Lt=(we-Ue)/Ae;He.setAttribute("x",Ye),He.setAttribute("y",nt),He.setAttribute("width",ct),He.setAttribute("height",Lt),ge.append(He),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${Ye}" y="${nt}" width="${ct}" height="${Lt}"/>`)}this.#e&&(Q.push("</g></svg>')"),X.backgroundImage=Q.join("")),this.container.append(ue),this.container.style.clipPath=`url(#${me})`}_createPopup(){const{container:y,data:w}=this;y.setAttribute("aria-haspopup","dialog");const F=new V({data:{color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,parentRect:w.rect,borderStyle:0,id:`popup_${w.id}`,rotation:w.rotation},parent:this.parent,elements:[this]});this.parent.div.append(F.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const F=[];if(this._fieldObjects){const N=this._fieldObjects[y];if(N)for(const{page:O,id:X,exportValues:Q}of N){if(O===-1||X===w)continue;const te=typeof Q=="string"?Q:null,Ae=document.querySelector(`[data-element-id="${X}"]`);if(Ae&&!l.has(Ae)){(0,o.warn)(`_getElementsByName - element not allowed: ${X}`);continue}F.push({id:X,exportValue:te,domElement:Ae})}return F}for(const N of document.getElementsByName(y)){const{exportValue:O}=N,X=N.getAttribute("data-element-id");X!==w&&l.has(N)&&F.push({id:X,exportValue:O,domElement:N})}return F}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const y=this.getElementsToTriggerPopup();if(Array.isArray(y))for(const w of y)w.classList.add("highlightArea");else y.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:y,data:{id:w}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:y,editId:w})})}}class h extends a{constructor(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(y,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=y.data.isTooltipOnly}render(){const{data:y,linkService:w}=this,F=document.createElement("a");F.setAttribute("data-element-id",y.id);let N=!1;return y.url?(w.addLinkAttributes(F,y.url,y.newWindow),N=!0):y.action?(this._bindNamedAction(F,y.action),N=!0):y.attachment?(this._bindAttachment(F,y.attachment),N=!0):y.setOCGState?(this.#t(F,y.setOCGState),N=!0):y.dest?(this._bindLink(F,y.dest),N=!0):(y.actions&&(y.actions.Action||y.actions["Mouse Up"]||y.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(F,y),N=!0),y.resetForm?(this._bindResetFormAction(F,y.resetForm),N=!0):this.isTooltipOnly&&!N&&(this._bindLink(F,""),N=!0)),this.container.classList.add("linkAnnotation"),N&&this.container.append(F),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(y,w){y.href=this.linkService.getDestinationHash(w),y.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&this.#e()}_bindNamedAction(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.linkService.executeNamedAction(w),!1),this.#e()}_bindAttachment(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,w.content,w.filename),!1),this.#e()}#t(y,w){y.href=this.linkService.getAnchorUrl(""),y.onclick=()=>(this.linkService.executeSetOCGState(w),!1),this.#e()}_bindJSAction(y,w){y.href=this.linkService.getAnchorUrl("");const F=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const N of Object.keys(w.actions)){const O=F.get(N);O&&(y[O]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:N}}),!1))}y.onclick||(y.onclick=()=>!1),this.#e()}_bindResetFormAction(y,w){const F=y.onclick;if(F||(y.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),F||(y.onclick=()=>!1);return}y.onclick=()=>{F?.();const{fields:N,refs:O,include:X}=w,Q=[];if(N.length!==0||O.length!==0){const se=new Set(O);for(const ue of N){const pe=this._fieldObjects[ue]||[];for(const{id:ge}of pe)se.add(ge)}for(const ue of Object.values(this._fieldObjects))for(const pe of ue)se.has(pe.id)===X&&Q.push(pe)}else for(const se of Object.values(this._fieldObjects))Q.push(...se);const te=this.annotationStorage,Ae=[];for(const se of Q){const{id:ue}=se;switch(Ae.push(ue),se.type){case"text":{const ge=se.defaultValue||"";te.setValue(ue,{value:ge});break}case"checkbox":case"radiobutton":{const ge=se.defaultValue===se.exportValues;te.setValue(ue,{value:ge});break}case"combobox":case"listbox":{const ge=se.defaultValue||"";te.setValue(ue,{value:ge});break}default:continue}const pe=document.querySelector(`[data-element-id="${ue}"]`);if(pe){if(!l.has(pe)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${ue}`);continue}}else continue;pe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ae,name:"ResetForm"}}),!1}}}class v extends a{constructor(y){super(y,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const y=document.createElement("img");return y.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",y.alt="[{{type}} Annotation]",y.dataset.l10nId="text_annotation_type",y.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(y),this.container}}class p extends a{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(y){this.data.hasOwnCanvas&&(y.previousSibling?.nodeName==="CANVAS"&&(y.previousSibling.hidden=!0),y.hidden=!1)}_getKeyModifier(y){const{isWin:w,isMac:F}=o.FeatureTest.platform;return w&&y.ctrlKey||F&&y.metaKey}_setEventListener(y,w,F,N,O){F.includes("mouse")?y.addEventListener(F,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:O(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):y.addEventListener(F,X=>{if(F==="blur"){if(!w.focused||!X.relatedTarget)return;w.focused=!1}else if(F==="focus"){if(w.focused)return;w.focused=!0}O&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:O(X)}})})}_setEventListeners(y,w,F,N){for(const[O,X]of F)(X==="Action"||this.data.actions?.[X])&&((X==="Focus"||X==="Blur")&&(w||={focused:!1}),this._setEventListener(y,w,O,X,N),X==="Focus"&&!this.data.actions?.Blur?this._setEventListener(y,w,"blur","Blur",null):X==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(y,w,"focus","Focus",null))}_setBackgroundColor(y){const w=this.data.backgroundColor||null;y.style.backgroundColor=w===null?"transparent":o.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(y){const w=["left","center","right"],{fontColor:F}=this.data.defaultAppearanceData,N=this.data.defaultAppearanceData.fontSize||s,O=y.style;let X;const Q=2,te=Ae=>Math.round(10*Ae)/10;if(this.data.multiLine){const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),se=Math.round(Ae/(o.LINE_FACTOR*N))||1,ue=Ae/se;X=Math.min(N,te(ue/o.LINE_FACTOR))}else{const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);X=Math.min(N,te(Ae/o.LINE_FACTOR))}O.fontSize=`calc(${X}px * var(--scale-factor))`,O.color=o.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(O.textAlign=w[this.data.textAlignment])}_setRequired(y,w){w?y.setAttribute("required",!0):y.removeAttribute("required"),y.setAttribute("aria-required",w)}}class R extends p{constructor(y){const w=y.renderForms||!y.data.hasAppearance&&!!y.data.fieldValue;super(y,{isRenderable:w})}setPropertyOnSiblings(y,w,F,N){const O=this.annotationStorage;for(const X of this._getElementsByName(y.name,y.id))X.domElement&&(X.domElement[w]=F),O.setValue(X.id,{[N]:F})}render(){const y=this.annotationStorage,w=this.data.id;this.container.classList.add("textWidgetAnnotation");let F=null;if(this.renderForms){const N=y.getValue(w,{value:this.data.fieldValue});let O=N.value||"";const X=y.getValue(w,{charLimit:this.data.maxLen}).charLimit;X&&O.length>X&&(O=O.slice(0,X));let Q=N.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const te={userValue:O,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(F=document.createElement("textarea"),F.textContent=Q??O,this.data.doNotScroll&&(F.style.overflowY="hidden")):(F=document.createElement("input"),F.type="text",F.setAttribute("value",Q??O),this.data.doNotScroll&&(F.style.overflowX="hidden")),this.data.hasOwnCanvas&&(F.hidden=!0),l.add(F),F.setAttribute("data-element-id",w),F.disabled=this.data.readOnly,F.name=this.data.fieldName,F.tabIndex=u,this._setRequired(F,this.data.required),X&&(F.maxLength=X),F.addEventListener("input",se=>{y.setValue(w,{value:se.target.value}),this.setPropertyOnSiblings(F,"value",se.target.value,"value"),te.formattedValue=null}),F.addEventListener("resetform",se=>{const ue=this.data.defaultFieldValue??"";F.value=te.userValue=ue,te.formattedValue=null});let Ae=se=>{const{formattedValue:ue}=te;ue!=null&&(se.target.value=ue),se.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){F.addEventListener("focus",ue=>{if(te.focused)return;const{target:pe}=ue;te.userValue&&(pe.value=te.userValue),te.lastCommittedValue=pe.value,te.commitKey=1,te.focused=!0}),F.addEventListener("updatefromsandbox",ue=>{this.showElementAndHideCanvas(ue.target);const pe={value(ge){te.userValue=ge.detail.value??"",y.setValue(w,{value:te.userValue.toString()}),ge.target.value=te.userValue},formattedValue(ge){const{formattedValue:me}=ge.detail;te.formattedValue=me,me!=null&&ge.target!==document.activeElement&&(ge.target.value=me),y.setValue(w,{formattedValue:me})},selRange(ge){ge.target.setSelectionRange(...ge.detail.selRange)},charLimit:ge=>{const{charLimit:me}=ge.detail,{target:ke}=ge;if(me===0){ke.removeAttribute("maxLength");return}ke.setAttribute("maxLength",me);let we=te.userValue;!we||we.length<=me||(we=we.slice(0,me),ke.value=te.userValue=we,y.setValue(w,{value:we}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:we,willCommit:!0,commitKey:1,selStart:ke.selectionStart,selEnd:ke.selectionEnd}}))}};this._dispatchEventFromSandbox(pe,ue)}),F.addEventListener("keydown",ue=>{te.commitKey=1;let pe=-1;if(ue.key==="Escape"?pe=0:ue.key==="Enter"&&!this.data.multiLine?pe=2:ue.key==="Tab"&&(te.commitKey=3),pe===-1)return;const{value:ge}=ue.target;te.lastCommittedValue!==ge&&(te.lastCommittedValue=ge,te.userValue=ge,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ge,willCommit:!0,commitKey:pe,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}))});const se=Ae;Ae=null,F.addEventListener("blur",ue=>{if(!te.focused||!ue.relatedTarget)return;te.focused=!1;const{value:pe}=ue.target;te.userValue=pe,te.lastCommittedValue!==pe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:pe,willCommit:!0,commitKey:te.commitKey,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}),se(ue)}),this.data.actions?.Keystroke&&F.addEventListener("beforeinput",ue=>{te.lastCommittedValue=null;const{data:pe,target:ge}=ue,{value:me,selectionStart:ke,selectionEnd:we}=ge;let Oe=ke,Ue=we;switch(ue.inputType){case"deleteWordBackward":{const He=me.substring(0,ke).match(/\w*[^\w]*$/);He&&(Oe-=He[0].length);break}case"deleteWordForward":{const He=me.substring(ke).match(/^[^\w]*\w*/);He&&(Ue+=He[0].length);break}case"deleteContentBackward":ke===we&&(Oe-=1);break;case"deleteContentForward":ke===we&&(Ue+=1);break}ue.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:me,change:pe||"",willCommit:!1,selStart:Oe,selEnd:Ue}})}),this._setEventListeners(F,te,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.value)}if(Ae&&F.addEventListener("blur",Ae),this.data.comb){const ue=(this.data.rect[2]-this.data.rect[0])/X;F.classList.add("comb"),F.style.letterSpacing=`calc(${ue}px * var(--scale-factor) - 1ch)`}}else F=document.createElement("div"),F.textContent=this.data.fieldValue,F.style.verticalAlign="middle",F.style.display="table-cell";return this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class U extends p{constructor(y){super(y,{isRenderable:!!y.data.hasOwnCanvas})}}class L extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){const y=this.annotationStorage,w=this.data,F=w.id;let N=y.getValue(F,{value:w.exportValue===w.fieldValue}).value;typeof N=="string"&&(N=N!=="Off",y.setValue(F,{value:N})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const O=document.createElement("input");return l.add(O),O.setAttribute("data-element-id",F),O.disabled=w.readOnly,this._setRequired(O,this.data.required),O.type="checkbox",O.name=w.fieldName,N&&O.setAttribute("checked",!0),O.setAttribute("exportValue",w.exportValue),O.tabIndex=u,O.addEventListener("change",X=>{const{name:Q,checked:te}=X.target;for(const Ae of this._getElementsByName(Q,F)){const se=te&&Ae.exportValue===w.exportValue;Ae.domElement&&(Ae.domElement.checked=se),y.setValue(Ae.id,{value:se})}y.setValue(F,{value:te})}),O.addEventListener("resetform",X=>{const Q=w.defaultFieldValue||"Off";X.target.checked=Q===w.exportValue}),this.enableScripting&&this.hasJSActions&&(O.addEventListener("updatefromsandbox",X=>{const Q={value(te){te.target.checked=te.detail.value!=="Off",y.setValue(F,{value:te.target.checked})}};this._dispatchEventFromSandbox(Q,X)}),this._setEventListeners(O,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class T extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const y=this.annotationStorage,w=this.data,F=w.id;let N=y.getValue(F,{value:w.fieldValue===w.buttonValue}).value;typeof N=="string"&&(N=N!==w.buttonValue,y.setValue(F,{value:N}));const O=document.createElement("input");if(l.add(O),O.setAttribute("data-element-id",F),O.disabled=w.readOnly,this._setRequired(O,this.data.required),O.type="radio",O.name=w.fieldName,N&&O.setAttribute("checked",!0),O.tabIndex=u,O.addEventListener("change",X=>{const{name:Q,checked:te}=X.target;for(const Ae of this._getElementsByName(Q,F))y.setValue(Ae.id,{value:!1});y.setValue(F,{value:te})}),O.addEventListener("resetform",X=>{const Q=w.defaultFieldValue;X.target.checked=Q!=null&&Q===w.buttonValue}),this.enableScripting&&this.hasJSActions){const X=w.buttonValue;O.addEventListener("updatefromsandbox",Q=>{const te={value:Ae=>{const se=X===Ae.detail.value;for(const ue of this._getElementsByName(Ae.target.name)){const pe=se&&ue.id===F;ue.domElement&&(ue.domElement.checked=pe),y.setValue(ue.id,{value:pe})}}};this._dispatchEventFromSandbox(te,Q)}),this._setEventListeners(O,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class I extends h{constructor(y){super(y,{ignoreBorder:y.data.hasAppearance})}render(){const y=super.render();y.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(y.title=this.data.alternativeText);const w=y.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({},F)})),y}}class z extends p{constructor(y){super(y,{isRenderable:y.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const y=this.annotationStorage,w=this.data.id,F=y.getValue(w,{value:this.data.fieldValue}),N=document.createElement("select");l.add(N),N.setAttribute("data-element-id",w),N.disabled=this.data.readOnly,this._setRequired(N,this.data.required),N.name=this.data.fieldName,N.tabIndex=u;let O=this.data.combo&&this.data.options.length>0;this.data.combo||(N.size=this.data.options.length,this.data.multiSelect&&(N.multiple=!0)),N.addEventListener("resetform",se=>{const ue=this.data.defaultFieldValue;for(const pe of N.options)pe.selected=pe.value===ue});for(const se of this.data.options){const ue=document.createElement("option");ue.textContent=se.displayValue,ue.value=se.exportValue,F.value.includes(se.exportValue)&&(ue.setAttribute("selected",!0),O=!1),N.append(ue)}let X=null;if(O){const se=document.createElement("option");se.value=" ",se.setAttribute("hidden",!0),se.setAttribute("selected",!0),N.prepend(se),X=()=>{se.remove(),N.removeEventListener("input",X),X=null},N.addEventListener("input",X)}const Q=se=>{const ue=se?"value":"textContent",{options:pe,multiple:ge}=N;return ge?Array.prototype.filter.call(pe,me=>me.selected).map(me=>me[ue]):pe.selectedIndex===-1?null:pe[pe.selectedIndex][ue]};let te=Q(!1);const Ae=se=>{const ue=se.target.options;return Array.prototype.map.call(ue,pe=>({displayValue:pe.textContent,exportValue:pe.value}))};return this.enableScripting&&this.hasJSActions?(N.addEventListener("updatefromsandbox",se=>{const ue={value(pe){X?.();const ge=pe.detail.value,me=new Set(Array.isArray(ge)?ge:[ge]);for(const ke of N.options)ke.selected=me.has(ke.value);y.setValue(w,{value:Q(!0)}),te=Q(!1)},multipleSelection(pe){N.multiple=!0},remove(pe){const ge=N.options,me=pe.detail.remove;ge[me].selected=!1,N.remove(me),ge.length>0&&Array.prototype.findIndex.call(ge,we=>we.selected)===-1&&(ge[0].selected=!0),y.setValue(w,{value:Q(!0),items:Ae(pe)}),te=Q(!1)},clear(pe){for(;N.length!==0;)N.remove(0);y.setValue(w,{value:null,items:[]}),te=Q(!1)},insert(pe){const{index:ge,displayValue:me,exportValue:ke}=pe.detail.insert,we=N.children[ge],Oe=document.createElement("option");Oe.textContent=me,Oe.value=ke,we?we.before(Oe):N.append(Oe),y.setValue(w,{value:Q(!0),items:Ae(pe)}),te=Q(!1)},items(pe){const{items:ge}=pe.detail;for(;N.length!==0;)N.remove(0);for(const me of ge){const{displayValue:ke,exportValue:we}=me,Oe=document.createElement("option");Oe.textContent=ke,Oe.value=we,N.append(Oe)}N.options.length>0&&(N.options[0].selected=!0),y.setValue(w,{value:Q(!0),items:Ae(pe)}),te=Q(!1)},indices(pe){const ge=new Set(pe.detail.indices);for(const me of pe.target.options)me.selected=ge.has(me.index);y.setValue(w,{value:Q(!0)}),te=Q(!1)},editable(pe){pe.target.disabled=!pe.detail.editable}};this._dispatchEventFromSandbox(ue,se)}),N.addEventListener("input",se=>{const ue=Q(!0);y.setValue(w,{value:ue}),se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:te,changeEx:ue,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(N,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],se=>se.target.value)):N.addEventListener("input",function(se){y.setValue(w,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class V extends a{constructor(y){const{data:w,elements:F}=y;super(y,{isRenderable:a._hasPopupData(w)}),this.elements=F}render(){this.container.classList.add("popupAnnotation");const y=new $({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),w=[];for(const F of this.elements)F.popup=y,w.push(F.data.id),F.addHighlightArea();return this.container.setAttribute("aria-controls",w.map(F=>`${o.AnnotationPrefix}${F}`).join(",")),this.container}}class ${#e=null;#t=this.#c.bind(this);#n=this.#E.bind(this);#r=this.#x.bind(this);#o=this.#y.bind(this);#a=null;#s=null;#l=null;#u=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#m=null;#g=!1;constructor(y){let{container:w,color:F,elements:N,titleObj:O,modificationDate:X,contentsObj:Q,richText:te,parent:Ae,rect:se,parentRect:ue,open:pe}=y;this.#s=w,this.#m=O,this.#l=Q,this.#v=te,this.#i=Ae,this.#a=F,this.#p=se,this.#f=ue,this.#u=N;const ge=c.PDFDateString.toDateObject(X);ge&&(this.#e=Ae.l10n.get("annotation_date_string",{date:ge.toLocaleDateString(),time:ge.toLocaleTimeString()})),this.trigger=N.flatMap(me=>me.getElementsToTriggerPopup());for(const me of this.trigger)me.addEventListener("click",this.#o),me.addEventListener("mouseenter",this.#r),me.addEventListener("mouseleave",this.#n),me.classList.add("popupTriggerArea");for(const me of N)me.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,pe&&this.#y()}render(){if(this.#h)return;const{page:{view:y},viewport:{rawDims:{pageWidth:w,pageHeight:F,pageX:N,pageY:O}}}=this.#i,X=this.#h=document.createElement("div");if(X.className="popup",this.#a){const He=X.style.outlineColor=o.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?X.style.backgroundColor=`color-mix(in srgb, ${He} 30%, white)`:X.style.backgroundColor=o.Util.makeHexColor(...this.#a.map(nt=>Math.floor(.7*(255-nt)+nt)))}const Q=document.createElement("span");Q.className="header";const te=document.createElement("h1");if(Q.append(te),{dir:te.dir,str:te.textContent}=this.#m,X.append(Q),this.#e){const He=document.createElement("span");He.classList.add("popupDate"),this.#e.then(Ye=>{He.textContent=Ye}),Q.append(He)}const Ae=this.#l,se=this.#v;if(se?.str&&(!Ae?.str||Ae.str===se.str))D.XfaLayer.render({xfaHtml:se.html,intent:"richText",div:X}),X.lastChild.classList.add("richText","popupContent");else{const He=this._formatContents(Ae);X.append(He)}let ue=!!this.#f,pe=ue?this.#f:this.#p;for(const He of this.#u)if(!pe||o.Util.intersect(He.data.rect,pe)!==null){pe=He.data.rect,ue=!0;break}const ge=o.Util.normalizeRect([pe[0],y[3]-pe[1]+y[1],pe[2],y[3]-pe[3]+y[1]]),ke=ue?pe[2]-pe[0]+5:0,we=ge[0]+ke,Oe=ge[1],{style:Ue}=this.#s;Ue.left=`${100*(we-N)/w}%`,Ue.top=`${100*(Oe-O)/F}%`,this.#s.append(X)}_formatContents(y){let{str:w,dir:F}=y;const N=document.createElement("p");N.classList.add("popupContent"),N.dir=F;const O=w.split(/(?:\r\n?|\n)/);for(let X=0,Q=O.length;X<Q;++X){const te=O[X];N.append(document.createTextNode(te)),X<Q-1&&N.append(document.createElement("br"))}return N}#c(y){y.altKey||y.shiftKey||y.ctrlKey||y.metaKey||(y.key==="Enter"||y.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#x(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#E(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#x(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#E(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#s.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class j extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.textContent=y.data.textContent,this.textPosition=y.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const y=document.createElement("div");y.classList.add("annotationTextContent"),y.setAttribute("role","comment");for(const w of this.textContent){const F=document.createElement("span");F.textContent=w,y.append(F)}this.container.append(y)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}d.FreeTextAnnotationElement=j;class J extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),O=this.#e=this.svgFactory.createElement("svg:line");return O.setAttribute("x1",y.rect[2]-y.lineCoordinates[0]),O.setAttribute("y1",y.rect[3]-y.lineCoordinates[1]),O.setAttribute("x2",y.rect[2]-y.lineCoordinates[2]),O.setAttribute("y2",y.rect[3]-y.lineCoordinates[3]),O.setAttribute("stroke-width",y.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),N.append(O),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),O=y.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:rect");return X.setAttribute("x",O/2),X.setAttribute("y",O/2),X.setAttribute("width",w-O),X.setAttribute("height",F-O),X.setAttribute("stroke-width",O||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),N.append(X),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class le extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0),O=y.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:ellipse");return X.setAttribute("cx",w/2),X.setAttribute("cy",F/2),X.setAttribute("rx",w/2-O/2),X.setAttribute("ry",F/2-O/2),X.setAttribute("stroke-width",O||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),N.append(X),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends a{#e=null;constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0);let O=[];for(const Q of y.vertices){const te=Q.x-y.rect[0],Ae=y.rect[3]-Q.y;O.push(te+","+Ae)}O=O.join(" ");const X=this.#e=this.svgFactory.createElement(this.svgElementName);return X.setAttribute("points",O),X.setAttribute("stroke-width",y.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),N.append(X),this.container.append(N),!y.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends de{constructor(y){super(y),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class re extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends a{#e=[];constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const y=this.data,{width:w,height:F}=g(y.rect),N=this.svgFactory.create(w,F,!0);for(const O of y.inkLists){let X=[];for(const te of O){const Ae=te.x-y.rect[0],se=y.rect[3]-te.y;X.push(`${Ae},${se}`)}X=X.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",X),Q.setAttribute("stroke-width",y.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!y.popupRef&&this.hasPopupData&&this._createPopup(),N.append(Q)}return this.container.append(N),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}d.InkAnnotationElement=Y;class M extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class x extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class k extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class C extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _ extends a{constructor(y){super(y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}d.StampAnnotationElement=_;class W extends a{#e=null;constructor(y){super(y,{isRenderable:!0});const{filename:w,content:F}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(w,!0),this.content=F,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:F})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:y,data:w}=this;let F;w.hasAppearance||w.fillAlpha===0?F=document.createElement("div"):(F=document.createElement("img"),F.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(w.name)?"paperclip":"pushpin"}.svg`,w.fillAlpha&&w.fillAlpha<1&&(F.style=`filter: opacity(${Math.round(w.fillAlpha*100)}%);`)),F.addEventListener("dblclick",this.#t.bind(this)),this.#e=F;const{isMac:N}=o.FeatureTest.platform;return y.addEventListener("keydown",O=>{O.key==="Enter"&&(N?O.metaKey:O.ctrlKey)&&this.#t()}),!w.popupRef&&this.hasPopupData?this._createPopup():F.classList.add("popupTriggerArea"),y.append(F),y}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class G{#e=null;#t=null;#n=new Map;constructor(y){let{div:w,accessibilityManager:F,annotationCanvasMap:N,l10n:O,page:X,viewport:Q}=y;this.div=w,this.#e=F,this.#t=N,this.l10n=O,this.page=X,this.viewport=Q,this.zIndex=0,this.l10n||=P.NullL10n}#r(y,w){const F=y.firstChild||y;F.id=`${o.AnnotationPrefix}${w}`,this.div.append(y),this.#e?.moveElementInDOM(this.div,y,F,!1)}async render(y){const{annotations:w}=y,F=this.div;(0,c.setLayerDimensions)(F,this.viewport);const N=new Map,O={data:null,layer:F,linkService:y.linkService,downloadManager:y.downloadManager,imageResourcesPath:y.imageResourcesPath||"",renderForms:y.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:y.annotationStorage||new A.AnnotationStorage,enableScripting:y.enableScripting===!0,hasJSActions:y.hasJSActions,fieldObjects:y.fieldObjects,parent:this,elements:null};for(const X of w){if(X.noHTML)continue;const Q=X.annotationType===o.AnnotationType.POPUP;if(Q){const se=N.get(X.id);if(!se)continue;O.elements=se}else{const{width:se,height:ue}=g(X.rect);if(se<=0||ue<=0)continue}O.data=X;const te=m.create(O);if(!te.isRenderable)continue;if(!Q&&X.popupRef){const se=N.get(X.popupRef);se?se.push(te):N.set(X.popupRef,[te])}te.annotationEditorType>0&&this.#n.set(te.data.id,te);const Ae=te.render();X.hidden&&(Ae.style.visibility="hidden"),this.#r(Ae,X.id)}this.#o(),await this.l10n.translate(F)}update(y){let{viewport:w}=y;const F=this.div;this.viewport=w,(0,c.setLayerDimensions)(F,{rotation:w.rotation}),this.#o(),F.hidden=!1}#o(){if(!this.#t)return;const y=this.div;for(const[w,F]of this.#t){const N=y.querySelector(`[data-annotation-id="${w}"]`);if(!N)continue;const{firstChild:O}=N;O?O.nodeName==="CANVAS"?O.replaceWith(F):O.before(F):N.append(F)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(y){return this.#n.get(y)}}d.AnnotationLayer=G}),((E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorConverters=void 0;function r(A){return Math.floor(Math.max(0,Math.min(1,A))*255).toString(16).padStart(2,"0")}function o(A){return Math.max(0,Math.min(255,255*A))}class c{static CMYK_G(b){let[P,D,u,s]=b;return["G",1-Math.min(1,.3*P+.59*u+.11*D+s)]}static G_CMYK(b){let[P]=b;return["CMYK",0,0,0,1-P]}static G_RGB(b){let[P]=b;return["RGB",P,P,P]}static G_rgb(b){let[P]=b;return P=o(P),[P,P,P]}static G_HTML(b){let[P]=b;const D=r(P);return`#${D}${D}${D}`}static RGB_G(b){let[P,D,u]=b;return["G",.3*P+.59*D+.11*u]}static RGB_rgb(b){return b.map(o)}static RGB_HTML(b){return`#${b.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(b){let[P,D,u,s]=b;return["RGB",1-Math.min(1,P+s),1-Math.min(1,u+s),1-Math.min(1,D+s)]}static CMYK_rgb(b){let[P,D,u,s]=b;return[o(1-Math.min(1,P+s)),o(1-Math.min(1,u+s)),o(1-Math.min(1,D+s))]}static CMYK_HTML(b){const P=this.CMYK_RGB(b).slice(1);return this.RGB_HTML(P)}static RGB_CMYK(b){let[P,D,u]=b;const s=1-P,l=1-D,g=1-u,m=Math.min(s,l,g);return["CMYK",s,l,g,m]}}d.ColorConverters=c}),((E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.getL10nFallback=o;const r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function o(b,P){switch(b){case"find_match_count":b=`find_match_count[${P.total===1?"one":"other"}]`;break;case"find_match_count_limit":b=`find_match_count_limit[${P.limit===1?"one":"other"}]`;break}return r[b]||""}function c(b,P){return P?b.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(D,u)=>u in P?P[u]:"{{"+u+"}}"):b}const A={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(b){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o(b,P);return c(D,P)},async translate(b){}};d.NullL10n=A}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayer=void 0,r(89);var o=r(194);class c{static setupStorage(b,P,D,u,s){const l=u.getValue(P,{value:null});switch(D.name){case"textarea":if(l.value!==null&&(b.textContent=l.value),s==="print")break;b.addEventListener("input",g=>{u.setValue(P,{value:g.target.value})});break;case"input":if(D.attributes.type==="radio"||D.attributes.type==="checkbox"){if(l.value===D.attributes.xfaOn?b.setAttribute("checked",!0):l.value===D.attributes.xfaOff&&b.removeAttribute("checked"),s==="print")break;b.addEventListener("change",g=>{u.setValue(P,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&b.setAttribute("value",l.value),s==="print")break;b.addEventListener("input",g=>{u.setValue(P,{value:g.target.value})})}break;case"select":if(l.value!==null){b.setAttribute("value",l.value);for(const g of D.children)g.attributes.value===l.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}b.addEventListener("input",g=>{const m=g.target.options,a=m.selectedIndex===-1?"":m[m.selectedIndex].value;u.setValue(P,{value:a})});break}}static setAttributes(b){let{html:P,element:D,storage:u=null,intent:s,linkService:l}=b;const{attributes:g}=D,m=P instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${s}`);for(const[a,h]of Object.entries(g))if(h!=null)switch(a){case"class":h.length&&P.setAttribute(a,h.join(" "));break;case"dataId":break;case"id":P.setAttribute("data-element-id",h);break;case"style":Object.assign(P.style,h);break;case"textContent":P.textContent=h;break;default:(!m||a!=="href"&&a!=="newWindow")&&P.setAttribute(a,h)}m&&l.addLinkAttributes(P,g.href,g.newWindow),u&&g.dataId&&this.setupStorage(P,g.dataId,D,u)}static render(b){const P=b.annotationStorage,D=b.linkService,u=b.xfaHtml,s=b.intent||"display",l=document.createElement(u.name);u.attributes&&this.setAttributes({html:l,element:u,intent:s,linkService:D});const g=[[u,-1,l]],m=b.div;if(m.append(l),b.viewport){const h=`matrix(${b.viewport.transform.join(",")})`;m.style.transform=h}s!=="richText"&&m.setAttribute("class","xfaLayer xfaFont");const a=[];for(;g.length>0;){const[h,v,p]=g.at(-1);if(v+1===h.children.length){g.pop();continue}const R=h.children[++g.at(-1)[1]];if(R===null)continue;const{name:U}=R;if(U==="#text"){const T=document.createTextNode(R.value);a.push(T),p.append(T);continue}const L=R?.attributes?.xmlns?document.createElementNS(R.attributes.xmlns,U):document.createElement(U);if(p.append(L),R.attributes&&this.setAttributes({html:L,element:R,storage:P,intent:s,linkService:D}),R.children&&R.children.length>0)g.push([R,-1,L]);else if(R.value){const T=document.createTextNode(R.value);o.XfaText.shouldBuildText(U)&&a.push(T),L.append(T)}}for(const h of m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:a}}static update(b){const P=`matrix(${b.viewport.transform.join(",")})`;b.div.style.transform=P,b.div.hidden=!1}}d.XfaLayer=c}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InkEditor=void 0,r(89),r(2);var o=r(1),c=r(164),A=r(198),b=r(168),P=r(165);class D extends c.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(s){super({...s,name:"inkEditor"}),this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s){c.AnnotationEditor.initialize(s,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(s,l){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:D._defaultThickness=l;break;case o.AnnotationEditorParamsType.INK_COLOR:D._defaultColor=l;break;case o.AnnotationEditorParamsType.INK_OPACITY:D._defaultOpacity=l/100;break}}updateParams(s,l){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#v(l);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#m(l);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#g(l);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,D._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,D._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(D._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||D._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||D._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??D._defaultOpacity))]]}#v(s){const l=this.thickness;this.addCommands({cmd:()=>{this.thickness=s,this.#C()},undo:()=>{this.thickness=l,this.#C()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(s){const l=this.color;this.addCommands({cmd:()=>{this.color=s,this.#A()},undo:()=>{this.color=l,this.#A()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(s){s/=100;const l=this.opacity;this.addCommands({cmd:()=>{this.opacity=s,this.#A()},undo:()=>{this.opacity=l,this.#A()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#C()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,l]=this.parentDimensions,g=this.width*s,m=this.height*l;this.setDimensions(g,m)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:s,parentDimensions:[l,g]}=this;switch(s){case 90:return[0,g,g,l];case 180:return[l,g,l,g];case 270:return[l,0,g,l];default:return[0,0,l,g]}}#y(){const{ctx:s,color:l,opacity:g,thickness:m,parentScale:a,scaleFactor:h}=this;s.lineWidth=m*a/h,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${l}${(0,P.opacityToHex)(g)}`}#x(s,l){this.canvas.addEventListener("contextmenu",b.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#S(),this.thickness||=D._defaultThickness,this.color||=D._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=D._defaultOpacity),this.currentPath.push([s,l]),this.#u=!1,this.#y(),this.#p=()=>{this.#D(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#E(s,l){const[g,m]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===g&&l===m)return;const a=this.currentPath;let h=this.#s;if(a.push([s,l]),this.#u=!0,a.length<=2){h.moveTo(...a[0]),h.lineTo(s,l);return}a.length===3&&(this.#s=h=new Path2D,h.moveTo(...a[0])),this.#L(h,...a.at(-3),...a.at(-2),s,l)}#T(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);this.#s.lineTo(...s)}#P(s,l){this.#p=null,s=Math.min(Math.max(s,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height),this.#E(s,l),this.#T();let g;if(this.currentPath.length!==1)g=this.#N();else{const p=[s,l];g=[[p,p.slice(),p.slice(),p]]}const m=this.#s,a=this.currentPath;this.currentPath=[],this.#s=new Path2D;const h=()=>{this.allRawPaths.push(a),this.paths.push(g),this.bezierPath2D.push(m),this.rebuild()},v=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#M()),this.#C())};this.addCommands({cmd:h,undo:v,mustExec:!0})}#D(){if(!this.#u)return;this.#u=!1;const s=Math.ceil(this.thickness*this.parentScale),l=this.currentPath.slice(-3),g=l.map(h=>h[0]),m=l.map(h=>h[1]);Math.min(...g)-s,Math.max(...g)+s,Math.min(...m)-s,Math.max(...m)+s;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)a.stroke(h);a.stroke(this.#s),a.restore()}#L(s,l,g,m,a,h,v){const p=(l+m)/2,R=(g+a)/2,U=(m+h)/2,L=(a+v)/2;s.bezierCurveTo(p+2*(m-p)/3,R+2*(a-R)/3,U+2*(m-U)/3,L+2*(a-L)/3,U,L)}#N(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const l=[];let g,[m,a]=s[0];for(g=1;g<s.length-2;g++){const[T,I]=s[g],[z,V]=s[g+1],$=(T+z)/2,j=(I+V)/2,J=[m+2*(T-m)/3,a+2*(I-a)/3],he=[$+2*(T-$)/3,j+2*(I-j)/3];l.push([[m,a],J,he,[$,j]]),[m,a]=[$,j]}const[h,v]=s[g],[p,R]=s[g+1],U=[m+2*(h-m)/3,a+2*(v-a)/3],L=[p+2*(h-p)/3,R+2*(v-R)/3];return l.push([[m,a],U,L,[p,R]]),l}#A(){if(this.isEmpty()){this.#k();return}this.#y();const{canvas:s,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,s.width,s.height),this.#k();for(const g of this.bezierPath2D)l.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#C(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),s.preventDefault(),s.type!=="mouse"&&this.div.focus(),this.#x(s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),this.#E(s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),this.#O(s)}canvasPointerleave(s){this.#O(s)}#O(s){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",b.noContextMenu)},10),this.#P(s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(s=>this.canvas?.setAttribute("aria-label",s)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#f=new ResizeObserver(s=>{const l=s[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let s,l;this.width&&(s=this.x,l=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(v=>this.div?.setAttribute("aria-label",v));const[g,m,a,h]=this.#c();if(this.setAt(g,m,0,0),this.setDims(a,h),this.#R(),this.width){const[v,p]=this.parentDimensions;this.setAspectRatio(this.width*v,this.height*p),this.setAt(s*v,l*p,this.width*v,this.height*p),this.#i=!0,this.#S(),this.setDims(this.width*v,this.height*p),this.#A(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#S(){if(!this.#i)return;const[s,l]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*l),this.#k()}setDimensions(s,l){const g=Math.round(s),m=Math.round(l);if(this.#d===g&&this.#h===m)return;this.#d=g,this.#h=m,this.canvas.style.visibility="hidden";const[a,h]=this.parentDimensions;this.width=s/a,this.height=l/h,this.fixAndSetPosition(),this.#l&&this.#w(s,l),this.#S(),this.#A(),this.canvas.style.visibility="visible",this.fixDims()}#w(s,l){const g=this.#I(),m=(s-g)/this.#t,a=(l-g)/this.#e;this.scaleFactor=Math.min(m,a)}#k(){const s=this.#I()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)}static#_(s){const l=new Path2D;for(let g=0,m=s.length;g<m;g++){const[a,h,v,p]=s[g];g===0&&l.moveTo(...a),l.bezierCurveTo(h[0],h[1],v[0],v[1],p[0],p[1])}return l}static#B(s,l,g){const[m,a,h,v]=l;switch(g){case 0:for(let p=0,R=s.length;p<R;p+=2)s[p]+=m,s[p+1]=v-s[p+1];break;case 90:for(let p=0,R=s.length;p<R;p+=2){const U=s[p];s[p]=s[p+1]+m,s[p+1]=U+a}break;case 180:for(let p=0,R=s.length;p<R;p+=2)s[p]=h-s[p],s[p+1]+=a;break;case 270:for(let p=0,R=s.length;p<R;p+=2){const U=s[p];s[p]=h-s[p+1],s[p+1]=v-U}break;default:throw new Error("Invalid rotation")}return s}static#U(s,l,g){const[m,a,h,v]=l;switch(g){case 0:for(let p=0,R=s.length;p<R;p+=2)s[p]-=m,s[p+1]=v-s[p+1];break;case 90:for(let p=0,R=s.length;p<R;p+=2){const U=s[p];s[p]=s[p+1]-a,s[p+1]=U-m}break;case 180:for(let p=0,R=s.length;p<R;p+=2)s[p]=h-s[p],s[p+1]-=a;break;case 270:for(let p=0,R=s.length;p<R;p+=2){const U=s[p];s[p]=v-s[p+1],s[p+1]=h-U}break;default:throw new Error("Invalid rotation")}return s}#z(s,l,g,m){const a=[],h=this.thickness/2,v=s*l+h,p=s*g+h;for(const R of this.paths){const U=[],L=[];for(let T=0,I=R.length;T<I;T++){const[z,V,$,j]=R[T],J=s*z[0]+v,he=s*z[1]+p,le=s*V[0]+v,de=s*V[1]+p,fe=s*$[0]+v,re=s*$[1]+p,Y=s*j[0]+v,M=s*j[1]+p;T===0&&(U.push(J,he),L.push(J,he)),U.push(le,de,fe,re,Y,M),L.push(le,de),T===I-1&&L.push(Y,M)}a.push({bezier:D.#B(U,m,this.rotation),points:D.#B(L,m,this.rotation)})}return a}#F(){let s=1/0,l=-1/0,g=1/0,m=-1/0;for(const a of this.paths)for(const[h,v,p,R]of a){const U=o.Util.bezierBoundingBox(...h,...v,...p,...R);s=Math.min(s,U[0]),g=Math.min(g,U[1]),l=Math.max(l,U[2]),m=Math.max(m,U[3])}return[s,g,l,m]}#I(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#C(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!this.#l){this.#A();return}const l=this.#F(),g=this.#I();this.#t=Math.max(c.AnnotationEditor.MIN_SIZE,l[2]-l[0]),this.#e=Math.max(c.AnnotationEditor.MIN_SIZE,l[3]-l[1]);const m=Math.ceil(g+this.#t*this.scaleFactor),a=Math.ceil(g+this.#e*this.scaleFactor),[h,v]=this.parentDimensions;this.width=m/h,this.height=a/v,this.setAspectRatio(m,a);const p=this.translationX,R=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#S(),this.#A(),this.#d=m,this.#h=a,this.setDims(m,a);const U=s?g/this.scaleFactor/2:0;this.translate(p-this.translationX-U,R-this.translationY-U)}static deserialize(s,l,g){if(s instanceof A.InkAnnotationElement)return null;const m=super.deserialize(s,l,g);m.thickness=s.thickness,m.color=o.Util.makeHexColor(...s.color),m.opacity=s.opacity;const[a,h]=m.pageDimensions,v=m.width*a,p=m.height*h,R=m.parentScale,U=s.thickness/2;m.#l=!0,m.#d=Math.round(v),m.#h=Math.round(p);const{paths:L,rect:T,rotation:I}=s;for(let{bezier:V}of L){V=D.#U(V,T,I);const $=[];m.paths.push($);let j=R*(V[0]-U),J=R*(V[1]-U);for(let le=2,de=V.length;le<de;le+=6){const fe=R*(V[le]-U),re=R*(V[le+1]-U),Y=R*(V[le+2]-U),M=R*(V[le+3]-U),x=R*(V[le+4]-U),k=R*(V[le+5]-U);$.push([[j,J],[fe,re],[Y,M],[x,k]]),j=x,J=k}const he=this.#_($);m.bezierPath2D.push(he)}const z=m.#F();return m.#t=Math.max(c.AnnotationEditor.MIN_SIZE,z[2]-z[0]),m.#e=Math.max(c.AnnotationEditor.MIN_SIZE,z[3]-z[1]),m.#w(v,p),m}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),l=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:l,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}d.InkEditor=D}),((E,d,r)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampEditor=void 0,r(149),r(152);var o=r(1),c=r(164),A=r(168),b=r(198);class P extends c.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(u){super({...u,name:"stampEditor"}),this.#r=u.bitmapUrl,this.#o=u.bitmapFile}static initialize(u){c.AnnotationEditor.initialize(u)}static get supportedTypes(){const u=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",u.map(s=>`image/${s}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(u){return this.supportedTypes.includes(u)}static paste(u,s){s.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:u.getAsFile()})}#f(u){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!u){this.remove();return}this.#e=u.bitmap,s||(this.#t=u.id,this.#u=u.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#f(s,!0)).finally(()=>this.#d());return}if(this.#r){const s=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(l=>this.#f(l)).finally(()=>this.#d());return}if(this.#o){const s=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(l=>this.#f(l)).finally(()=>this.#d());return}const u=document.createElement("input");u.type="file",u.accept=P.supportedTypesStr,this.#n=new Promise(s=>{u.addEventListener("change",async()=>{if(!u.files||u.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(u.files[0]);this.#f(l)}s()}),u.addEventListener("cancel",()=>{this.remove(),s()})}).finally(()=>this.#d()),u.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let u,s;if(this.width&&(u=this.x,s=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[l,g]=this.parentDimensions;this.setAt(u*l,s*g,this.width*l,this.height*g)}return this.div}#p(){const{div:u}=this;let{width:s,height:l}=this.#e;const[g,m]=this.pageDimensions,a=.75;if(this.width)s=this.width*g,l=this.height*m;else if(s>a*g||l>a*m){const R=Math.min(a*g/s,a*m/l);s*=R,l*=R}const[h,v]=this.parentDimensions;this.setDims(s*h/g,l*v/m),this._uiManager.enableWaiting(!1);const p=this.#a=document.createElement("canvas");u.append(p),u.hidden=!1,this.#g(s,l),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(u,s){const[l,g]=this.parentDimensions;this.width=u/l,this.height=s/g,this.setDims(u,s),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const m=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(u,s)},m)}#m(u,s){const{width:l,height:g}=this.#e;let m=l,a=g,h=this.#e;for(;m>2*u||a>2*s;){const v=m,p=a;m>2*u&&(m=m>=16384?Math.floor(m/2)-1:Math.ceil(m/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const R=new OffscreenCanvas(m,a);R.getContext("2d").drawImage(h,0,0,v,p,0,0,m,a),h=R.transferToImageBitmap()}return h}#g(u,s){u=Math.ceil(u),s=Math.ceil(s);const l=this.#a;if(!l||l.width===u&&l.height===s)return;l.width=u,l.height=s;const g=this.#u?this.#e:this.#m(u,s),m=l.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(g,0,0,g.width,g.height,0,0,u,s)}#c(u){if(u){if(this.#u){const g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}const s=document.createElement("canvas");return{width:s.width,height:s.height}=this.#e,s.getContext("2d").drawImage(this.#e,0,0),s.toDataURL()}if(this.#u){const[s,l]=this.pageDimensions,g=Math.round(this.width*s*A.PixelsPerInch.PDF_TO_CSS_UNITS),m=Math.round(this.height*l*A.PixelsPerInch.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(g,m);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,m),a.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(u=>{const s=u[0].contentRect;s.width&&s.height&&this.#v(s.width,s.height)}),this.#s.observe(this.div)}static deserialize(u,s,l){if(u instanceof b.StampAnnotationElement)return null;const g=super.deserialize(u,s,l),{rect:m,bitmapUrl:a,bitmapId:h,isSvg:v,accessibilityData:p}=u;h&&l.imageManager.isValidId(h)?g.#t=h:g.#r=a,g.#u=v;const[R,U]=g.pageDimensions;return g.width=(m[2]-m[0])/R,g.height=(m[3]-m[1])/U,p&&(g.altTextData=p),g}serialize(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const l={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(u)return l.bitmapUrl=this.#c(!0),l.accessibilityData=this.altTextData,l;const{decorative:g,altText:m}=this.altTextData;if(!g&&m&&(l.accessibilityData={type:"Figure",alt:m}),s===null)return l;s.stamps||=new Map;const a=this.#u?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!s.stamps.has(this.#t))s.stamps.set(this.#t,{area:a,serialized:l}),l.bitmap=this.#c(!1);else if(this.#u){const h=s.stamps.get(this.#t);a>h.area&&(h.area=a,h.serialized.bitmap.close(),h.serialized.bitmap=this.#c(!1))}return l}}d.StampEditor=P})],__webpack_module_cache__={};function __w_pdfjs_require__(E){var d=__webpack_module_cache__[E];if(d!==void 0)return d.exports;var r=__webpack_module_cache__[E]={exports:{}};return __webpack_modules__[E].call(r.exports,r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var E=__webpack_exports__;Object.defineProperty(E,"__esModule",{value:!0}),Object.defineProperty(E,"AbortException",{enumerable:!0,get:function(){return d.AbortException}}),Object.defineProperty(E,"AnnotationEditorLayer",{enumerable:!0,get:function(){return A.AnnotationEditorLayer}}),Object.defineProperty(E,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return d.AnnotationEditorParamsType}}),Object.defineProperty(E,"AnnotationEditorType",{enumerable:!0,get:function(){return d.AnnotationEditorType}}),Object.defineProperty(E,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return b.AnnotationEditorUIManager}}),Object.defineProperty(E,"AnnotationLayer",{enumerable:!0,get:function(){return P.AnnotationLayer}}),Object.defineProperty(E,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(E,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(E,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(E,"FeatureTest",{enumerable:!0,get:function(){return d.FeatureTest}}),Object.defineProperty(E,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(E,"ImageKind",{enumerable:!0,get:function(){return d.ImageKind}}),Object.defineProperty(E,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(E,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(E,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(E,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(E,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(E,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(E,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(E,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(E,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(E,"PromiseCapability",{enumerable:!0,get:function(){return d.PromiseCapability}}),Object.defineProperty(E,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(E,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(E,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(E,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(E,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(E,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(E,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(E,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(E,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(E,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(E,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(E,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(E,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(E,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(E,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(E,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(E,"normalizeUnicode",{enumerable:!0,get:function(){return d.normalizeUnicode}}),Object.defineProperty(E,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(E,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(E,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(E,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(E,"version",{enumerable:!0,get:function(){return r.version}});var d=__w_pdfjs_require__(1),r=__w_pdfjs_require__(124),o=__w_pdfjs_require__(168),c=__w_pdfjs_require__(195),A=__w_pdfjs_require__(196),b=__w_pdfjs_require__(165),P=__w_pdfjs_require__(198),D=__w_pdfjs_require__(176),u=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="/reading-quest-mvp/pdf.worker.min.js";const DB_NAME="rq_library",DB_VERSION=1,STORE="books";function openDB(){return new Promise((E,d)=>{const r=indexedDB.open(DB_NAME,DB_VERSION);r.onupgradeneeded=()=>{const o=r.result;o.objectStoreNames.contains(STORE)||o.createObjectStore(STORE,{keyPath:"id"}).createIndex("createdAt","createdAt")},r.onsuccess=()=>E(r.result),r.onerror=()=>d(r.error)})}async function dbGetAll(){const E=await openDB();return new Promise((d,r)=>{const A=E.transaction(STORE,"readonly").objectStore(STORE).getAll();A.onsuccess=()=>d(A.result||[]),A.onerror=()=>r(A.error)})}async function dbGet(E){const d=await openDB();return new Promise((r,o)=>{const b=d.transaction(STORE,"readonly").objectStore(STORE).get(E);b.onsuccess=()=>r(b.result||null),b.onerror=()=>o(b.error)})}async function dbPut(E){const d=await openDB();return new Promise((r,o)=>{const c=d.transaction(STORE,"readwrite");c.oncomplete=()=>r(!0),c.onerror=()=>o(c.error),c.objectStore(STORE).put(E)})}async function dbDelete(E){const d=await openDB();return new Promise((r,o)=>{const c=d.transaction(STORE,"readwrite");c.oncomplete=()=>r(!0),c.onerror=()=>o(c.error),c.objectStore(STORE).delete(E)})}function formatPercent(E){return!isFinite(E)||isNaN(E)?0:Math.max(0,Math.min(100,Math.round(E*100)))}function App(){const[E,d]=reactExports.useState([]),[r,o]=reactExports.useState(null),[c,A]=reactExports.useState(null),[b,P]=reactExports.useState(1),[D,u]=reactExports.useState(!1),[s,l]=reactExports.useState(""),g=reactExports.useRef(null),m=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{const z=await dbGetAll();z.sort(($,j)=>j.createdAt-$.createdAt),d(z);const V=localStorage.getItem("rq_active_book");V&&z.some($=>$.id===V)&&h(V)})().catch(z=>console.error(z))},[]);async function a(z){const V=z.target.files?.[0];if(V)try{l(""),u(!0);const $=`${Date.now()}_${Math.random().toString(36).slice(2,8)}`,j=V.name,J=V.size,he=V.type||"application/pdf",le=Date.now(),de=V,fe=await V.arrayBuffer(),Y=(await pdfExports.getDocument({data:fe}).promise).numPages,M={id:$,title:j,size:J,type:he,createdAt:le,lastPage:1,numPages:Y,blob:de};await dbPut(M),d(x=>[M,...x]),await h($)}catch($){console.error($),l(String($))}finally{u(!1),m.current&&(m.current.value="")}}async function h(z){try{u(!0),l("");const V=await dbGet(z);if(!V){l("Book not found.");return}const $=await V.blob.arrayBuffer(),j=await pdfExports.getDocument({data:$}).promise,J=j.numPages||V.numPages||1;o(z),localStorage.setItem("rq_active_book",z),A({pdf:j,numPages:J,title:V.title,id:V.id});const he=Math.max(1,Math.min(V.lastPage||1,J));P(he),J!==V.numPages&&(await dbPut({...V,numPages:J}),d(le=>le.map(de=>de.id===V.id?{...de,numPages:J}:de)))}catch(V){console.error(V),l(String(V))}finally{u(!1)}}async function v(z){await dbDelete(z),d(V=>V.filter($=>$.id!==z)),r===z&&(o(null),A(null))}reactExports.useEffect(()=>{let z=!1;async function V(){if(!c||!g.current)return;const{pdf:$}=c;if(!(b<1||b>$.numPages))try{const j=await $.getPage(b),J=j.getViewport({scale:1.5}),he=g.current,le=he.getContext("2d");he.height=J.height,he.width=J.width;const de={canvasContext:le,viewport:J};if(await j.render(de).promise,z)return;localStorage.setItem("rq_lastpage_"+c.id,String(b));const fe=await dbGet(c.id);fe&&fe.lastPage!==b&&(await dbPut({...fe,lastPage:b}),d(re=>re.map(Y=>Y.id===fe.id?{...Y,lastPage:b}:Y)))}catch(j){console.error(j),z||l(String(j))}}return V(),()=>{z=!0}},[c,b]);function p(){P(z=>Math.max(1,z-1))}function R(){c&&P(z=>Math.min(c.numPages,z+1))}const U=c?formatPercent(b/c.numPages):0,L=c&&c.numPages>1?c.numPages-1:1,T=c?formatPercent((b-1)/L):0,I=E.length===0;return React.createElement("div",{className:"app-root"},React.createElement("header",{className:"topbar"},React.createElement("h1",null,"Reading Quest — MVP (Library)"),React.createElement("div",{className:"uploader"},React.createElement("input",{ref:m,type:"file",accept:"application/pdf",onChange:a,style:{display:"none"}}),React.createElement("button",{className:"btn",onClick:()=>m.current?.click()},"Upload PDF"))),React.createElement("section",{className:"mb-3"},React.createElement("div",{className:"reader-card",style:{padding:12}},React.createElement("div",{className:"reader-header",style:{marginBottom:8}},React.createElement("div",{className:"title"},"Library"),React.createElement("div",{className:"meta"},E.length," book",E.length===1?"":"s")),I?React.createElement("div",{className:"muted"},"No books saved yet. Upload a PDF to add it to your library."):React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:8}},E.map(z=>React.createElement("div",{key:z.id,className:"reader-card",style:{padding:10}},React.createElement("div",{className:"title",style:{marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},z.title),React.createElement("div",{className:"muted",style:{fontSize:12,marginBottom:6}},z.numPages||"?"," pages • Last page: ",z.lastPage||1),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("button",{className:"btn",onClick:()=>h(z.id)},r===z.id?"Open (current)":"Open"),React.createElement("button",{className:"btn ghost",onClick:()=>v(z.id)},"Delete"))))))),React.createElement("main",{className:"reader-area"},s&&React.createElement("div",{className:"empty",style:{borderLeft:"4px solid crimson",textAlign:"left"}},React.createElement("p",{style:{color:"crimson",margin:0}},"Error: ",s)),c?React.createElement("div",{className:"reader-card"},React.createElement("div",{className:"reader-header"},React.createElement("div",{className:"title"},c.title),React.createElement("div",{className:"meta"},"Page ",b," / ",c.numPages)),React.createElement("div",{className:"muted",style:{marginBottom:8}},"Loaded: ",c.title," • ",c.numPages," pages"),React.createElement("div",{className:"canvas-wrap"},React.createElement("canvas",{ref:g,className:"pdf-canvas"})),React.createElement("div",{className:"controls"},React.createElement("button",{className:"btn ghost",onClick:p,disabled:b===1},"Prev"),React.createElement("div",{className:"progress"},React.createElement("div",{className:"bar-bg"},React.createElement("div",{className:"bar-fill",style:{width:`${T}%`}})),React.createElement("div",{className:"progress-label"},U,"% read")),React.createElement("button",{className:"btn",onClick:R,disabled:b===c.numPages},"Next"))):React.createElement("div",{className:"empty"},React.createElement("p",null,"No book open. Choose one from your Library above, or upload a PDF."),React.createElement("p",{className:"muted"},"Files are stored only in your browser (IndexedDB)."))),React.createElement("footer",{className:"footer"},"Simple MVP • Local only • Later we can add syncing & gamification"))}clientExports.createRoot(document.getElementById("root")).render(React.createElement(App,null));
