function _mergeNamespaces(h,a){for(var n=0;n<a.length;n++){const i=a[n];if(typeof i!="string"&&!Array.isArray(i)){for(const u in i)if(u!=="default"&&!(u in h)){const f=Object.getOwnPropertyDescriptor(i,u);f&&Object.defineProperty(h,u,f.get?f:{enumerable:!0,get:()=>i[u]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const S of f.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&i(S)}).observe(document,{childList:!0,subtree:!0});function n(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=n(u);fetch(u.href,f)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function getAugmentedNamespace(h){if(Object.prototype.hasOwnProperty.call(h,"__esModule"))return h;var a=h.default;if(typeof a=="function"){var n=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};n.prototype=a.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(h).forEach(function(i){var u=Object.getOwnPropertyDescriptor(h,i);Object.defineProperty(n,i,u.get?u:{enumerable:!0,get:function(){return h[i]}})}),n}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var h=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),c=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=c&&T[c]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l=Object.assign,p={};function y(T,B,H){this.props=T,this.context=B,this.refs=p,this.updater=H||A}y.prototype.isReactComponent={},y.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},y.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function m(){}m.prototype=y.prototype;function P(T,B,H){this.props=T,this.context=B,this.refs=p,this.updater=H||A}var N=P.prototype=new m;N.constructor=P,l(N,y.prototype),N.isPureReactComponent=!0;var L=Array.isArray,w=Object.prototype.hasOwnProperty,F={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(T,B,H){var G,W={},E=null,R=null;if(B!=null)for(G in B.ref!==void 0&&(R=B.ref),B.key!==void 0&&(E=""+B.key),B)w.call(B,G)&&!z.hasOwnProperty(G)&&(W[G]=B[G]);var O=arguments.length-2;if(O===1)W.children=H;else if(1<O){for(var _=Array(O),D=0;D<O;D++)_[D]=arguments[D+2];W.children=_}if(T&&T.defaultProps)for(G in O=T.defaultProps,O)W[G]===void 0&&(W[G]=O[G]);return{$$typeof:h,type:T,key:E,ref:R,props:W,_owner:F.current}}function $(T,B){return{$$typeof:h,type:T.type,key:B,ref:T.ref,props:T.props,_owner:T._owner}}function j(T){return typeof T=="object"&&T!==null&&T.$$typeof===h}function J(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return B[H]})}var he=/\/+/g;function le(T,B){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):B.toString(36)}function de(T,B,H,G,W){var E=typeof T;(E==="undefined"||E==="boolean")&&(T=null);var R=!1;if(T===null)R=!0;else switch(E){case"string":case"number":R=!0;break;case"object":switch(T.$$typeof){case h:case a:R=!0}}if(R)return R=T,W=W(R),T=G===""?"."+le(R,0):G,L(W)?(H="",T!=null&&(H=T.replace(he,"$&/")+"/"),de(W,B,H,"",function(D){return D})):W!=null&&(j(W)&&(W=$(W,H+(!W.key||R&&R.key===W.key?"":(""+W.key).replace(he,"$&/")+"/")+T)),B.push(W)),1;if(R=0,G=G===""?".":G+":",L(T))for(var O=0;O<T.length;O++){E=T[O];var _=G+le(E,O);R+=de(E,B,H,_,W)}else if(_=v(T),typeof _=="function")for(T=_.call(T),O=0;!(E=T.next()).done;)E=E.value,_=G+le(E,O++),R+=de(E,B,H,_,W);else if(E==="object")throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return R}function fe(T,B,H){if(T==null)return T;var G=[],W=0;return de(T,G,"","",function(E){return B.call(H,E,W++)}),G}function ne(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var Y={current:null},I={transition:null},C={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:I,ReactCurrentOwner:F};function k(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:fe,forEach:function(T,B,H){fe(T,function(){B.apply(this,arguments)},H)},count:function(T){var B=0;return fe(T,function(){B++}),B},toArray:function(T){return fe(T,function(B){return B})||[]},only:function(T){if(!j(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},react_production_min.Component=y,react_production_min.Fragment=n,react_production_min.Profiler=u,react_production_min.PureComponent=P,react_production_min.StrictMode=i,react_production_min.Suspense=M,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,react_production_min.act=k,react_production_min.cloneElement=function(T,B,H){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var G=l({},T.props),W=T.key,E=T.ref,R=T._owner;if(B!=null){if(B.ref!==void 0&&(E=B.ref,R=F.current),B.key!==void 0&&(W=""+B.key),T.type&&T.type.defaultProps)var O=T.type.defaultProps;for(_ in B)w.call(B,_)&&!z.hasOwnProperty(_)&&(G[_]=B[_]===void 0&&O!==void 0?O[_]:B[_])}var _=arguments.length-2;if(_===1)G.children=H;else if(1<_){O=Array(_);for(var D=0;D<_;D++)O[D]=arguments[D+2];G.children=O}return{$$typeof:h,type:T.type,key:W,ref:E,props:G,_owner:R}},react_production_min.createContext=function(T){return T={$$typeof:S,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:f,_context:T},T.Consumer=T},react_production_min.createElement=V,react_production_min.createFactory=function(T){var B=V.bind(null,T);return B.type=T,B},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(T){return{$$typeof:x,render:T}},react_production_min.isValidElement=j,react_production_min.lazy=function(T){return{$$typeof:o,_payload:{_status:-1,_result:T},_init:ne}},react_production_min.memo=function(T,B){return{$$typeof:d,type:T,compare:B===void 0?null:B}},react_production_min.startTransition=function(T){var B=I.transition;I.transition={};try{T()}finally{I.transition=B}},react_production_min.unstable_act=k,react_production_min.useCallback=function(T,B){return Y.current.useCallback(T,B)},react_production_min.useContext=function(T){return Y.current.useContext(T)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(T){return Y.current.useDeferredValue(T)},react_production_min.useEffect=function(T,B){return Y.current.useEffect(T,B)},react_production_min.useId=function(){return Y.current.useId()},react_production_min.useImperativeHandle=function(T,B,H){return Y.current.useImperativeHandle(T,B,H)},react_production_min.useInsertionEffect=function(T,B){return Y.current.useInsertionEffect(T,B)},react_production_min.useLayoutEffect=function(T,B){return Y.current.useLayoutEffect(T,B)},react_production_min.useMemo=function(T,B){return Y.current.useMemo(T,B)},react_production_min.useReducer=function(T,B,H){return Y.current.useReducer(T,B,H)},react_production_min.useRef=function(T){return Y.current.useRef(T)},react_production_min.useState=function(T){return Y.current.useState(T)},react_production_min.useSyncExternalStore=function(T,B,H){return Y.current.useSyncExternalStore(T,B,H)},react_production_min.useTransition=function(){return Y.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(h){function a(I,C){var k=I.length;I.push(C);e:for(;0<k;){var T=k-1>>>1,B=I[T];if(0<u(B,C))I[T]=C,I[k]=B,k=T;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var C=I[0],k=I.pop();if(k!==C){I[0]=k;e:for(var T=0,B=I.length,H=B>>>1;T<H;){var G=2*(T+1)-1,W=I[G],E=G+1,R=I[E];if(0>u(W,k))E<B&&0>u(R,W)?(I[T]=R,I[E]=k,T=E):(I[T]=W,I[G]=k,T=G);else if(E<B&&0>u(R,k))I[T]=R,I[E]=k,T=E;else break e}}return C}function u(I,C){var k=I.sortIndex-C.sortIndex;return k!==0?k:I.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;h.unstable_now=function(){return f.now()}}else{var S=Date,x=S.now();h.unstable_now=function(){return S.now()-x}}var M=[],d=[],o=1,c=null,v=3,A=!1,l=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(I){for(var C=n(d);C!==null;){if(C.callback===null)i(d);else if(C.startTime<=I)i(d),C.sortIndex=C.expirationTime,a(M,C);else break;C=n(d)}}function L(I){if(p=!1,N(I),!l)if(n(M)!==null)l=!0,ne(w);else{var C=n(d);C!==null&&Y(L,C.startTime-I)}}function w(I,C){l=!1,p&&(p=!1,m(V),V=-1),A=!0;var k=v;try{for(N(C),c=n(M);c!==null&&(!(c.expirationTime>C)||I&&!J());){var T=c.callback;if(typeof T=="function"){c.callback=null,v=c.priorityLevel;var B=T(c.expirationTime<=C);C=h.unstable_now(),typeof B=="function"?c.callback=B:c===n(M)&&i(M),N(C)}else i(M);c=n(M)}if(c!==null)var H=!0;else{var G=n(d);G!==null&&Y(L,G.startTime-C),H=!1}return H}finally{c=null,v=k,A=!1}}var F=!1,z=null,V=-1,$=5,j=-1;function J(){return!(h.unstable_now()-j<$)}function he(){if(z!==null){var I=h.unstable_now();j=I;var C=!0;try{C=z(!0,I)}finally{C?le():(F=!1,z=null)}}else F=!1}var le;if(typeof P=="function")le=function(){P(he)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=he,le=function(){fe.postMessage(null)}}else le=function(){y(he,0)};function ne(I){z=I,F||(F=!0,le())}function Y(I,C){V=y(function(){I(h.unstable_now())},C)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(I){I.callback=null},h.unstable_continueExecution=function(){l||A||(l=!0,ne(w))},h.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},h.unstable_getCurrentPriorityLevel=function(){return v},h.unstable_getFirstCallbackNode=function(){return n(M)},h.unstable_next=function(I){switch(v){case 1:case 2:case 3:var C=3;break;default:C=v}var k=v;v=C;try{return I()}finally{v=k}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(I,C){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=v;v=I;try{return C()}finally{v=k}},h.unstable_scheduleCallback=function(I,C,k){var T=h.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?T+k:T):k=T,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=k+B,I={id:o++,callback:C,priorityLevel:I,startTime:k,expirationTime:B,sortIndex:-1},k>T?(I.sortIndex=k,a(d,I),n(M)===null&&I===n(d)&&(p?(m(V),V=-1):p=!0,Y(L,k-T))):(I.sortIndex=B,a(M,I),l||A||(l=!0,ne(w))),I},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(I){var C=v;return function(){var k=v;v=C;try{return I.apply(this,arguments)}finally{v=k}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var h=requireReact(),a=requireScheduler();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,u={};function f(e,t){S(e,t),S(e+"Capture",t)}function S(e,t){for(u[e]=t,e=0;e<t.length;e++)i.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},c={};function v(e){return M.call(c,e)?!0:M.call(o,e)?!1:d.test(e)?c[e]=!0:(o[e]=!0,!1)}function A(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l(e,t,r,s){if(t===null||typeof t>"u"||A(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function p(e,t,r,s,g,b,U){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=g,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=b,this.removeEmptyString=U}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,P);y[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,P);y[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,P);y[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,t,r,s){var g=y.hasOwnProperty(t)?y[t]:null;(g!==null?g.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(l(t,r,g,s)&&(r=null),s||g===null?v(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):g.mustUseProperty?e[g.propertyName]=r===null?g.type===3?!1:"":r:(t=g.attributeName,s=g.attributeNamespace,r===null?e.removeAttribute(t):(g=g.type,r=g===3||g===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var L=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),I=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var k=Object.assign,T;function B(e){if(T===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var s=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){s=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){s=ce}e()}}catch(ce){if(ce&&s&&typeof ce.stack=="string"){for(var g=ce.stack.split(`
`),b=s.stack.split(`
`),U=g.length-1,K=b.length-1;1<=U&&0<=K&&g[U]!==b[K];)K--;for(;1<=U&&0<=K;U--,K--)if(g[U]!==b[K]){if(U!==1||K!==1)do if(U--,K--,0>K||g[U]!==b[K]){var Z=`
`+g[U].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=U&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function E(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case F:return"Portal";case $:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:E(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return E(e(t))}catch{}}return null}function R(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function O(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D(e){var t=_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var g=r.get,b=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(U){s=""+U,b.call(this,U)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(U){s=""+U},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X(e){e._valueTracker||(e._valueTracker=D(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=_(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Se(e,t){var r=t.checked;return k({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function se(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=O(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ue(e,t){t=t.checked,t!=null&&N(e,"checked",t,!1)}function pe(e,t){ue(e,t);var r=O(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?me(e,t.type,r):t.hasOwnProperty("defaultValue")&&me(e,t.type,O(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function me(e,t,r){(t!=="number"||te(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ce=Array.isArray;function Te(e,t,r,s){if(e=e.options,t){t={};for(var g=0;g<r.length;g++)t["$"+r[g]]=!0;for(r=0;r<e.length;r++)g=t.hasOwnProperty("$"+e[r].value),e[r].selected!==g&&(e[r].selected=g),g&&s&&(e[r].defaultSelected=!0)}else{for(r=""+O(r),t=null,g=0;g<e.length;g++){if(e[g].value===r){e[g].selected=!0,s&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function Fe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return k({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ue(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(n(92));if(Ce(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:O(r)}}function We(e,t){var r=O(t.value),s=O(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ye(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lt,Ze=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,g){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,g)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ft(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qe[t]=qe[e]})});function Qn(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qe.hasOwnProperty(e)&&qe[e]?(""+t).trim():t+"px"}function gn(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,g=Qn(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,g):e[r]=g}}var ye=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(e,t){if(t){if(ye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ee(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ge(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var st=null,re=null,ke=null;function Ne(e){if(e=_r(e)){if(typeof st!="function")throw Error(n(280));var t=e.stateNode;t&&(t=yi(t),st(e.stateNode,e.type,t))}}function Oe(e){re?ke?ke.push(e):ke=[e]:re=e}function Le(){if(re){var e=re,t=ke;if(ke=re=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function $e(e,t){return e(t)}function xe(){}var Ke=!1;function He(e,t,r){if(Ke)return e(t,r);Ke=!0;try{return $e(e,t,r)}finally{Ke=!1,(re!==null||ke!==null)&&(xe(),Le())}}function Ve(e,t){var r=e.stateNode;if(r===null)return null;var s=yi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(n(231,t,typeof r));return r}var rt=!1;if(x)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){rt=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{rt=!1}function lt(e,t,r,s,g,b,U,K,Z){var ce=Array.prototype.slice.call(arguments,3);try{t.apply(r,ce)}catch(Ae){this.onError(Ae)}}var Nt=!1,yt=null,en=!1,Nn=null,gu={onError:function(e){Nt=!0,yt=e}};function mu(e,t,r,s,g,b,U,K,Z){Nt=!1,yt=null,lt.apply(gu,arguments)}function vu(e,t,r,s,g,b,U,K,Z){if(mu.apply(this,arguments),Nt){if(Nt){var ce=yt;Nt=!1,yt=null}else throw Error(n(198));en||(en=!0,Nn=ce)}}function _n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ba(e){if(_n(e)!==e)throw Error(n(188))}function yu(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var g=r.return;if(g===null)break;var b=g.alternate;if(b===null){if(s=g.return,s!==null){r=s;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===r)return Ba(g),e;if(b===s)return Ba(g),t;b=b.sibling}throw Error(n(188))}if(r.return!==s.return)r=g,s=b;else{for(var U=!1,K=g.child;K;){if(K===r){U=!0,r=g,s=b;break}if(K===s){U=!0,s=g,r=b;break}K=K.sibling}if(!U){for(K=b.child;K;){if(K===r){U=!0,r=b,s=g;break}if(K===s){U=!0,s=b,r=g;break}K=K.sibling}if(!U)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(r.tag!==3)throw Error(n(188));return r.stateNode.current===r?e:t}function Ua(e){return e=yu(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var Wa=a.unstable_scheduleCallback,Ha=a.unstable_cancelCallback,Su=a.unstable_shouldYield,Au=a.unstable_requestPaint,dt=a.unstable_now,Eu=a.unstable_getCurrentPriorityLevel,rs=a.unstable_ImmediatePriority,$a=a.unstable_UserBlockingPriority,Zr=a.unstable_NormalPriority,bu=a.unstable_LowPriority,Va=a.unstable_IdlePriority,qr=null,tn=null;function xu(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qr,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:wu,Cu=Math.log,ku=Math.LN2;function wu(e){return e>>>=0,e===0?32:31-(Cu(e)/ku|0)|0}var ei=64,ti=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,g=e.suspendedLanes,b=e.pingedLanes,U=r&268435455;if(U!==0){var K=U&~g;K!==0?s=Sr(K):(b&=U,b!==0&&(s=Sr(b)))}else U=r&~g,U!==0?s=Sr(U):b!==0&&(s=Sr(b));if(s===0)return 0;if(t!==0&&t!==s&&(t&g)===0&&(g=s&-s,b=t&-t,g>=b||g===16&&(b&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Yt(t),g=1<<r,s|=e[r],t&=~g;return s}function Tu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,g=e.expirationTimes,b=e.pendingLanes;0<b;){var U=31-Yt(b),K=1<<U,Z=g[U];Z===-1?((K&r)===0||(K&s)!==0)&&(g[U]=Tu(K,t)):Z<=t&&(e.expiredLanes|=K),b&=~K}}function is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function ss(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ar(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=r}function Ru(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var g=31-Yt(r),b=1<<g;t[g]=0,s[g]=-1,e[g]=-1,r&=~b}}function as(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Yt(r),g=1<<s;g&t|e[s]&t&&(e[s]|=t),r&=~g}}var Qe=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ya,os,Ka,ja,Qa,ls=!1,ri=[],mn=null,vn=null,yn=null,Er=new Map,br=new Map,Sn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(t.pointerId)}}function xr(e,t,r,s,g,b){return e===null||e.nativeEvent!==b?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:b,targetContainers:[g]},t!==null&&(t=_r(t),t!==null&&os(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Iu(e,t,r,s,g){switch(t){case"focusin":return mn=xr(mn,e,t,r,s,g),!0;case"dragenter":return vn=xr(vn,e,t,r,s,g),!0;case"mouseover":return yn=xr(yn,e,t,r,s,g),!0;case"pointerover":var b=g.pointerId;return Er.set(b,xr(Er.get(b)||null,e,t,r,s,g)),!0;case"gotpointercapture":return b=g.pointerId,br.set(b,xr(br.get(b)||null,e,t,r,s,g)),!0}return!1}function Za(e){var t=Bn(e.target);if(t!==null){var r=_n(t);if(r!==null){if(t=r.tag,t===13){if(t=_a(r),t!==null){e.blockedOn=t,Qa(e.priority,function(){Ka(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);we=s,r.target.dispatchEvent(s),we=null}else return t=_r(r),t!==null&&os(t),e.blockedOn=r,!1;t.shift()}return!0}function qa(e,t,r){ii(e)&&r.delete(t)}function Ou(){ls=!1,mn!==null&&ii(mn)&&(mn=null),vn!==null&&ii(vn)&&(vn=null),yn!==null&&ii(yn)&&(yn=null),Er.forEach(qa),br.forEach(qa)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,ls||(ls=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ou)))}function kr(e){function t(g){return Cr(g,e)}if(0<ri.length){Cr(ri[0],e);for(var r=1;r<ri.length;r++){var s=ri[r];s.blockedOn===e&&(s.blockedOn=null)}}for(mn!==null&&Cr(mn,e),vn!==null&&Cr(vn,e),yn!==null&&Cr(yn,e),Er.forEach(t),br.forEach(t),r=0;r<Sn.length;r++)s=Sn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Sn.length&&(r=Sn[0],r.blockedOn===null);)Za(r),r.blockedOn===null&&Sn.shift()}var Jn=L.ReactCurrentBatchConfig,si=!0;function Fu(e,t,r,s){var g=Qe,b=Jn.transition;Jn.transition=null;try{Qe=1,us(e,t,r,s)}finally{Qe=g,Jn.transition=b}}function Du(e,t,r,s){var g=Qe,b=Jn.transition;Jn.transition=null;try{Qe=4,us(e,t,r,s)}finally{Qe=g,Jn.transition=b}}function us(e,t,r,s){if(si){var g=cs(e,t,r,s);if(g===null)Ts(e,t,s,ai,r),Ja(e,s);else if(Iu(g,e,t,r,s))s.stopPropagation();else if(Ja(e,s),t&4&&-1<Mu.indexOf(e)){for(;g!==null;){var b=_r(g);if(b!==null&&Ya(b),b=cs(e,t,r,s),b===null&&Ts(e,t,s,ai,r),b===g)break;g=b}g!==null&&s.stopPropagation()}else Ts(e,t,s,null,r)}}var ai=null;function cs(e,t,r,s){if(ai=null,e=Ge(s),e=Bn(e),e!==null)if(t=_n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_a(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case rs:return 1;case $a:return 4;case Zr:case bu:return 16;case Va:return 536870912;default:return 16}default:return 16}}var An=null,ds=null,oi=null;function to(){if(oi)return oi;var e,t=ds,r=t.length,s,g="value"in An?An.value:An.textContent,b=g.length;for(e=0;e<r&&t[e]===g[e];e++);var U=r-e;for(s=1;s<=U&&t[r-s]===g[b-s];s++);return oi=g.slice(e,1<s?1-s:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function no(){return!1}function _t(e){function t(r,s,g,b,U){this._reactName=r,this._targetInst=g,this.type=s,this.nativeEvent=b,this.target=U,this.currentTarget=null;for(var K in e)e.hasOwnProperty(K)&&(r=e[K],this[K]=r?r(b):b[K]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ui:no,this.isPropagationStopped=no,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=_t(Zn),wr=k({},Zn,{view:0,detail:0}),Lu=_t(wr),fs,ps,Tr,ci=k({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(fs=e.screenX-Tr.screenX,ps=e.screenY-Tr.screenY):ps=fs=0,Tr=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),ro=_t(ci),Nu=k({},ci,{dataTransfer:0}),_u=_t(Nu),Bu=k({},wr,{relatedTarget:0}),gs=_t(Bu),Uu=k({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=_t(Uu),Wu=k({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=_t(Wu),$u=k({},Zn,{data:0}),io=_t($u),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xu[e])?!!t[e]:!1}function ms(){return Yu}var Ku=k({},wr,{key:function(e){if(e.key){var t=Vu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=_t(Ku),Qu=k({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=_t(Qu),Ju=k({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Zu=_t(Ju),qu=k({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=_t(qu),tc=k({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=_t(tc),rc=[9,13,27,32],vs=x&&"CompositionEvent"in window,Pr=null;x&&"documentMode"in document&&(Pr=document.documentMode);var ic=x&&"TextEvent"in window&&!Pr,ao=x&&(!vs||Pr&&8<Pr&&11>=Pr),oo=" ",lo=!1;function uo(e,t){switch(e){case"keyup":return rc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function sc(e,t){switch(e){case"compositionend":return co(t);case"keypress":return t.which!==32?null:(lo=!0,oo);case"textInput":return e=t.data,e===oo&&lo?null:e;default:return null}}function ac(e,t){if(qn)return e==="compositionend"||!vs&&uo(e,t)?(e=to(),oi=ds=An=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var oc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oc[e.type]:t==="textarea"}function fo(e,t,r,s){Oe(s),t=gi(t,"onChange"),0<t.length&&(r=new hs("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Rr=null,Mr=null;function lc(e){Io(e,0)}function di(e){var t=ir(e);if(Q(t))return e}function uc(e,t){if(e==="change")return t}var po=!1;if(x){var ys;if(x){var Ss="oninput"in document;if(!Ss){var go=document.createElement("div");go.setAttribute("oninput","return;"),Ss=typeof go.oninput=="function"}ys=Ss}else ys=!1;po=ys&&(!document.documentMode||9<document.documentMode)}function mo(){Rr&&(Rr.detachEvent("onpropertychange",vo),Mr=Rr=null)}function vo(e){if(e.propertyName==="value"&&di(Mr)){var t=[];fo(t,Mr,e,Ge(e)),He(lc,t)}}function cc(e,t,r){e==="focusin"?(mo(),Rr=t,Mr=r,Rr.attachEvent("onpropertychange",vo)):e==="focusout"&&mo()}function dc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Mr)}function hc(e,t){if(e==="click")return di(t)}function fc(e,t){if(e==="input"||e==="change")return di(t)}function pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:pc;function Ir(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var g=r[s];if(!M.call(t,g)||!Kt(e[g],t[g]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var r=yo(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yo(r)}}function Ao(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ao(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eo(){for(var e=window,t=te();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=te(e.document)}return t}function As(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gc(e){var t=Eo(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ao(r.ownerDocument.documentElement,r)){if(s!==null&&As(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=r.textContent.length,b=Math.min(s.start,g);s=s.end===void 0?b:Math.min(s.end,g),!e.extend&&b>s&&(g=s,s=b,b=g),g=So(r,b);var U=So(r,s);g&&U&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==U.node||e.focusOffset!==U.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),b>s?(e.addRange(t),e.extend(U.node,U.offset)):(t.setEnd(U.node,U.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mc=x&&"documentMode"in document&&11>=document.documentMode,er=null,Es=null,Or=null,bs=!1;function bo(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bs||er==null||er!==te(s)||(s=er,"selectionStart"in s&&As(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Or&&Ir(Or,s)||(Or=s,s=gi(Es,"onSelect"),0<s.length&&(t=new hs("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=er)))}function hi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var tr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},xs={},xo={};x&&(xo=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function fi(e){if(xs[e])return xs[e];if(!tr[e])return e;var t=tr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xo)return xs[e]=t[r];return e}var Co=fi("animationend"),ko=fi("animationiteration"),wo=fi("animationstart"),To=fi("transitionend"),Po=new Map,Ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Po.set(e,t),f(t,[e])}for(var Cs=0;Cs<Ro.length;Cs++){var ks=Ro[Cs],vc=ks.toLowerCase(),yc=ks[0].toUpperCase()+ks.slice(1);En(vc,"on"+yc)}En(Co,"onAnimationEnd"),En(ko,"onAnimationIteration"),En(wo,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(To,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mo(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,vu(s,t,void 0,e),e.currentTarget=null}function Io(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],g=s.event;s=s.listeners;e:{var b=void 0;if(t)for(var U=s.length-1;0<=U;U--){var K=s[U],Z=K.instance,ce=K.currentTarget;if(K=K.listener,Z!==b&&g.isPropagationStopped())break e;Mo(g,K,ce),b=Z}else for(U=0;U<s.length;U++){if(K=s[U],Z=K.instance,ce=K.currentTarget,K=K.listener,Z!==b&&g.isPropagationStopped())break e;Mo(g,K,ce),b=Z}}}if(en)throw e=Nn,en=!1,Nn=null,e}function et(e,t){var r=t[Fs];r===void 0&&(r=t[Fs]=new Set);var s=e+"__bubble";r.has(s)||(Oo(t,e,2,!1),r.add(s))}function ws(e,t,r){var s=0;t&&(s|=4),Oo(r,e,s,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[pi]){e[pi]=!0,i.forEach(function(r){r!=="selectionchange"&&(Sc.has(r)||ws(r,!1,e),ws(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,ws("selectionchange",!1,t))}}function Oo(e,t,r,s){switch(eo(t)){case 1:var g=Fu;break;case 4:g=Du;break;default:g=us}r=g.bind(null,t,r,e),g=void 0,!rt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),s?g!==void 0?e.addEventListener(t,r,{capture:!0,passive:g}):e.addEventListener(t,r,!0):g!==void 0?e.addEventListener(t,r,{passive:g}):e.addEventListener(t,r,!1)}function Ts(e,t,r,s,g){var b=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var U=s.tag;if(U===3||U===4){var K=s.stateNode.containerInfo;if(K===g||K.nodeType===8&&K.parentNode===g)break;if(U===4)for(U=s.return;U!==null;){var Z=U.tag;if((Z===3||Z===4)&&(Z=U.stateNode.containerInfo,Z===g||Z.nodeType===8&&Z.parentNode===g))return;U=U.return}for(;K!==null;){if(U=Bn(K),U===null)return;if(Z=U.tag,Z===5||Z===6){s=b=U;continue e}K=K.parentNode}}s=s.return}He(function(){var ce=b,Ae=Ge(r),Ee=[];e:{var ve=Po.get(e);if(ve!==void 0){var Pe=hs,Me=e;switch(e){case"keypress":if(li(r)===0)break e;case"keydown":case"keyup":Pe=ju;break;case"focusin":Me="focus",Pe=gs;break;case"focusout":Me="blur",Pe=gs;break;case"beforeblur":case"afterblur":Pe=gs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Zu;break;case Co:case ko:case wo:Pe=zu;break;case To:Pe=ec;break;case"scroll":Pe=Lu;break;case"wheel":Pe=nc;break;case"copy":case"cut":case"paste":Pe=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=so}var Ie=(t&4)!==0,ht=!Ie&&e==="scroll",ae=Ie?ve!==null?ve+"Capture":null:ve;Ie=[];for(var q=ce,oe;q!==null;){oe=q;var be=oe.stateNode;if(oe.tag===5&&be!==null&&(oe=be,ae!==null&&(be=Ve(q,ae),be!=null&&Ie.push(Lr(q,be,oe)))),ht)break;q=q.return}0<Ie.length&&(ve=new Pe(ve,Me,null,r,Ae),Ee.push({event:ve,listeners:Ie}))}}if((t&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",ve&&r!==we&&(Me=r.relatedTarget||r.fromElement)&&(Bn(Me)||Me[on]))break e;if((Pe||ve)&&(ve=Ae.window===Ae?Ae:(ve=Ae.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(Me=r.relatedTarget||r.toElement,Pe=ce,Me=Me?Bn(Me):null,Me!==null&&(ht=_n(Me),Me!==ht||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Pe=null,Me=ce),Pe!==Me)){if(Ie=ro,be="onMouseLeave",ae="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=so,be="onPointerLeave",ae="onPointerEnter",q="pointer"),ht=Pe==null?ve:ir(Pe),oe=Me==null?ve:ir(Me),ve=new Ie(be,q+"leave",Pe,r,Ae),ve.target=ht,ve.relatedTarget=oe,be=null,Bn(Ae)===ce&&(Ie=new Ie(ae,q+"enter",Me,r,Ae),Ie.target=oe,Ie.relatedTarget=ht,be=Ie),ht=be,Pe&&Me)t:{for(Ie=Pe,ae=Me,q=0,oe=Ie;oe;oe=nr(oe))q++;for(oe=0,be=ae;be;be=nr(be))oe++;for(;0<q-oe;)Ie=nr(Ie),q--;for(;0<oe-q;)ae=nr(ae),oe--;for(;q--;){if(Ie===ae||ae!==null&&Ie===ae.alternate)break t;Ie=nr(Ie),ae=nr(ae)}Ie=null}else Ie=null;Pe!==null&&Fo(Ee,ve,Pe,Ie,!1),Me!==null&&ht!==null&&Fo(Ee,ht,Me,Ie,!0)}}e:{if(ve=ce?ir(ce):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var De=uc;else if(ho(ve))if(po)De=fc;else{De=dc;var _e=cc}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(De=hc);if(De&&(De=De(e,ce))){fo(Ee,De,r,Ae);break e}_e&&_e(e,ve,ce),e==="focusout"&&(_e=ve._wrapperState)&&_e.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(_e=ce?ir(ce):window,e){case"focusin":(ho(_e)||_e.contentEditable==="true")&&(er=_e,Es=ce,Or=null);break;case"focusout":Or=Es=er=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,bo(Ee,r,Ae);break;case"selectionchange":if(mc)break;case"keydown":case"keyup":bo(Ee,r,Ae)}var Be;if(vs)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else qn?uo(e,r)&&(ze="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(ao&&r.locale!=="ko"&&(qn||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&qn&&(Be=to()):(An=Ae,ds="value"in An?An.value:An.textContent,qn=!0)),_e=gi(ce,ze),0<_e.length&&(ze=new io(ze,e,null,r,Ae),Ee.push({event:ze,listeners:_e}),Be?ze.data=Be:(Be=co(r),Be!==null&&(ze.data=Be)))),(Be=ic?sc(e,r):ac(e,r))&&(ce=gi(ce,"onBeforeInput"),0<ce.length&&(Ae=new io("onBeforeInput","beforeinput",null,r,Ae),Ee.push({event:Ae,listeners:ce}),Ae.data=Be))}Io(Ee,t)})}function Lr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gi(e,t){for(var r=t+"Capture",s=[];e!==null;){var g=e,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=Ve(e,r),b!=null&&s.unshift(Lr(e,b,g)),b=Ve(e,t),b!=null&&s.push(Lr(e,b,g))),e=e.return}return s}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fo(e,t,r,s,g){for(var b=t._reactName,U=[];r!==null&&r!==s;){var K=r,Z=K.alternate,ce=K.stateNode;if(Z!==null&&Z===s)break;K.tag===5&&ce!==null&&(K=ce,g?(Z=Ve(r,b),Z!=null&&U.unshift(Lr(r,Z,K))):g||(Z=Ve(r,b),Z!=null&&U.push(Lr(r,Z,K)))),r=r.return}U.length!==0&&e.push({event:t,listeners:U})}var Ac=/\r\n?/g,Ec=/\u0000|\uFFFD/g;function Do(e){return(typeof e=="string"?e:""+e).replace(Ac,`
`).replace(Ec,"")}function mi(e,t,r){if(t=Do(t),Do(e)!==t&&r)throw Error(n(425))}function vi(){}var Ps=null,Rs=null;function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Is=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,Lo=typeof Promise=="function"?Promise:void 0,xc=typeof queueMicrotask=="function"?queueMicrotask:typeof Lo<"u"?function(e){return Lo.resolve(null).then(e).catch(Cc)}:Is;function Cc(e){setTimeout(function(){throw e})}function Os(e,t){var r=t,s=0;do{var g=r.nextSibling;if(e.removeChild(r),g&&g.nodeType===8)if(r=g.data,r==="/$"){if(s===0){e.removeChild(g),kr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=g}while(r);kr(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),nn="__reactFiber$"+rr,Nr="__reactProps$"+rr,on="__reactContainer$"+rr,Fs="__reactEvents$"+rr,kc="__reactListeners$"+rr,wc="__reactHandles$"+rr;function Bn(e){var t=e[nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[on]||r[nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=No(e);e!==null;){if(r=e[nn])return r;e=No(e)}return t}e=r,r=e.parentNode}return null}function _r(e){return e=e[nn]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function yi(e){return e[Nr]||null}var Ds=[],sr=-1;function xn(e){return{current:e}}function tt(e){0>sr||(e.current=Ds[sr],Ds[sr]=null,sr--)}function Je(e,t){sr++,Ds[sr]=e.current,e.current=t}var Cn={},Ct=xn(Cn),Mt=xn(!1),Un=Cn;function ar(e,t){var r=e.type.contextTypes;if(!r)return Cn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in r)g[b]=t[b];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function It(e){return e=e.childContextTypes,e!=null}function Si(){tt(Mt),tt(Ct)}function _o(e,t,r){if(Ct.current!==Cn)throw Error(n(168));Je(Ct,t),Je(Mt,r)}function Bo(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var g in s)if(!(g in t))throw Error(n(108,R(e)||"Unknown",g));return k({},r,s)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Un=Ct.current,Je(Ct,e),Je(Mt,Mt.current),!0}function Uo(e,t,r){var s=e.stateNode;if(!s)throw Error(n(169));r?(e=Bo(e,t,Un),s.__reactInternalMemoizedMergedChildContext=e,tt(Mt),tt(Ct),Je(Ct,e)):tt(Mt),Je(Mt,r)}var ln=null,Ei=!1,Ls=!1;function zo(e){ln===null?ln=[e]:ln.push(e)}function Tc(e){Ei=!0,zo(e)}function kn(){if(!Ls&&ln!==null){Ls=!0;var e=0,t=Qe;try{var r=ln;for(Qe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ln=null,Ei=!1}catch(g){throw ln!==null&&(ln=ln.slice(e+1)),Wa(rs,kn),g}finally{Qe=t,Ls=!1}}return null}var or=[],lr=0,bi=null,xi=0,Wt=[],Ht=0,zn=null,un=1,cn="";function Wn(e,t){or[lr++]=xi,or[lr++]=bi,bi=e,xi=t}function Wo(e,t,r){Wt[Ht++]=un,Wt[Ht++]=cn,Wt[Ht++]=zn,zn=e;var s=un;e=cn;var g=32-Yt(s)-1;s&=~(1<<g),r+=1;var b=32-Yt(t)+g;if(30<b){var U=g-g%5;b=(s&(1<<U)-1).toString(32),s>>=U,g-=U,un=1<<32-Yt(t)+g|r<<g|s,cn=b+e}else un=1<<b|r<<g|s,cn=e}function Ns(e){e.return!==null&&(Wn(e,1),Wo(e,1,0))}function _s(e){for(;e===bi;)bi=or[--lr],or[lr]=null,xi=or[--lr],or[lr]=null;for(;e===zn;)zn=Wt[--Ht],Wt[Ht]=null,cn=Wt[--Ht],Wt[Ht]=null,un=Wt[--Ht],Wt[Ht]=null}var Bt=null,Ut=null,it=!1,jt=null;function Ho(e,t){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $o(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zn!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bt=e,Ut=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(it){var t=Ut;if(t){var r=t;if(!$o(e,t)){if(Bs(e))throw Error(n(418));t=bn(r.nextSibling);var s=Bt;t&&$o(e,t)?Ho(s,r):(e.flags=e.flags&-4097|2,it=!1,Bt=e)}}else{if(Bs(e))throw Error(n(418));e.flags=e.flags&-4097|2,it=!1,Bt=e}}}function Vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Ci(e){if(e!==Bt)return!1;if(!it)return Vo(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ms(e.type,e.memoizedProps)),t&&(t=Ut)){if(Bs(e))throw Go(),Error(n(418));for(;t;)Ho(e,t),t=bn(t.nextSibling)}if(Vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ut=bn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?bn(e.stateNode.nextSibling):null;return!0}function Go(){for(var e=Ut;e;)e=bn(e.nextSibling)}function ur(){Ut=Bt=null,it=!1}function zs(e){jt===null?jt=[e]:jt.push(e)}var Pc=L.ReactCurrentBatchConfig;function Br(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(n(309));var s=r.stateNode}if(!s)throw Error(n(147,e));var g=s,b=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===b?t.ref:(t=function(U){var K=g.refs;U===null?delete K[b]:K[b]=U},t._stringRef=b,t)}if(typeof e!="string")throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function ki(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){var t=e._init;return t(e._payload)}function Yo(e){function t(ae,q){if(e){var oe=ae.deletions;oe===null?(ae.deletions=[q],ae.flags|=16):oe.push(q)}}function r(ae,q){if(!e)return null;for(;q!==null;)t(ae,q),q=q.sibling;return null}function s(ae,q){for(ae=new Map;q!==null;)q.key!==null?ae.set(q.key,q):ae.set(q.index,q),q=q.sibling;return ae}function g(ae,q){return ae=Fn(ae,q),ae.index=0,ae.sibling=null,ae}function b(ae,q,oe){return ae.index=oe,e?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<q?(ae.flags|=2,q):oe):(ae.flags|=2,q)):(ae.flags|=1048576,q)}function U(ae){return e&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,q,oe,be){return q===null||q.tag!==6?(q=Ia(oe,ae.mode,be),q.return=ae,q):(q=g(q,oe),q.return=ae,q)}function Z(ae,q,oe,be){var De=oe.type;return De===z?Ae(ae,q,oe.props.children,be,oe.key):q!==null&&(q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ne&&Xo(De)===q.type)?(be=g(q,oe.props),be.ref=Br(ae,q,oe),be.return=ae,be):(be=ji(oe.type,oe.key,oe.props,null,ae.mode,be),be.ref=Br(ae,q,oe),be.return=ae,be)}function ce(ae,q,oe,be){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Oa(oe,ae.mode,be),q.return=ae,q):(q=g(q,oe.children||[]),q.return=ae,q)}function Ae(ae,q,oe,be,De){return q===null||q.tag!==7?(q=jn(oe,ae.mode,be,De),q.return=ae,q):(q=g(q,oe),q.return=ae,q)}function Ee(ae,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Ia(""+q,ae.mode,oe),q.return=ae,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return oe=ji(q.type,q.key,q.props,null,ae.mode,oe),oe.ref=Br(ae,null,q),oe.return=ae,oe;case F:return q=Oa(q,ae.mode,oe),q.return=ae,q;case ne:var be=q._init;return Ee(ae,be(q._payload),oe)}if(Ce(q)||C(q))return q=jn(q,ae.mode,oe,null),q.return=ae,q;ki(ae,q)}return null}function ve(ae,q,oe,be){var De=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return De!==null?null:K(ae,q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return oe.key===De?Z(ae,q,oe,be):null;case F:return oe.key===De?ce(ae,q,oe,be):null;case ne:return De=oe._init,ve(ae,q,De(oe._payload),be)}if(Ce(oe)||C(oe))return De!==null?null:Ae(ae,q,oe,be,null);ki(ae,oe)}return null}function Pe(ae,q,oe,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return ae=ae.get(oe)||null,K(q,ae,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return ae=ae.get(be.key===null?oe:be.key)||null,Z(q,ae,be,De);case F:return ae=ae.get(be.key===null?oe:be.key)||null,ce(q,ae,be,De);case ne:var _e=be._init;return Pe(ae,q,oe,_e(be._payload),De)}if(Ce(be)||C(be))return ae=ae.get(oe)||null,Ae(q,ae,be,De,null);ki(q,be)}return null}function Me(ae,q,oe,be){for(var De=null,_e=null,Be=q,ze=q=0,Et=null;Be!==null&&ze<oe.length;ze++){Be.index>ze?(Et=Be,Be=null):Et=Be.sibling;var je=ve(ae,Be,oe[ze],be);if(je===null){Be===null&&(Be=Et);break}e&&Be&&je.alternate===null&&t(ae,Be),q=b(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je,Be=Et}if(ze===oe.length)return r(ae,Be),it&&Wn(ae,ze),De;if(Be===null){for(;ze<oe.length;ze++)Be=Ee(ae,oe[ze],be),Be!==null&&(q=b(Be,q,ze),_e===null?De=Be:_e.sibling=Be,_e=Be);return it&&Wn(ae,ze),De}for(Be=s(ae,Be);ze<oe.length;ze++)Et=Pe(Be,ae,ze,oe[ze],be),Et!==null&&(e&&Et.alternate!==null&&Be.delete(Et.key===null?ze:Et.key),q=b(Et,q,ze),_e===null?De=Et:_e.sibling=Et,_e=Et);return e&&Be.forEach(function(Dn){return t(ae,Dn)}),it&&Wn(ae,ze),De}function Ie(ae,q,oe,be){var De=C(oe);if(typeof De!="function")throw Error(n(150));if(oe=De.call(oe),oe==null)throw Error(n(151));for(var _e=De=null,Be=q,ze=q=0,Et=null,je=oe.next();Be!==null&&!je.done;ze++,je=oe.next()){Be.index>ze?(Et=Be,Be=null):Et=Be.sibling;var Dn=ve(ae,Be,je.value,be);if(Dn===null){Be===null&&(Be=Et);break}e&&Be&&Dn.alternate===null&&t(ae,Be),q=b(Dn,q,ze),_e===null?De=Dn:_e.sibling=Dn,_e=Dn,Be=Et}if(je.done)return r(ae,Be),it&&Wn(ae,ze),De;if(Be===null){for(;!je.done;ze++,je=oe.next())je=Ee(ae,je.value,be),je!==null&&(q=b(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return it&&Wn(ae,ze),De}for(Be=s(ae,Be);!je.done;ze++,je=oe.next())je=Pe(Be,ae,ze,je.value,be),je!==null&&(e&&je.alternate!==null&&Be.delete(je.key===null?ze:je.key),q=b(je,q,ze),_e===null?De=je:_e.sibling=je,_e=je);return e&&Be.forEach(function(od){return t(ae,od)}),it&&Wn(ae,ze),De}function ht(ae,q,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:e:{for(var De=oe.key,_e=q;_e!==null;){if(_e.key===De){if(De=oe.type,De===z){if(_e.tag===7){r(ae,_e.sibling),q=g(_e,oe.props.children),q.return=ae,ae=q;break e}}else if(_e.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ne&&Xo(De)===_e.type){r(ae,_e.sibling),q=g(_e,oe.props),q.ref=Br(ae,_e,oe),q.return=ae,ae=q;break e}r(ae,_e);break}else t(ae,_e);_e=_e.sibling}oe.type===z?(q=jn(oe.props.children,ae.mode,be,oe.key),q.return=ae,ae=q):(be=ji(oe.type,oe.key,oe.props,null,ae.mode,be),be.ref=Br(ae,q,oe),be.return=ae,ae=be)}return U(ae);case F:e:{for(_e=oe.key;q!==null;){if(q.key===_e)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){r(ae,q.sibling),q=g(q,oe.children||[]),q.return=ae,ae=q;break e}else{r(ae,q);break}else t(ae,q);q=q.sibling}q=Oa(oe,ae.mode,be),q.return=ae,ae=q}return U(ae);case ne:return _e=oe._init,ht(ae,q,_e(oe._payload),be)}if(Ce(oe))return Me(ae,q,oe,be);if(C(oe))return Ie(ae,q,oe,be);ki(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(r(ae,q.sibling),q=g(q,oe),q.return=ae,ae=q):(r(ae,q),q=Ia(oe,ae.mode,be),q.return=ae,ae=q),U(ae)):r(ae,q)}return ht}var cr=Yo(!0),Ko=Yo(!1),wi=xn(null),Ti=null,dr=null,Ws=null;function Hs(){Ws=dr=Ti=null}function $s(e){var t=wi.current;tt(wi),e._currentValue=t}function Vs(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function hr(e,t){Ti=e,Ws=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ot=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Ti===null)throw Error(n(308));dr=e,Ti.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Hn=null;function Gs(e){Hn===null?Hn=[e]:Hn.push(e)}function jo(e,t,r,s){var g=t.interleaved;return g===null?(r.next=r,Gs(t)):(r.next=g.next,g.next=r),t.interleaved=r,dn(e,s)}function dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wn=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Xe&2)!==0){var g=s.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),s.pending=t,dn(e,r)}return g=s.interleaved,g===null?(t.next=t,Gs(s)):(t.next=g.next,g.next=t),s.interleaved=t,dn(e,r)}function Pi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,as(e,r)}}function Jo(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var g=null,b=null;if(r=r.firstBaseUpdate,r!==null){do{var U={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};b===null?g=b=U:b=b.next=U,r=r.next}while(r!==null);b===null?g=b=t:b=b.next=t}else g=b=t;r={baseState:s.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ri(e,t,r,s){var g=e.updateQueue;wn=!1;var b=g.firstBaseUpdate,U=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var Z=K,ce=Z.next;Z.next=null,U===null?b=ce:U.next=ce,U=Z;var Ae=e.alternate;Ae!==null&&(Ae=Ae.updateQueue,K=Ae.lastBaseUpdate,K!==U&&(K===null?Ae.firstBaseUpdate=ce:K.next=ce,Ae.lastBaseUpdate=Z))}if(b!==null){var Ee=g.baseState;U=0,Ae=ce=Z=null,K=b;do{var ve=K.lane,Pe=K.eventTime;if((s&ve)===ve){Ae!==null&&(Ae=Ae.next={eventTime:Pe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Me=e,Ie=K;switch(ve=t,Pe=r,Ie.tag){case 1:if(Me=Ie.payload,typeof Me=="function"){Ee=Me.call(Pe,Ee,ve);break e}Ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ie.payload,ve=typeof Me=="function"?Me.call(Pe,Ee,ve):Me,ve==null)break e;Ee=k({},Ee,ve);break e;case 2:wn=!0}}K.callback!==null&&K.lane!==0&&(e.flags|=64,ve=g.effects,ve===null?g.effects=[K]:ve.push(K))}else Pe={eventTime:Pe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ae===null?(ce=Ae=Pe,Z=Ee):Ae=Ae.next=Pe,U|=ve;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,g.lastBaseUpdate=ve,g.shared.pending=null}}while(!0);if(Ae===null&&(Z=Ee),g.baseState=Z,g.firstBaseUpdate=ce,g.lastBaseUpdate=Ae,t=g.shared.interleaved,t!==null){g=t;do U|=g.lane,g=g.next;while(g!==t)}else b===null&&(g.shared.lanes=0);Gn|=U,e.lanes=U,e.memoizedState=Ee}}function Zo(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],g=s.callback;if(g!==null){if(s.callback=null,s=r,typeof g!="function")throw Error(n(191,g));g.call(s)}}}var Ur={},rn=xn(Ur),zr=xn(Ur),Wr=xn(Ur);function $n(e){if(e===Ur)throw Error(n(174));return e}function Ys(e,t){switch(Je(Wr,t),Je(zr,e),Je(rn,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ct(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ct(t,e)}tt(rn),Je(rn,t)}function fr(){tt(rn),tt(zr),tt(Wr)}function qo(e){$n(Wr.current);var t=$n(rn.current),r=ct(t,e.type);t!==r&&(Je(zr,e),Je(rn,r))}function Ks(e){zr.current===e&&(tt(rn),tt(zr))}var at=xn(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=[];function Qs(){for(var e=0;e<js.length;e++)js[e]._workInProgressVersionPrimary=null;js.length=0}var Ii=L.ReactCurrentDispatcher,Js=L.ReactCurrentBatchConfig,Vn=0,ot=null,mt=null,St=null,Oi=!1,Hr=!1,$r=0,Rc=0;function kt(){throw Error(n(321))}function Zs(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function qs(e,t,r,s,g,b){if(Vn=b,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Fc:Dc,e=r(s,g),Hr){b=0;do{if(Hr=!1,$r=0,25<=b)throw Error(n(301));b+=1,St=mt=null,t.updateQueue=null,Ii.current=Lc,e=r(s,g)}while(Hr)}if(Ii.current=Li,t=mt!==null&&mt.next!==null,Vn=0,St=mt=ot=null,Oi=!1,t)throw Error(n(300));return e}function ea(){var e=$r!==0;return $r=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ot.memoizedState=St=e:St=St.next=e,St}function Vt(){if(mt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=St===null?ot.memoizedState:St.next;if(t!==null)St=t,mt=e;else{if(e===null)throw Error(n(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?ot.memoizedState=St=e:St=St.next=e}return St}function Vr(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=Vt(),r=t.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=e;var s=mt,g=s.baseQueue,b=r.pending;if(b!==null){if(g!==null){var U=g.next;g.next=b.next,b.next=U}s.baseQueue=g=b,r.pending=null}if(g!==null){b=g.next,s=s.baseState;var K=U=null,Z=null,ce=b;do{var Ae=ce.lane;if((Vn&Ae)===Ae)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),s=ce.hasEagerState?ce.eagerState:e(s,ce.action);else{var Ee={lane:Ae,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(K=Z=Ee,U=s):Z=Z.next=Ee,ot.lanes|=Ae,Gn|=Ae}ce=ce.next}while(ce!==null&&ce!==b);Z===null?U=s:Z.next=K,Kt(s,t.memoizedState)||(Ot=!0),t.memoizedState=s,t.baseState=U,t.baseQueue=Z,r.lastRenderedState=s}if(e=r.interleaved,e!==null){g=e;do b=g.lane,ot.lanes|=b,Gn|=b,g=g.next;while(g!==e)}else g===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function na(e){var t=Vt(),r=t.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,g=r.pending,b=t.memoizedState;if(g!==null){r.pending=null;var U=g=g.next;do b=e(b,U.action),U=U.next;while(U!==g);Kt(b,t.memoizedState)||(Ot=!0),t.memoizedState=b,t.baseQueue===null&&(t.baseState=b),r.lastRenderedState=b}return[b,s]}function el(){}function tl(e,t){var r=ot,s=Vt(),g=t(),b=!Kt(s.memoizedState,g);if(b&&(s.memoizedState=g,Ot=!0),s=s.queue,ra(il.bind(null,r,s,e),[e]),s.getSnapshot!==t||b||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,Gr(9,rl.bind(null,r,s,g,t),void 0,null),At===null)throw Error(n(349));(Vn&30)!==0||nl(r,t,g)}return g}function nl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rl(e,t,r,s){t.value=r,t.getSnapshot=s,sl(t)&&al(e)}function il(e,t,r){return r(function(){sl(t)&&al(e)})}function sl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function al(e){var t=dn(e,1);t!==null&&qt(t,e,1,-1)}function ol(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Oc.bind(null,ot,e),[t.memoizedState,e]}function Gr(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function ll(){return Vt().memoizedState}function Fi(e,t,r,s){var g=sn();ot.flags|=e,g.memoizedState=Gr(1|t,r,void 0,s===void 0?null:s)}function Di(e,t,r,s){var g=Vt();s=s===void 0?null:s;var b=void 0;if(mt!==null){var U=mt.memoizedState;if(b=U.destroy,s!==null&&Zs(s,U.deps)){g.memoizedState=Gr(t,r,b,s);return}}ot.flags|=e,g.memoizedState=Gr(1|t,r,b,s)}function ul(e,t){return Fi(8390656,8,e,t)}function ra(e,t){return Di(2048,8,e,t)}function cl(e,t){return Di(4,2,e,t)}function dl(e,t){return Di(4,4,e,t)}function hl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fl(e,t,r){return r=r!=null?r.concat([e]):null,Di(4,4,hl.bind(null,t,e),r)}function ia(){}function pl(e,t){var r=Vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Zs(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function gl(e,t){var r=Vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Zs(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function ml(e,t,r){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r):(Kt(r,t)||(r=Ga(),ot.lanes|=r,Gn|=r,e.baseState=!0),t)}function Mc(e,t){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var s=Js.transition;Js.transition={};try{e(!1),t()}finally{Qe=r,Js.transition=s}}function vl(){return Vt().memoizedState}function Ic(e,t,r){var s=In(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},yl(e))Sl(t,r);else if(r=jo(e,t,r,s),r!==null){var g=Rt();qt(r,e,s,g),Al(r,t,s)}}function Oc(e,t,r){var s=In(e),g={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Sl(t,g);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=t.lastRenderedReducer,b!==null))try{var U=t.lastRenderedState,K=b(U,r);if(g.hasEagerState=!0,g.eagerState=K,Kt(K,U)){var Z=t.interleaved;Z===null?(g.next=g,Gs(t)):(g.next=Z.next,Z.next=g),t.interleaved=g;return}}catch{}finally{}r=jo(e,t,g,s),r!==null&&(g=Rt(),qt(r,e,s,g),Al(r,t,s))}}function yl(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Sl(e,t){Hr=Oi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Al(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,as(e,r)}}var Li={readContext:$t,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Fc={readContext:$t,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:ul,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fi(4194308,4,hl.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ic.bind(null,ot,e),[s.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:ol,useDebugValue:ia,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=ol(!1),t=e[0];return e=Mc.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ot,g=sn();if(it){if(r===void 0)throw Error(n(407));r=r()}else{if(r=t(),At===null)throw Error(n(349));(Vn&30)!==0||nl(s,t,r)}g.memoizedState=r;var b={value:r,getSnapshot:t};return g.queue=b,ul(il.bind(null,s,b,e),[e]),s.flags|=2048,Gr(9,rl.bind(null,s,b,r,t),void 0,null),r},useId:function(){var e=sn(),t=At.identifierPrefix;if(it){var r=cn,s=un;r=(s&~(1<<32-Yt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=$r++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Rc++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:ta,useRef:ll,useState:function(){return ta(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return ml(t,mt.memoizedState,e)},useTransition:function(){var e=ta(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1},Lc={readContext:$t,useCallback:pl,useContext:$t,useEffect:ra,useImperativeHandle:fl,useInsertionEffect:cl,useLayoutEffect:dl,useMemo:gl,useReducer:na,useRef:ll,useState:function(){return na(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return mt===null?t.memoizedState=e:ml(t,mt.memoizedState,e)},useTransition:function(){var e=na(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:el,useSyncExternalStore:tl,useId:vl,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=k({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:k({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ni={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Rt(),g=In(e),b=hn(s,g);b.payload=t,r!=null&&(b.callback=r),t=Tn(e,b,g),t!==null&&(qt(t,e,g,s),Pi(t,e,g))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Rt(),g=In(e),b=hn(s,g);b.tag=1,b.payload=t,r!=null&&(b.callback=r),t=Tn(e,b,g),t!==null&&(qt(t,e,g,s),Pi(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rt(),s=In(e),g=hn(r,s);g.tag=2,t!=null&&(g.callback=t),t=Tn(e,g,s),t!==null&&(qt(t,e,s,r),Pi(t,e,s))}};function El(e,t,r,s,g,b,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,b,U):t.prototype&&t.prototype.isPureReactComponent?!Ir(r,s)||!Ir(g,b):!0}function bl(e,t,r){var s=!1,g=Cn,b=t.contextType;return typeof b=="object"&&b!==null?b=$t(b):(g=It(t)?Un:Ct.current,s=t.contextTypes,b=(s=s!=null)?ar(e,g):Cn),t=new t(r,b),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=b),t}function xl(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function aa(e,t,r,s){var g=e.stateNode;g.props=r,g.state=e.memoizedState,g.refs={},Xs(e);var b=t.contextType;typeof b=="object"&&b!==null?g.context=$t(b):(b=It(t)?Un:Ct.current,g.context=ar(e,b)),g.state=e.memoizedState,b=t.getDerivedStateFromProps,typeof b=="function"&&(sa(e,t,b,r),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&Ni.enqueueReplaceState(g,g.state,null),Ri(e,r,g,s),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var r="",s=t;do r+=W(s),s=s.return;while(s);var g=r}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:e,source:t,stack:g,digest:null}}function oa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nc=typeof WeakMap=="function"?WeakMap:Map;function Cl(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){$i||($i=!0,xa=s),la(e,t)},r}function kl(e,t,r){r=hn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var g=t.value;r.payload=function(){return s(g)},r.callback=function(){la(e,t)}}var b=e.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){la(e,t),typeof s!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var U=t.stack;this.componentDidCatch(t.value,{componentStack:U!==null?U:""})}),r}function wl(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Nc;var g=new Set;s.set(t,g)}else g=s.get(t),g===void 0&&(g=new Set,s.set(t,g));g.has(r)||(g.add(r),e=Qc.bind(null,e,t,r),t.then(e,e))}function Tl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,r,s,g){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,Tn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var _c=L.ReactCurrentOwner,Ot=!1;function Pt(e,t,r,s){t.child=e===null?Ko(t,null,r,s):cr(t,e.child,r,s)}function Rl(e,t,r,s,g){r=r.render;var b=t.ref;return hr(t,g),s=qs(e,t,r,s,b,g),r=ea(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,fn(e,t,g)):(it&&r&&Ns(t),t.flags|=1,Pt(e,t,s,g),t.child)}function Ml(e,t,r,s,g){if(e===null){var b=r.type;return typeof b=="function"&&!Ma(b)&&b.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=b,Il(e,t,b,s,g)):(e=ji(r.type,null,s,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(b=e.child,(e.lanes&g)===0){var U=b.memoizedProps;if(r=r.compare,r=r!==null?r:Ir,r(U,s)&&e.ref===t.ref)return fn(e,t,g)}return t.flags|=1,e=Fn(b,s),e.ref=t.ref,e.return=t,t.child=e}function Il(e,t,r,s,g){if(e!==null){var b=e.memoizedProps;if(Ir(b,s)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=s=b,(e.lanes&g)!==0)(e.flags&131072)!==0&&(Ot=!0);else return t.lanes=e.lanes,fn(e,t,g)}return ua(e,t,r,s,g)}function Ol(e,t,r){var s=t.pendingProps,g=s.children,b=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(mr,zt),zt|=r;else{if((r&1073741824)===0)return e=b!==null?b.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(mr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=b!==null?b.baseLanes:r,Je(mr,zt),zt|=s}else b!==null?(s=b.baseLanes|r,t.memoizedState=null):s=r,Je(mr,zt),zt|=s;return Pt(e,t,g,r),t.child}function Fl(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,r,s,g){var b=It(r)?Un:Ct.current;return b=ar(t,b),hr(t,g),r=qs(e,t,r,s,b,g),s=ea(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,fn(e,t,g)):(it&&s&&Ns(t),t.flags|=1,Pt(e,t,r,g),t.child)}function Dl(e,t,r,s,g){if(It(r)){var b=!0;Ai(t)}else b=!1;if(hr(t,g),t.stateNode===null)Bi(e,t),bl(t,r,s),aa(t,r,s,g),s=!0;else if(e===null){var U=t.stateNode,K=t.memoizedProps;U.props=K;var Z=U.context,ce=r.contextType;typeof ce=="object"&&ce!==null?ce=$t(ce):(ce=It(r)?Un:Ct.current,ce=ar(t,ce));var Ae=r.getDerivedStateFromProps,Ee=typeof Ae=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ee||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==s||Z!==ce)&&xl(t,U,s,ce),wn=!1;var ve=t.memoizedState;U.state=ve,Ri(t,s,U,g),Z=t.memoizedState,K!==s||ve!==Z||Mt.current||wn?(typeof Ae=="function"&&(sa(t,r,Ae,s),Z=t.memoizedState),(K=wn||El(t,r,K,s,ve,Z,ce))?(Ee||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(t.flags|=4194308)):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Z),U.props=s,U.state=Z,U.context=ce,s=K):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{U=t.stateNode,Qo(e,t),K=t.memoizedProps,ce=t.type===t.elementType?K:Qt(t.type,K),U.props=ce,Ee=t.pendingProps,ve=U.context,Z=r.contextType,typeof Z=="object"&&Z!==null?Z=$t(Z):(Z=It(r)?Un:Ct.current,Z=ar(t,Z));var Pe=r.getDerivedStateFromProps;(Ae=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==Ee||ve!==Z)&&xl(t,U,s,Z),wn=!1,ve=t.memoizedState,U.state=ve,Ri(t,s,U,g);var Me=t.memoizedState;K!==Ee||ve!==Me||Mt.current||wn?(typeof Pe=="function"&&(sa(t,r,Pe,s),Me=t.memoizedState),(ce=wn||El(t,r,ce,s,ve,Me,Z)||!1)?(Ae||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(s,Me,Z),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(s,Me,Z)),typeof U.componentDidUpdate=="function"&&(t.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Me),U.props=s,U.state=Me,U.context=Z,s=ce):(typeof U.componentDidUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),s=!1)}return ca(e,t,r,s,b,g)}function ca(e,t,r,s,g,b){Fl(e,t);var U=(t.flags&128)!==0;if(!s&&!U)return g&&Uo(t,r,!1),fn(e,t,b);s=t.stateNode,_c.current=t;var K=U&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&U?(t.child=cr(t,e.child,null,b),t.child=cr(t,null,K,b)):Pt(e,t,K,b),t.memoizedState=s.state,g&&Uo(t,r,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?_o(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(e,t.context,!1),Ys(e,t.containerInfo)}function Nl(e,t,r,s,g){return ur(),zs(g),t.flags|=256,Pt(e,t,r,s),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function _l(e,t,r){var s=t.pendingProps,g=at.current,b=!1,U=(t.flags&128)!==0,K;if((K=U)||(K=e!==null&&e.memoizedState===null?!1:(g&2)!==0),K?(b=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),Je(at,g&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(U=s.children,e=s.fallback,b?(s=t.mode,b=t.child,U={mode:"hidden",children:U},(s&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=U):b=Qi(U,s,0,null),e=jn(e,s,r,null),b.return=t,e.return=t,b.sibling=e,t.child=b,t.child.memoizedState=ha(r),t.memoizedState=da,e):fa(t,U));if(g=e.memoizedState,g!==null&&(K=g.dehydrated,K!==null))return Bc(e,t,U,s,K,g,r);if(b){b=s.fallback,U=t.mode,g=e.child,K=g.sibling;var Z={mode:"hidden",children:s.children};return(U&1)===0&&t.child!==g?(s=t.child,s.childLanes=0,s.pendingProps=Z,t.deletions=null):(s=Fn(g,Z),s.subtreeFlags=g.subtreeFlags&14680064),K!==null?b=Fn(K,b):(b=jn(b,U,r,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,s=b,b=t.child,U=e.child.memoizedState,U=U===null?ha(r):{baseLanes:U.baseLanes|r,cachePool:null,transitions:U.transitions},b.memoizedState=U,b.childLanes=e.childLanes&~r,t.memoizedState=da,s}return b=e.child,e=b.sibling,s=Fn(b,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function fa(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,r,s){return s!==null&&zs(s),cr(t,e.child,null,r),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bc(e,t,r,s,g,b,U){if(r)return t.flags&256?(t.flags&=-257,s=oa(Error(n(422))),_i(e,t,U,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(b=s.fallback,g=t.mode,s=Qi({mode:"visible",children:s.children},g,0,null),b=jn(b,g,U,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,(t.mode&1)!==0&&cr(t,e.child,null,U),t.child.memoizedState=ha(U),t.memoizedState=da,b);if((t.mode&1)===0)return _i(e,t,U,null);if(g.data==="$!"){if(s=g.nextSibling&&g.nextSibling.dataset,s)var K=s.dgst;return s=K,b=Error(n(419)),s=oa(b,s,void 0),_i(e,t,U,s)}if(K=(U&e.childLanes)!==0,Ot||K){if(s=At,s!==null){switch(U&-U){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(s.suspendedLanes|U))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,dn(e,g),qt(s,e,g,-1))}return Ra(),s=oa(Error(n(421))),_i(e,t,U,s)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=Jc.bind(null,e),g._reactRetry=t,null):(e=b.treeContext,Ut=bn(g.nextSibling),Bt=t,it=!0,jt=null,e!==null&&(Wt[Ht++]=un,Wt[Ht++]=cn,Wt[Ht++]=zn,un=e.id,cn=e.overflow,zn=t),t=fa(t,s.children),t.flags|=4096,t)}function Bl(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Vs(e.return,t,r)}function pa(e,t,r,s,g){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:g}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=r,b.tailMode=g)}function Ul(e,t,r){var s=t.pendingProps,g=s.revealOrder,b=s.tail;if(Pt(e,t,s.children,r),s=at.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,r,t);else if(e.tag===19)Bl(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Je(at,s),(t.mode&1)===0)t.memoizedState=null;else switch(g){case"forwards":for(r=t.child,g=null;r!==null;)e=r.alternate,e!==null&&Mi(e)===null&&(g=r),r=r.sibling;r=g,r===null?(g=t.child,t.child=null):(g=r.sibling,r.sibling=null),pa(t,!1,g,r,b);break;case"backwards":for(r=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Mi(e)===null){t.child=g;break}e=g.sibling,g.sibling=r,r=g,g=e}pa(t,!0,r,null,b);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,r=Fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Uc(e,t,r){switch(t.tag){case 3:Ll(t),ur();break;case 5:qo(t);break;case 1:It(t.type)&&Ai(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,g=t.memoizedProps.value;Je(wi,s._currentValue),s._currentValue=g;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Je(at,at.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?_l(e,t,r):(Je(at,at.current&1),e=fn(e,t,r),e!==null?e.sibling:null);Je(at,at.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Ul(e,t,r);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(at,at.current),s)break;return null;case 22:case 23:return t.lanes=0,Ol(e,t,r)}return fn(e,t,r)}var zl,ga,Wl,Hl;zl=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ga=function(){},Wl=function(e,t,r,s){var g=e.memoizedProps;if(g!==s){e=t.stateNode,$n(rn.current);var b=null;switch(r){case"input":g=Se(e,g),s=Se(e,s),b=[];break;case"select":g=k({},g,{value:void 0}),s=k({},s,{value:void 0}),b=[];break;case"textarea":g=Fe(e,g),s=Fe(e,s),b=[];break;default:typeof g.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=vi)}ie(r,s);var U;r=null;for(ce in g)if(!s.hasOwnProperty(ce)&&g.hasOwnProperty(ce)&&g[ce]!=null)if(ce==="style"){var K=g[ce];for(U in K)K.hasOwnProperty(U)&&(r||(r={}),r[U]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(u.hasOwnProperty(ce)?b||(b=[]):(b=b||[]).push(ce,null));for(ce in s){var Z=s[ce];if(K=g?.[ce],s.hasOwnProperty(ce)&&Z!==K&&(Z!=null||K!=null))if(ce==="style")if(K){for(U in K)!K.hasOwnProperty(U)||Z&&Z.hasOwnProperty(U)||(r||(r={}),r[U]="");for(U in Z)Z.hasOwnProperty(U)&&K[U]!==Z[U]&&(r||(r={}),r[U]=Z[U])}else r||(b||(b=[]),b.push(ce,r)),r=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(b=b||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(b=b||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(u.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&et("scroll",e),b||K===Z||(b=[])):(b=b||[]).push(ce,Z))}r&&(b=b||[]).push("style",r);var ce=b;(t.updateQueue=ce)&&(t.flags|=4)}},Hl=function(e,t,r,s){r!==s&&(t.flags|=4)};function Xr(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var g=e.child;g!==null;)r|=g.lanes|g.childLanes,s|=g.subtreeFlags&14680064,s|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)r|=g.lanes|g.childLanes,s|=g.subtreeFlags,s|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function zc(e,t,r){var s=t.pendingProps;switch(_s(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return It(t.type)&&Si(),wt(t),null;case 3:return s=t.stateNode,fr(),tt(Mt),tt(Ct),Qs(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(wa(jt),jt=null))),ga(e,t),wt(t),null;case 5:Ks(t);var g=$n(Wr.current);if(r=t.type,e!==null&&t.stateNode!=null)Wl(e,t,r,s,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(n(166));return wt(t),null}if(e=$n(rn.current),Ci(t)){s=t.stateNode,r=t.type;var b=t.memoizedProps;switch(s[nn]=t,s[Nr]=b,e=(t.mode&1)!==0,r){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(g=0;g<Fr.length;g++)et(Fr[g],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":se(s,b),et("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!b.multiple},et("invalid",s);break;case"textarea":Ue(s,b),et("invalid",s)}ie(r,b),g=null;for(var U in b)if(b.hasOwnProperty(U)){var K=b[U];U==="children"?typeof K=="string"?s.textContent!==K&&(b.suppressHydrationWarning!==!0&&mi(s.textContent,K,e),g=["children",K]):typeof K=="number"&&s.textContent!==""+K&&(b.suppressHydrationWarning!==!0&&mi(s.textContent,K,e),g=["children",""+K]):u.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&et("scroll",s)}switch(r){case"input":X(s),ge(s,b,!0);break;case"textarea":X(s),Ye(s);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(s.onclick=vi)}s=g,t.updateQueue=s,s!==null&&(t.flags|=4)}else{U=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=U.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=U.createElement(r,{is:s.is}):(e=U.createElement(r),r==="select"&&(U=e,s.multiple?U.multiple=!0:s.size&&(U.size=s.size))):e=U.createElementNS(e,r),e[nn]=t,e[Nr]=s,zl(e,t,!1,!1),t.stateNode=e;e:{switch(U=ee(r,s),r){case"dialog":et("cancel",e),et("close",e),g=s;break;case"iframe":case"object":case"embed":et("load",e),g=s;break;case"video":case"audio":for(g=0;g<Fr.length;g++)et(Fr[g],e);g=s;break;case"source":et("error",e),g=s;break;case"img":case"image":case"link":et("error",e),et("load",e),g=s;break;case"details":et("toggle",e),g=s;break;case"input":se(e,s),g=Se(e,s),et("invalid",e);break;case"option":g=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},g=k({},s,{value:void 0}),et("invalid",e);break;case"textarea":Ue(e,s),g=Fe(e,s),et("invalid",e);break;default:g=s}ie(r,g),K=g;for(b in K)if(K.hasOwnProperty(b)){var Z=K[b];b==="style"?gn(e,Z):b==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ze(e,Z)):b==="children"?typeof Z=="string"?(r!=="textarea"||Z!=="")&&ft(e,Z):typeof Z=="number"&&ft(e,""+Z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(u.hasOwnProperty(b)?Z!=null&&b==="onScroll"&&et("scroll",e):Z!=null&&N(e,b,Z,U))}switch(r){case"input":X(e),ge(e,s,!1);break;case"textarea":X(e),Ye(e);break;case"option":s.value!=null&&e.setAttribute("value",""+O(s.value));break;case"select":e.multiple=!!s.multiple,b=s.value,b!=null?Te(e,!!s.multiple,b,!1):s.defaultValue!=null&&Te(e,!!s.multiple,s.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=vi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(n(166));if(r=$n(Wr.current),$n(rn.current),Ci(t)){if(s=t.stateNode,r=t.memoizedProps,s[nn]=t,(b=s.nodeValue!==r)&&(e=Bt,e!==null))switch(e.tag){case 3:mi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(s.nodeValue,r,(e.mode&1)!==0)}b&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[nn]=t,t.stateNode=s}return wt(t),null;case 13:if(tt(at),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Go(),ur(),t.flags|=98560,b=!1;else if(b=Ci(t),s!==null&&s.dehydrated!==null){if(e===null){if(!b)throw Error(n(318));if(b=t.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[nn]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),b=!1}else jt!==null&&(wa(jt),jt=null),b=!0;if(!b)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(at.current&1)!==0?vt===0&&(vt=3):Ra())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return fr(),ga(e,t),e===null&&Dr(t.stateNode.containerInfo),wt(t),null;case 10:return $s(t.type._context),wt(t),null;case 17:return It(t.type)&&Si(),wt(t),null;case 19:if(tt(at),b=t.memoizedState,b===null)return wt(t),null;if(s=(t.flags&128)!==0,U=b.rendering,U===null)if(s)Xr(b,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(U=Mi(e),U!==null){for(t.flags|=128,Xr(b,!1),s=U.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)b=r,e=s,b.flags&=14680066,U=b.alternate,U===null?(b.childLanes=0,b.lanes=e,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=U.childLanes,b.lanes=U.lanes,b.child=U.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=U.memoizedProps,b.memoizedState=U.memoizedState,b.updateQueue=U.updateQueue,b.type=U.type,e=U.dependencies,b.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(at,at.current&1|2),t.child}e=e.sibling}b.tail!==null&&dt()>vr&&(t.flags|=128,s=!0,Xr(b,!1),t.lanes=4194304)}else{if(!s)if(e=Mi(U),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xr(b,!0),b.tail===null&&b.tailMode==="hidden"&&!U.alternate&&!it)return wt(t),null}else 2*dt()-b.renderingStartTime>vr&&r!==1073741824&&(t.flags|=128,s=!0,Xr(b,!1),t.lanes=4194304);b.isBackwards?(U.sibling=t.child,t.child=U):(r=b.last,r!==null?r.sibling=U:t.child=U,b.last=U)}return b.tail!==null?(t=b.tail,b.rendering=t,b.tail=t.sibling,b.renderingStartTime=dt(),t.sibling=null,r=at.current,Je(at,s?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return Pa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(zt&1073741824)!==0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Wc(e,t){switch(_s(t),t.tag){case 1:return It(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),tt(Mt),tt(Ct),Qs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ks(t),null;case 13:if(tt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(at),null;case 4:return fr(),null;case 10:return $s(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Ui=!1,Tt=!1,Hc=typeof WeakSet=="function"?WeakSet:Set,Re=null;function gr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ut(e,t,s)}else r.current=null}function ma(e,t,r){try{r()}catch(s){ut(e,t,s)}}var $l=!1;function $c(e,t){if(Ps=si,e=Eo(),As(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var g=s.anchorOffset,b=s.focusNode;s=s.focusOffset;try{r.nodeType,b.nodeType}catch{r=null;break e}var U=0,K=-1,Z=-1,ce=0,Ae=0,Ee=e,ve=null;t:for(;;){for(var Pe;Ee!==r||g!==0&&Ee.nodeType!==3||(K=U+g),Ee!==b||s!==0&&Ee.nodeType!==3||(Z=U+s),Ee.nodeType===3&&(U+=Ee.nodeValue.length),(Pe=Ee.firstChild)!==null;)ve=Ee,Ee=Pe;for(;;){if(Ee===e)break t;if(ve===r&&++ce===g&&(K=U),ve===b&&++Ae===s&&(Z=U),(Pe=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Pe}r=K===-1||Z===-1?null:{start:K,end:Z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rs={focusedElem:e,selectionRange:r},si=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var Me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ie=Me.memoizedProps,ht=Me.memoizedState,ae=t.stateNode,q=ae.getSnapshotBeforeUpdate(t.elementType===t.type?Ie:Qt(t.type,Ie),ht);ae.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=t.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){ut(t,t.return,be)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return Me=$l,$l=!1,Me}function Yr(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var g=s=s.next;do{if((g.tag&e)===e){var b=g.destroy;g.destroy=void 0,b!==void 0&&ma(t,r,b)}g=g.next}while(g!==s)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function va(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vl(e){var t=e.alternate;t!==null&&(e.alternate=null,Vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Nr],delete t[Fs],delete t[kc],delete t[wc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function Xl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vi));else if(s!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}function Sa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Sa(e,t,r),e=e.sibling;e!==null;)Sa(e,t,r),e=e.sibling}var bt=null,Jt=!1;function Pn(e,t,r){for(r=r.child;r!==null;)Yl(e,t,r),r=r.sibling}function Yl(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qr,r)}catch{}switch(r.tag){case 5:Tt||gr(r,t);case 6:var s=bt,g=Jt;bt=null,Pn(e,t,r),bt=s,Jt=g,bt!==null&&(Jt?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Jt?(e=bt,r=r.stateNode,e.nodeType===8?Os(e.parentNode,r):e.nodeType===1&&Os(e,r),kr(e)):Os(bt,r.stateNode));break;case 4:s=bt,g=Jt,bt=r.stateNode.containerInfo,Jt=!0,Pn(e,t,r),bt=s,Jt=g;break;case 0:case 11:case 14:case 15:if(!Tt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){g=s=s.next;do{var b=g,U=b.destroy;b=b.tag,U!==void 0&&((b&2)!==0||(b&4)!==0)&&ma(r,t,U),g=g.next}while(g!==s)}Pn(e,t,r);break;case 1:if(!Tt&&(gr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(K){ut(r,t,K)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(Tt=(s=Tt)||r.memoizedState!==null,Pn(e,t,r),Tt=s):Pn(e,t,r);break;default:Pn(e,t,r)}}function Kl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hc),t.forEach(function(s){var g=Zc.bind(null,e,s);r.has(s)||(r.add(s),s.then(g,g))})}}function Zt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var g=r[s];try{var b=e,U=t,K=U;e:for(;K!==null;){switch(K.tag){case 5:bt=K.stateNode,Jt=!1;break e;case 3:bt=K.stateNode.containerInfo,Jt=!0;break e;case 4:bt=K.stateNode.containerInfo,Jt=!0;break e}K=K.return}if(bt===null)throw Error(n(160));Yl(b,U,g),bt=null,Jt=!1;var Z=g.alternate;Z!==null&&(Z.return=null),g.return=null}catch(ce){ut(g,t,ce)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jl(t,e),t=t.sibling}function jl(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),an(e),s&4){try{Yr(3,e,e.return),zi(3,e)}catch(Ie){ut(e,e.return,Ie)}try{Yr(5,e,e.return)}catch(Ie){ut(e,e.return,Ie)}}break;case 1:Zt(t,e),an(e),s&512&&r!==null&&gr(r,r.return);break;case 5:if(Zt(t,e),an(e),s&512&&r!==null&&gr(r,r.return),e.flags&32){var g=e.stateNode;try{ft(g,"")}catch(Ie){ut(e,e.return,Ie)}}if(s&4&&(g=e.stateNode,g!=null)){var b=e.memoizedProps,U=r!==null?r.memoizedProps:b,K=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{K==="input"&&b.type==="radio"&&b.name!=null&&ue(g,b),ee(K,U);var ce=ee(K,b);for(U=0;U<Z.length;U+=2){var Ae=Z[U],Ee=Z[U+1];Ae==="style"?gn(g,Ee):Ae==="dangerouslySetInnerHTML"?Ze(g,Ee):Ae==="children"?ft(g,Ee):N(g,Ae,Ee,ce)}switch(K){case"input":pe(g,b);break;case"textarea":We(g,b);break;case"select":var ve=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var Pe=b.value;Pe!=null?Te(g,!!b.multiple,Pe,!1):ve!==!!b.multiple&&(b.defaultValue!=null?Te(g,!!b.multiple,b.defaultValue,!0):Te(g,!!b.multiple,b.multiple?[]:"",!1))}g[Nr]=b}catch(Ie){ut(e,e.return,Ie)}}break;case 6:if(Zt(t,e),an(e),s&4){if(e.stateNode===null)throw Error(n(162));g=e.stateNode,b=e.memoizedProps;try{g.nodeValue=b}catch(Ie){ut(e,e.return,Ie)}}break;case 3:if(Zt(t,e),an(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(Ie){ut(e,e.return,Ie)}break;case 4:Zt(t,e),an(e);break;case 13:Zt(t,e),an(e),g=e.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(ba=dt())),s&4&&Kl(e);break;case 22:if(Ae=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(ce=Tt)||Ae,Zt(t,e),Tt=ce):Zt(t,e),an(e),s&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!Ae&&(e.mode&1)!==0)for(Re=e,Ae=e.child;Ae!==null;){for(Ee=Re=Ae;Re!==null;){switch(ve=Re,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Yr(4,ve,ve.return);break;case 1:gr(ve,ve.return);var Me=ve.stateNode;if(typeof Me.componentWillUnmount=="function"){s=ve,r=ve.return;try{t=s,Me.props=t.memoizedProps,Me.state=t.memoizedState,Me.componentWillUnmount()}catch(Ie){ut(s,r,Ie)}}break;case 5:gr(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Zl(Ee);continue}}Pe!==null?(Pe.return=ve,Re=Pe):Zl(Ee)}Ae=Ae.sibling}e:for(Ae=null,Ee=e;;){if(Ee.tag===5){if(Ae===null){Ae=Ee;try{g=Ee.stateNode,ce?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(K=Ee.stateNode,Z=Ee.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=Qn("display",U))}catch(Ie){ut(e,e.return,Ie)}}}else if(Ee.tag===6){if(Ae===null)try{Ee.stateNode.nodeValue=ce?"":Ee.memoizedProps}catch(Ie){ut(e,e.return,Ie)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===e)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===e)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===e)break e;Ae===Ee&&(Ae=null),Ee=Ee.return}Ae===Ee&&(Ae=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Zt(t,e),an(e),s&4&&Kl(e);break;case 21:break;default:Zt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gl(r)){var s=r;break e}r=r.return}throw Error(n(160))}switch(s.tag){case 5:var g=s.stateNode;s.flags&32&&(ft(g,""),s.flags&=-33);var b=Xl(e);Sa(e,b,g);break;case 3:case 4:var U=s.stateNode.containerInfo,K=Xl(e);ya(e,K,U);break;default:throw Error(n(161))}}catch(Z){ut(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vc(e,t,r){Re=e,Ql(e)}function Ql(e,t,r){for(var s=(e.mode&1)!==0;Re!==null;){var g=Re,b=g.child;if(g.tag===22&&s){var U=g.memoizedState!==null||Ui;if(!U){var K=g.alternate,Z=K!==null&&K.memoizedState!==null||Tt;K=Ui;var ce=Tt;if(Ui=U,(Tt=Z)&&!ce)for(Re=g;Re!==null;)U=Re,Z=U.child,U.tag===22&&U.memoizedState!==null?ql(g):Z!==null?(Z.return=U,Re=Z):ql(g);for(;b!==null;)Re=b,Ql(b),b=b.sibling;Re=g,Ui=K,Tt=ce}Jl(e)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,Re=b):Jl(e)}}function Jl(e){for(;Re!==null;){var t=Re;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Tt||zi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Tt)if(r===null)s.componentDidMount();else{var g=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);s.componentDidUpdate(g,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var b=t.updateQueue;b!==null&&Zo(t,b,s);break;case 3:var U=t.updateQueue;if(U!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zo(t,U,r)}break;case 5:var K=t.stateNode;if(r===null&&t.flags&4){r=K;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&r.focus();break;case"img":Z.src&&(r.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ce=t.alternate;if(ce!==null){var Ae=ce.memoizedState;if(Ae!==null){var Ee=Ae.dehydrated;Ee!==null&&kr(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||t.flags&512&&va(t)}catch(ve){ut(t,t.return,ve)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function Zl(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function ql(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(Z){ut(t,r,Z)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var g=t.return;try{s.componentDidMount()}catch(Z){ut(t,g,Z)}}var b=t.return;try{va(t)}catch(Z){ut(t,b,Z)}break;case 5:var U=t.return;try{va(t)}catch(Z){ut(t,U,Z)}}}catch(Z){ut(t,t.return,Z)}if(t===e){Re=null;break}var K=t.sibling;if(K!==null){K.return=t.return,Re=K;break}Re=t.return}}var Gc=Math.ceil,Wi=L.ReactCurrentDispatcher,Aa=L.ReactCurrentOwner,Gt=L.ReactCurrentBatchConfig,Xe=0,At=null,pt=null,xt=0,zt=0,mr=xn(0),vt=0,Kr=null,Gn=0,Hi=0,Ea=0,jr=null,Ft=null,ba=0,vr=1/0,pn=null,$i=!1,xa=null,Rn=null,Vi=!1,Mn=null,Gi=0,Qr=0,Ca=null,Xi=-1,Yi=0;function Rt(){return(Xe&6)!==0?dt():Xi!==-1?Xi:Xi=dt()}function In(e){return(e.mode&1)===0?1:(Xe&2)!==0&&xt!==0?xt&-xt:Pc.transition!==null?(Yi===0&&(Yi=Ga()),Yi):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:eo(e.type)),e)}function qt(e,t,r,s){if(50<Qr)throw Qr=0,Ca=null,Error(n(185));Ar(e,r,s),((Xe&2)===0||e!==At)&&(e===At&&((Xe&2)===0&&(Hi|=r),vt===4&&On(e,xt)),Dt(e,s),r===1&&Xe===0&&(t.mode&1)===0&&(vr=dt()+500,Ei&&kn()))}function Dt(e,t){var r=e.callbackNode;Pu(e,t);var s=ni(e,e===At?xt:0);if(s===0)r!==null&&Ha(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Ha(r),t===1)e.tag===0?Tc(tu.bind(null,e)):zo(tu.bind(null,e)),xc(function(){(Xe&6)===0&&kn()}),r=null;else{switch(Xa(s)){case 1:r=rs;break;case 4:r=$a;break;case 16:r=Zr;break;case 536870912:r=Va;break;default:r=Zr}r=uu(r,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eu(e,t){if(Xi=-1,Yi=0,(Xe&6)!==0)throw Error(n(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var s=ni(e,e===At?xt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ki(e,s);else{t=s;var g=Xe;Xe|=2;var b=ru();(At!==e||xt!==t)&&(pn=null,vr=dt()+500,Yn(e,t));do try{Kc();break}catch(K){nu(e,K)}while(!0);Hs(),Wi.current=b,Xe=g,pt!==null?t=0:(At=null,xt=0,t=vt)}if(t!==0){if(t===2&&(g=is(e),g!==0&&(s=g,t=ka(e,g))),t===1)throw r=Kr,Yn(e,0),On(e,s),Dt(e,dt()),r;if(t===6)On(e,s);else{if(g=e.current.alternate,(s&30)===0&&!Xc(g)&&(t=Ki(e,s),t===2&&(b=is(e),b!==0&&(s=b,t=ka(e,b))),t===1))throw r=Kr,Yn(e,0),On(e,s),Dt(e,dt()),r;switch(e.finishedWork=g,e.finishedLanes=s,t){case 0:case 1:throw Error(n(345));case 2:Kn(e,Ft,pn);break;case 3:if(On(e,s),(s&130023424)===s&&(t=ba+500-dt(),10<t)){if(ni(e,0)!==0)break;if(g=e.suspendedLanes,(g&s)!==s){Rt(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=Is(Kn.bind(null,e,Ft,pn),t);break}Kn(e,Ft,pn);break;case 4:if(On(e,s),(s&4194240)===s)break;for(t=e.eventTimes,g=-1;0<s;){var U=31-Yt(s);b=1<<U,U=t[U],U>g&&(g=U),s&=~b}if(s=g,s=dt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gc(s/1960))-s,10<s){e.timeoutHandle=Is(Kn.bind(null,e,Ft,pn),s);break}Kn(e,Ft,pn);break;case 5:Kn(e,Ft,pn);break;default:throw Error(n(329))}}}return Dt(e,dt()),e.callbackNode===r?eu.bind(null,e):null}function ka(e,t){var r=jr;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&wa(t)),e}function wa(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Xc(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var g=r[s],b=g.getSnapshot;g=g.value;try{if(!Kt(b(),g))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Ea,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yt(t),s=1<<r;e[r]=-1,t&=~s}}function tu(e){if((Xe&6)!==0)throw Error(n(327));yr();var t=ni(e,0);if((t&1)===0)return Dt(e,dt()),null;var r=Ki(e,t);if(e.tag!==0&&r===2){var s=is(e);s!==0&&(t=s,r=ka(e,s))}if(r===1)throw r=Kr,Yn(e,0),On(e,t),Dt(e,dt()),r;if(r===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ft,pn),Dt(e,dt()),null}function Ta(e,t){var r=Xe;Xe|=1;try{return e(t)}finally{Xe=r,Xe===0&&(vr=dt()+500,Ei&&kn())}}function Xn(e){Mn!==null&&Mn.tag===0&&(Xe&6)===0&&yr();var t=Xe;Xe|=1;var r=Gt.transition,s=Qe;try{if(Gt.transition=null,Qe=1,e)return e()}finally{Qe=s,Gt.transition=r,Xe=t,(Xe&6)===0&&kn()}}function Pa(){zt=mr.current,tt(mr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bc(r)),pt!==null)for(r=pt.return;r!==null;){var s=r;switch(_s(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Si();break;case 3:fr(),tt(Mt),tt(Ct),Qs();break;case 5:Ks(s);break;case 4:fr();break;case 13:tt(at);break;case 19:tt(at);break;case 10:$s(s.type._context);break;case 22:case 23:Pa()}r=r.return}if(At=e,pt=e=Fn(e.current,null),xt=zt=t,vt=0,Kr=null,Ea=Hi=Gn=0,Ft=jr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(r=Hn[t],s=r.interleaved,s!==null){r.interleaved=null;var g=s.next,b=r.pending;if(b!==null){var U=b.next;b.next=g,s.next=U}r.pending=s}Hn=null}return e}function nu(e,t){do{var r=pt;try{if(Hs(),Ii.current=Li,Oi){for(var s=ot.memoizedState;s!==null;){var g=s.queue;g!==null&&(g.pending=null),s=s.next}Oi=!1}if(Vn=0,St=mt=ot=null,Hr=!1,$r=0,Aa.current=null,r===null||r.return===null){vt=1,Kr=t,pt=null;break}e:{var b=e,U=r.return,K=r,Z=t;if(t=xt,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,Ae=K,Ee=Ae.tag;if((Ae.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ve=Ae.alternate;ve?(Ae.updateQueue=ve.updateQueue,Ae.memoizedState=ve.memoizedState,Ae.lanes=ve.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Pe=Tl(U);if(Pe!==null){Pe.flags&=-257,Pl(Pe,U,K,b,t),Pe.mode&1&&wl(b,ce,t),t=Pe,Z=ce;var Me=t.updateQueue;if(Me===null){var Ie=new Set;Ie.add(Z),t.updateQueue=Ie}else Me.add(Z);break e}else{if((t&1)===0){wl(b,ce,t),Ra();break e}Z=Error(n(426))}}else if(it&&K.mode&1){var ht=Tl(U);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Pl(ht,U,K,b,t),zs(pr(Z,K));break e}}b=Z=pr(Z,K),vt!==4&&(vt=2),jr===null?jr=[b]:jr.push(b),b=U;do{switch(b.tag){case 3:b.flags|=65536,t&=-t,b.lanes|=t;var ae=Cl(b,Z,t);Jo(b,ae);break e;case 1:K=Z;var q=b.type,oe=b.stateNode;if((b.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Rn===null||!Rn.has(oe)))){b.flags|=65536,t&=-t,b.lanes|=t;var be=kl(b,K,t);Jo(b,be);break e}}b=b.return}while(b!==null)}su(r)}catch(De){t=De,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function ru(){var e=Wi.current;return Wi.current=Li,e===null?Li:e}function Ra(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||(Gn&268435455)===0&&(Hi&268435455)===0||On(At,xt)}function Ki(e,t){var r=Xe;Xe|=2;var s=ru();(At!==e||xt!==t)&&(pn=null,Yn(e,t));do try{Yc();break}catch(g){nu(e,g)}while(!0);if(Hs(),Xe=r,Wi.current=s,pt!==null)throw Error(n(261));return At=null,xt=0,vt}function Yc(){for(;pt!==null;)iu(pt)}function Kc(){for(;pt!==null&&!Su();)iu(pt)}function iu(e){var t=lu(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?su(e):pt=t,Aa.current=null}function su(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=zc(r,t,zt),r!==null){pt=r;return}}else{if(r=Wc(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,pt=null;return}}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);vt===0&&(vt=5)}function Kn(e,t,r){var s=Qe,g=Gt.transition;try{Gt.transition=null,Qe=1,jc(e,t,r,s)}finally{Gt.transition=g,Qe=s}return null}function jc(e,t,r,s){do yr();while(Mn!==null);if((Xe&6)!==0)throw Error(n(327));r=e.finishedWork;var g=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var b=r.lanes|r.childLanes;if(Ru(e,b),e===At&&(pt=At=null,xt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Vi||(Vi=!0,uu(Zr,function(){return yr(),null})),b=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||b){b=Gt.transition,Gt.transition=null;var U=Qe;Qe=1;var K=Xe;Xe|=4,Aa.current=null,$c(e,r),jl(r,e),gc(Rs),si=!!Ps,Rs=Ps=null,e.current=r,Vc(r),Au(),Xe=K,Qe=U,Gt.transition=b}else e.current=r;if(Vi&&(Vi=!1,Mn=e,Gi=g),b=e.pendingLanes,b===0&&(Rn=null),xu(r.stateNode),Dt(e,dt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)g=t[r],s(g.value,{componentStack:g.stack,digest:g.digest});if($i)throw $i=!1,e=xa,xa=null,e;return(Gi&1)!==0&&e.tag!==0&&yr(),b=e.pendingLanes,(b&1)!==0?e===Ca?Qr++:(Qr=0,Ca=e):Qr=0,kn(),null}function yr(){if(Mn!==null){var e=Xa(Gi),t=Gt.transition,r=Qe;try{if(Gt.transition=null,Qe=16>e?16:e,Mn===null)var s=!1;else{if(e=Mn,Mn=null,Gi=0,(Xe&6)!==0)throw Error(n(331));var g=Xe;for(Xe|=4,Re=e.current;Re!==null;){var b=Re,U=b.child;if((Re.flags&16)!==0){var K=b.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var ce=K[Z];for(Re=ce;Re!==null;){var Ae=Re;switch(Ae.tag){case 0:case 11:case 15:Yr(8,Ae,b)}var Ee=Ae.child;if(Ee!==null)Ee.return=Ae,Re=Ee;else for(;Re!==null;){Ae=Re;var ve=Ae.sibling,Pe=Ae.return;if(Vl(Ae),Ae===ce){Re=null;break}if(ve!==null){ve.return=Pe,Re=ve;break}Re=Pe}}}var Me=b.alternate;if(Me!==null){var Ie=Me.child;if(Ie!==null){Me.child=null;do{var ht=Ie.sibling;Ie.sibling=null,Ie=ht}while(Ie!==null)}}Re=b}}if((b.subtreeFlags&2064)!==0&&U!==null)U.return=b,Re=U;else e:for(;Re!==null;){if(b=Re,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Yr(9,b,b.return)}var ae=b.sibling;if(ae!==null){ae.return=b.return,Re=ae;break e}Re=b.return}}var q=e.current;for(Re=q;Re!==null;){U=Re;var oe=U.child;if((U.subtreeFlags&2064)!==0&&oe!==null)oe.return=U,Re=oe;else e:for(U=q;Re!==null;){if(K=Re,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:zi(9,K)}}catch(De){ut(K,K.return,De)}if(K===U){Re=null;break e}var be=K.sibling;if(be!==null){be.return=K.return,Re=be;break e}Re=K.return}}if(Xe=g,kn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qr,e)}catch{}s=!0}return s}finally{Qe=r,Gt.transition=t}}return!1}function au(e,t,r){t=pr(r,t),t=Cl(e,t,1),e=Tn(e,t,1),t=Rt(),e!==null&&(Ar(e,1,t),Dt(e,t))}function ut(e,t,r){if(e.tag===3)au(e,e,r);else for(;t!==null;){if(t.tag===3){au(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Rn===null||!Rn.has(s))){e=pr(r,e),e=kl(t,e,1),t=Tn(t,e,1),e=Rt(),t!==null&&(Ar(t,1,e),Dt(t,e));break}}t=t.return}}function Qc(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(xt&r)===r&&(vt===4||vt===3&&(xt&130023424)===xt&&500>dt()-ba?Yn(e,0):Ea|=r),Dt(e,t)}function ou(e,t){t===0&&((e.mode&1)===0?t=1:(t=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var r=Rt();e=dn(e,t),e!==null&&(Ar(e,t,r),Dt(e,r))}function Jc(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ou(e,r)}function Zc(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,g=e.memoizedState;g!==null&&(r=g.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(n(314))}s!==null&&s.delete(t),ou(e,r)}var lu;lu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ot=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ot=!1,Uc(e,t,r);Ot=(e.flags&131072)!==0}else Ot=!1,it&&(t.flags&1048576)!==0&&Wo(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Bi(e,t),e=t.pendingProps;var g=ar(t,Ct.current);hr(t,r),g=qs(null,t,s,e,g,r);var b=ea();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(s)?(b=!0,Ai(t)):b=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Xs(t),g.updater=Ni,t.stateNode=g,g._reactInternals=t,aa(t,s,e,r),t=ca(null,t,s,!0,b,r)):(t.tag=0,it&&b&&Ns(t),Pt(null,t,g,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,g=s._init,s=g(s._payload),t.type=s,g=t.tag=ed(s),e=Qt(s,e),g){case 0:t=ua(null,t,s,e,r);break e;case 1:t=Dl(null,t,s,e,r);break e;case 11:t=Rl(null,t,s,e,r);break e;case 14:t=Ml(null,t,s,Qt(s.type,e),r);break e}throw Error(n(306,s,""))}return t;case 0:return s=t.type,g=t.pendingProps,g=t.elementType===s?g:Qt(s,g),ua(e,t,s,g,r);case 1:return s=t.type,g=t.pendingProps,g=t.elementType===s?g:Qt(s,g),Dl(e,t,s,g,r);case 3:e:{if(Ll(t),e===null)throw Error(n(387));s=t.pendingProps,b=t.memoizedState,g=b.element,Qo(e,t),Ri(t,s,null,r);var U=t.memoizedState;if(s=U.element,b.isDehydrated)if(b={element:s,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},t.updateQueue.baseState=b,t.memoizedState=b,t.flags&256){g=pr(Error(n(423)),t),t=Nl(e,t,s,r,g);break e}else if(s!==g){g=pr(Error(n(424)),t),t=Nl(e,t,s,r,g);break e}else for(Ut=bn(t.stateNode.containerInfo.firstChild),Bt=t,it=!0,jt=null,r=Ko(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ur(),s===g){t=fn(e,t,r);break e}Pt(e,t,s,r)}t=t.child}return t;case 5:return qo(t),e===null&&Us(t),s=t.type,g=t.pendingProps,b=e!==null?e.memoizedProps:null,U=g.children,Ms(s,g)?U=null:b!==null&&Ms(s,b)&&(t.flags|=32),Fl(e,t),Pt(e,t,U,r),t.child;case 6:return e===null&&Us(t),null;case 13:return _l(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cr(t,null,s,r):Pt(e,t,s,r),t.child;case 11:return s=t.type,g=t.pendingProps,g=t.elementType===s?g:Qt(s,g),Rl(e,t,s,g,r);case 7:return Pt(e,t,t.pendingProps,r),t.child;case 8:return Pt(e,t,t.pendingProps.children,r),t.child;case 12:return Pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,g=t.pendingProps,b=t.memoizedProps,U=g.value,Je(wi,s._currentValue),s._currentValue=U,b!==null)if(Kt(b.value,U)){if(b.children===g.children&&!Mt.current){t=fn(e,t,r);break e}}else for(b=t.child,b!==null&&(b.return=t);b!==null;){var K=b.dependencies;if(K!==null){U=b.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===s){if(b.tag===1){Z=hn(-1,r&-r),Z.tag=2;var ce=b.updateQueue;if(ce!==null){ce=ce.shared;var Ae=ce.pending;Ae===null?Z.next=Z:(Z.next=Ae.next,Ae.next=Z),ce.pending=Z}}b.lanes|=r,Z=b.alternate,Z!==null&&(Z.lanes|=r),Vs(b.return,r,t),K.lanes|=r;break}Z=Z.next}}else if(b.tag===10)U=b.type===t.type?null:b.child;else if(b.tag===18){if(U=b.return,U===null)throw Error(n(341));U.lanes|=r,K=U.alternate,K!==null&&(K.lanes|=r),Vs(U,r,t),U=b.sibling}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===t){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}Pt(e,t,g.children,r),t=t.child}return t;case 9:return g=t.type,s=t.pendingProps.children,hr(t,r),g=$t(g),s=s(g),t.flags|=1,Pt(e,t,s,r),t.child;case 14:return s=t.type,g=Qt(s,t.pendingProps),g=Qt(s.type,g),Ml(e,t,s,g,r);case 15:return Il(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,g=t.pendingProps,g=t.elementType===s?g:Qt(s,g),Bi(e,t),t.tag=1,It(s)?(e=!0,Ai(t)):e=!1,hr(t,r),bl(t,s,g),aa(t,s,g,r),ca(null,t,s,!0,e,r);case 19:return Ul(e,t,r);case 22:return Ol(e,t,r)}throw Error(n(156,t.tag))};function uu(e,t){return Wa(e,t)}function qc(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,r,s){return new qc(e,t,r,s)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ed(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===fe)return 14}return 2}function Fn(e,t){var r=e.alternate;return r===null?(r=Xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ji(e,t,r,s,g,b){var U=2;if(s=e,typeof e=="function")Ma(e)&&(U=1);else if(typeof e=="string")U=5;else e:switch(e){case z:return jn(r.children,g,b,t);case V:U=8,g|=8;break;case $:return e=Xt(12,r,t,g|2),e.elementType=$,e.lanes=b,e;case le:return e=Xt(13,r,t,g),e.elementType=le,e.lanes=b,e;case de:return e=Xt(19,r,t,g),e.elementType=de,e.lanes=b,e;case Y:return Qi(r,g,b,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:U=10;break e;case J:U=9;break e;case he:U=11;break e;case fe:U=14;break e;case ne:U=16,s=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Xt(U,r,t,g),t.elementType=e,t.type=s,t.lanes=b,t}function jn(e,t,r,s){return e=Xt(7,e,s,t),e.lanes=r,e}function Qi(e,t,r,s){return e=Xt(22,e,s,t),e.elementType=Y,e.lanes=r,e.stateNode={isHidden:!1},e}function Ia(e,t,r){return e=Xt(6,e,null,t),e.lanes=r,e}function Oa(e,t,r){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function td(e,t,r,s,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=s,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Fa(e,t,r,s,g,b,U,K,Z){return e=new td(e,t,r,K,Z),t===1?(t=1,b===!0&&(t|=8)):t=0,b=Xt(3,null,null,t),e.current=b,b.stateNode=e,b.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(b),e}function nd(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function cu(e){if(!e)return Cn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var r=e.type;if(It(r))return Bo(e,r,t)}return t}function du(e,t,r,s,g,b,U,K,Z){return e=Fa(r,s,!0,e,g,b,U,K,Z),e.context=cu(null),r=e.current,s=Rt(),g=In(r),b=hn(s,g),b.callback=t??null,Tn(r,b,g),e.current.lanes=g,Ar(e,g,s),Dt(e,s),e}function Ji(e,t,r,s){var g=t.current,b=Rt(),U=In(g);return r=cu(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(b,U),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Tn(g,t,U),e!==null&&(qt(e,g,U,b),Pi(e,g,U)),U}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Da(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function rd(){return null}var fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}qi.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Ji(e,t,null,null)},qi.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ji(null,e,null,null)}),t[on]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ja();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sn.length&&t!==0&&t<Sn[r].priority;r++);Sn.splice(r,0,e),r===0&&Za(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function id(e,t,r,s,g){if(g){if(typeof s=="function"){var b=s;s=function(){var ce=Zi(U);b.call(ce)}}var U=du(t,s,e,0,null,!1,!1,"",pu);return e._reactRootContainer=U,e[on]=U.current,Dr(e.nodeType===8?e.parentNode:e),Xn(),U}for(;g=e.lastChild;)e.removeChild(g);if(typeof s=="function"){var K=s;s=function(){var ce=Zi(Z);K.call(ce)}}var Z=Fa(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=Z,e[on]=Z.current,Dr(e.nodeType===8?e.parentNode:e),Xn(function(){Ji(t,Z,r,s)}),Z}function ts(e,t,r,s,g){var b=r._reactRootContainer;if(b){var U=b;if(typeof g=="function"){var K=g;g=function(){var Z=Zi(U);K.call(Z)}}Ji(t,U,e,g)}else U=id(r,t,e,g,s);return Zi(U)}Ya=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sr(t.pendingLanes);r!==0&&(as(t,r|1),Dt(t,dt()),(Xe&6)===0&&(vr=dt()+500,kn()))}break;case 13:Xn(function(){var s=dn(e,1);if(s!==null){var g=Rt();qt(s,e,1,g)}}),Da(e,1)}},os=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var r=Rt();qt(t,e,134217728,r)}Da(e,134217728)}},Ka=function(e){if(e.tag===13){var t=In(e),r=dn(e,t);if(r!==null){var s=Rt();qt(r,e,t,s)}Da(e,t)}},ja=function(){return Qe},Qa=function(e,t){var r=Qe;try{return Qe=e,t()}finally{Qe=r}},st=function(e,t,r){switch(t){case"input":if(pe(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var g=yi(s);if(!g)throw Error(n(90));Q(s),pe(s,g)}}}break;case"textarea":We(e,r);break;case"select":t=r.value,t!=null&&Te(e,!!r.multiple,t,!1)}},$e=Ta,xe=Xn;var sd={usingClientEntryPoint:!1,Events:[_r,ir,yi,Oe,Le,Ta]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||rd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{qr=ns.inject(ad),tn=ns}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sd,reactDom_production_min.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(n(200));return nd(e,t,null,r)},reactDom_production_min.createRoot=function(e,t){if(!Na(e))throw Error(n(299));var r=!1,s="",g=fu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Fa(e,1,!1,null,null,r,!1,s,g),e[on]=t.current,Dr(e.nodeType===8?e.parentNode:e),new La(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Xn(e)},reactDom_production_min.hydrate=function(e,t,r){if(!es(t))throw Error(n(200));return ts(null,e,t,!0,r)},reactDom_production_min.hydrateRoot=function(e,t,r){if(!Na(e))throw Error(n(405));var s=r!=null&&r.hydratedSources||null,g=!1,b="",U=fu;if(r!=null&&(r.unstable_strictMode===!0&&(g=!0),r.identifierPrefix!==void 0&&(b=r.identifierPrefix),r.onRecoverableError!==void 0&&(U=r.onRecoverableError)),t=du(t,null,e,1,r??null,g,!1,b,U),e[on]=t.current,Dr(e),s)for(e=0;e<s.length;e++)r=s[e],g=r._getVersion,g=g(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,g]:t.mutableSourceEagerHydrationData.push(r,g);return new qi(t)},reactDom_production_min.render=function(e,t,r){if(!es(t))throw Error(n(200));return ts(null,e,t,!1,r)},reactDom_production_min.unmountComponentAtNode=function(e){if(!es(e))throw Error(n(40));return e._reactRootContainer?(Xn(function(){ts(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Ta,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!es(r))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ts(e,t,r,!1,s)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(a){console.error(a)}}return h(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var h=requireReactDom();return client.createRoot=h.createRoot,client.hydrateRoot=h.hydrateRoot,client}var clientExports=requireClient();requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(h){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(h[i]=n[i])}return h},_extends$2.apply(this,arguments)}var Action;(function(h){h.Pop="POP",h.Push="PUSH",h.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(h){h===void 0&&(h={});function a(u,f){let{pathname:S="/",search:x="",hash:M=""}=parsePath(u.location.hash.substr(1));return!S.startsWith("/")&&!S.startsWith(".")&&(S="/"+S),createLocation("",{pathname:S,search:x,hash:M},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function n(u,f){let S=u.document.querySelector("base"),x="";if(S&&S.getAttribute("href")){let M=u.location.href,d=M.indexOf("#");x=d===-1?M:M.slice(0,d)}return x+"#"+(typeof f=="string"?f:createPath(f))}function i(u,f){warning(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(f)+")")}return getUrlBasedHistory(a,n,i,h)}function invariant(h,a){if(h===!1||h===null||typeof h>"u")throw new Error(a)}function warning(h,a){if(!h){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(h,a){return{usr:h.state,key:h.key,idx:a}}function createLocation(h,a,n,i){return n===void 0&&(n=null),_extends$2({pathname:typeof h=="string"?h:h.pathname,search:"",hash:""},typeof a=="string"?parsePath(a):a,{state:n,key:a&&a.key||i||createKey()})}function createPath(h){let{pathname:a="/",search:n="",hash:i=""}=h;return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function parsePath(h){let a={};if(h){let n=h.indexOf("#");n>=0&&(a.hash=h.substr(n),h=h.substr(0,n));let i=h.indexOf("?");i>=0&&(a.search=h.substr(i),h=h.substr(0,i)),h&&(a.pathname=h)}return a}function getUrlBasedHistory(h,a,n,i){i===void 0&&(i={});let{window:u=document.defaultView,v5Compat:f=!1}=i,S=u.history,x=Action.Pop,M=null,d=o();d==null&&(d=0,S.replaceState(_extends$2({},S.state,{idx:d}),""));function o(){return(S.state||{idx:null}).idx}function c(){x=Action.Pop;let y=o(),m=y==null?null:y-d;d=y,M&&M({action:x,location:p.location,delta:m})}function v(y,m){x=Action.Push;let P=createLocation(p.location,y,m);n&&n(P,y),d=o()+1;let N=getHistoryState(P,d),L=p.createHref(P);try{S.pushState(N,"",L)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;u.location.assign(L)}f&&M&&M({action:x,location:p.location,delta:1})}function A(y,m){x=Action.Replace;let P=createLocation(p.location,y,m);n&&n(P,y),d=o();let N=getHistoryState(P,d),L=p.createHref(P);S.replaceState(N,"",L),f&&M&&M({action:x,location:p.location,delta:0})}function l(y){let m=u.location.origin!=="null"?u.location.origin:u.location.href,P=typeof y=="string"?y:createPath(y);return P=P.replace(/ $/,"%20"),invariant(m,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,m)}let p={get action(){return x},get location(){return h(u,S)},listen(y){if(M)throw new Error("A history only accepts one active listener");return u.addEventListener(PopStateEventType,c),M=y,()=>{u.removeEventListener(PopStateEventType,c),M=null}},createHref(y){return a(u,y)},createURL:l,encodeLocation(y){let m=l(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:v,replace:A,go(y){return S.go(y)}};return p}var ResultType;(function(h){h.data="data",h.deferred="deferred",h.redirect="redirect",h.error="error"})(ResultType||(ResultType={}));function matchRoutes(h,a,n){return n===void 0&&(n="/"),matchRoutesImpl(h,a,n)}function matchRoutesImpl(h,a,n,i){let u=typeof a=="string"?parsePath(a):a,f=stripBasename(u.pathname||"/",n);if(f==null)return null;let S=flattenRoutes(h);rankRouteBranches(S);let x=null;for(let M=0;x==null&&M<S.length;++M){let d=decodePath(f);x=matchRouteBranch(S[M],d)}return x}function flattenRoutes(h,a,n,i){a===void 0&&(a=[]),n===void 0&&(n=[]),i===void 0&&(i="");let u=(f,S,x)=>{let M={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:S,route:f};M.relativePath.startsWith("/")&&(invariant(M.relativePath.startsWith(i),'Absolute route path "'+M.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),M.relativePath=M.relativePath.slice(i.length));let d=joinPaths([i,M.relativePath]),o=n.concat(M);f.children&&f.children.length>0&&(invariant(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),flattenRoutes(f.children,a,o,d)),!(f.path==null&&!f.index)&&a.push({path:d,score:computeScore(d,f.index),routesMeta:o})};return h.forEach((f,S)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))u(f,S);else for(let M of explodeOptionalSegments(f.path))u(f,S,M)}),a}function explodeOptionalSegments(h){let a=h.split("/");if(a.length===0)return[];let[n,...i]=a,u=n.endsWith("?"),f=n.replace(/\?$/,"");if(i.length===0)return u?[f,""]:[f];let S=explodeOptionalSegments(i.join("/")),x=[];return x.push(...S.map(M=>M===""?f:[f,M].join("/"))),u&&x.push(...S),x.map(M=>h.startsWith("/")&&M===""?"/":M)}function rankRouteBranches(h){h.sort((a,n)=>a.score!==n.score?n.score-a.score:compareIndexes(a.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=h=>h==="*";function computeScore(h,a){let n=h.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),a&&(i+=indexRouteValue),n.filter(u=>!isSplat(u)).reduce((u,f)=>u+(paramRe.test(f)?dynamicSegmentValue:f===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(h,a){return h.length===a.length&&h.slice(0,-1).every((i,u)=>i===a[u])?h[h.length-1]-a[a.length-1]:0}function matchRouteBranch(h,a,n){let{routesMeta:i}=h,u={},f="/",S=[];for(let x=0;x<i.length;++x){let M=i[x],d=x===i.length-1,o=f==="/"?a:a.slice(f.length)||"/",c=matchPath({path:M.relativePath,caseSensitive:M.caseSensitive,end:d},o),v=M.route;if(!c)return null;Object.assign(u,c.params),S.push({params:u,pathname:joinPaths([f,c.pathname]),pathnameBase:normalizePathname(joinPaths([f,c.pathnameBase])),route:v}),c.pathnameBase!=="/"&&(f=joinPaths([f,c.pathnameBase]))}return S}function matchPath(h,a){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[n,i]=compilePath(h.path,h.caseSensitive,h.end),u=a.match(n);if(!u)return null;let f=u[0],S=f.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:i.reduce((d,o,c)=>{let{paramName:v,isOptional:A}=o;if(v==="*"){let p=x[c]||"";S=f.slice(0,f.length-p.length).replace(/(.)\/+$/,"$1")}const l=x[c];return A&&!l?d[v]=void 0:d[v]=(l||"").replace(/%2F/g,"/"),d},{}),pathname:f,pathnameBase:S,pattern:h}}function compilePath(h,a,n){a===void 0&&(a=!1),n===void 0&&(n=!0),warning(h==="*"||!h.endsWith("*")||h.endsWith("/*"),'Route path "'+h+'" will be treated as if it were '+('"'+h.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+h.replace(/\*$/,"/*")+'".'));let i=[],u="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,x,M)=>(i.push({paramName:x,isOptional:M!=null}),M?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(i.push({paramName:"*"}),u+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?u+="\\/*$":h!==""&&h!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),i]}function decodePath(h){try{return h.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return warning(!1,'The URL path "'+h+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),h}}function stripBasename(h,a){if(a==="/")return h;if(!h.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,i=h.charAt(n);return i&&i!=="/"?null:h.slice(n)||"/"}function resolvePath(h,a){a===void 0&&(a="/");let{pathname:n,search:i="",hash:u=""}=typeof h=="string"?parsePath(h):h;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,a):a,search:normalizeSearch(i),hash:normalizeHash(u)}}function resolvePathname(h,a){let n=a.replace(/\/+$/,"").split("/");return h.split("/").forEach(u=>{u===".."?n.length>1&&n.pop():u!=="."&&n.push(u)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(h,a,n,i){return"Cannot include a '"+h+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(h){return h.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function getResolveToMatches(h,a){let n=getPathContributingMatches(h);return a?n.map((i,u)=>u===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function resolveTo(h,a,n,i){i===void 0&&(i=!1);let u;typeof h=="string"?u=parsePath(h):(u=_extends$2({},h),invariant(!u.pathname||!u.pathname.includes("?"),getInvalidPathError("?","pathname","search",u)),invariant(!u.pathname||!u.pathname.includes("#"),getInvalidPathError("#","pathname","hash",u)),invariant(!u.search||!u.search.includes("#"),getInvalidPathError("#","search","hash",u)));let f=h===""||u.pathname==="",S=f?"/":u.pathname,x;if(S==null)x=n;else{let c=a.length-1;if(!i&&S.startsWith("..")){let v=S.split("/");for(;v[0]==="..";)v.shift(),c-=1;u.pathname=v.join("/")}x=c>=0?a[c]:"/"}let M=resolvePath(u,x),d=S&&S!=="/"&&S.endsWith("/"),o=(f||S===".")&&n.endsWith("/");return!M.pathname.endsWith("/")&&(d||o)&&(M.pathname+="/"),M}const joinPaths=h=>h.join("/").replace(/\/\/+/g,"/"),normalizePathname=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,normalizeHash=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function isRouteErrorResponse(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(h){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(h[i]=n[i])}return h},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(h,a){let{relative:n}=a===void 0?{}:a;useInRouterContext()||invariant(!1);let{basename:i,navigator:u}=reactExports.useContext(NavigationContext),{hash:f,pathname:S,search:x}=useResolvedPath(h,{relative:n}),M=S;return i!=="/"&&(M=S==="/"?i:joinPaths([i,S])),u.createHref({pathname:M,search:x,hash:f})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(h){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(h)}function useNavigate(){let{isDataRoute:h}=reactExports.useContext(RouteContext);return h?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let h=reactExports.useContext(DataRouterContext),{basename:a,future:n,navigator:i}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),{pathname:f}=useLocation(),S=JSON.stringify(getResolveToMatches(u,n.v7_relativeSplatPath)),x=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{x.current=!0}),reactExports.useCallback(function(d,o){if(o===void 0&&(o={}),!x.current)return;if(typeof d=="number"){i.go(d);return}let c=resolveTo(d,JSON.parse(S),f,o.relative==="path");h==null&&a!=="/"&&(c.pathname=c.pathname==="/"?a:joinPaths([a,c.pathname])),(o.replace?i.replace:i.push)(c,o.state,o)},[a,i,S,f,h])}function useResolvedPath(h,a){let{relative:n}=a===void 0?{}:a,{future:i}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),{pathname:f}=useLocation(),S=JSON.stringify(getResolveToMatches(u,i.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(h,JSON.parse(S),f,n==="path"),[h,S,f,n])}function useRoutes(h,a){return useRoutesImpl(h,a)}function useRoutesImpl(h,a,n,i){useInRouterContext()||invariant(!1);let{navigator:u}=reactExports.useContext(NavigationContext),{matches:f}=reactExports.useContext(RouteContext),S=f[f.length-1],x=S?S.params:{};S&&S.pathname;let M=S?S.pathnameBase:"/";S&&S.route;let d=useLocation(),o;if(a){var c;let y=typeof a=="string"?parsePath(a):a;M==="/"||(c=y.pathname)!=null&&c.startsWith(M)||invariant(!1),o=y}else o=d;let v=o.pathname||"/",A=v;if(M!=="/"){let y=M.replace(/^\//,"").split("/");A="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let l=matchRoutes(h,{pathname:A}),p=_renderMatches(l&&l.map(y=>Object.assign({},y,{params:Object.assign({},x,y.params),pathname:joinPaths([M,u.encodeLocation?u.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?M:joinPaths([M,u.encodeLocation?u.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),f,n,i);return a&&p?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:Action.Pop}},p):p}function DefaultErrorComponent(){let h=useRouteError(),a=isRouteErrorResponse(h)?h.status+" "+h.statusText:h instanceof Error?h.message:JSON.stringify(h),n=h instanceof Error?h.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},a),n?reactExports.createElement("pre",{style:u},n):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){console.error("React Router caught the following error during render",a,n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(h){let{routeContext:a,match:n,children:i}=h,u=reactExports.useContext(DataRouterContext);return u&&u.static&&u.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports.createElement(RouteContext.Provider,{value:a},i)}function _renderMatches(h,a,n,i){var u;if(a===void 0&&(a=[]),n===void 0&&(n=null),i===void 0&&(i=null),h==null){var f;if(!n)return null;if(n.errors)h=n.matches;else if((f=i)!=null&&f.v7_partialHydration&&a.length===0&&!n.initialized&&n.matches.length>0)h=n.matches;else return null}let S=h,x=(u=n)==null?void 0:u.errors;if(x!=null){let o=S.findIndex(c=>c.route.id&&x?.[c.route.id]!==void 0);o>=0||invariant(!1),S=S.slice(0,Math.min(S.length,o+1))}let M=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let o=0;o<S.length;o++){let c=S[o];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(d=o),c.route.id){let{loaderData:v,errors:A}=n,l=c.route.loader&&v[c.route.id]===void 0&&(!A||A[c.route.id]===void 0);if(c.route.lazy||l){M=!0,d>=0?S=S.slice(0,d+1):S=[S[0]];break}}}return S.reduceRight((o,c,v)=>{let A,l=!1,p=null,y=null;n&&(A=x&&c.route.id?x[c.route.id]:void 0,p=c.route.errorElement||defaultErrorElement,M&&(d<0&&v===0?(warningOnce("route-fallback"),l=!0,y=null):d===v&&(l=!0,y=c.route.hydrateFallbackElement||null)));let m=a.concat(S.slice(0,v+1)),P=()=>{let N;return A?N=p:l?N=y:c.route.Component?N=reactExports.createElement(c.route.Component,null):c.route.element?N=c.route.element:N=o,reactExports.createElement(RenderedRoute,{match:c,routeContext:{outlet:o,matches:m,isDataRoute:n!=null},children:N})};return n&&(c.route.ErrorBoundary||c.route.errorElement||v===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:p,error:A,children:P(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):P()},null)}var DataRouterHook$1=(function(h){return h.UseBlocker="useBlocker",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h})(DataRouterHook$1||{}),DataRouterStateHook$1=(function(h){return h.UseBlocker="useBlocker",h.UseLoaderData="useLoaderData",h.UseActionData="useActionData",h.UseRouteError="useRouteError",h.UseNavigation="useNavigation",h.UseRouteLoaderData="useRouteLoaderData",h.UseMatches="useMatches",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h.UseRouteId="useRouteId",h})(DataRouterStateHook$1||{});function useDataRouterContext$1(h){let a=reactExports.useContext(DataRouterContext);return a||invariant(!1),a}function useDataRouterState(h){let a=reactExports.useContext(DataRouterStateContext);return a||invariant(!1),a}function useRouteContext(h){let a=reactExports.useContext(RouteContext);return a||invariant(!1),a}function useCurrentRouteId(h){let a=useRouteContext(),n=a.matches[a.matches.length-1];return n.route.id||invariant(!1),n.route.id}function useRouteError(){var h;let a=reactExports.useContext(RouteErrorContext),n=useDataRouterState(),i=useCurrentRouteId();return a!==void 0?a:(h=n.errors)==null?void 0:h[i]}function useNavigateStable(){let{router:h}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),a=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{n.current=!0}),reactExports.useCallback(function(u,f){f===void 0&&(f={}),n.current&&(typeof u=="number"?h.navigate(u):h.navigate(u,_extends$1({fromRouteId:a},f)))},[h,a])}const alreadyWarned$1={};function warningOnce(h,a,n){alreadyWarned$1[h]||(alreadyWarned$1[h]=!0)}function logV6DeprecationWarnings(h,a){h?.v7_startTransition,h?.v7_relativeSplatPath}function Route(h){invariant(!1)}function Router(h){let{basename:a="/",children:n=null,location:i,navigationType:u=Action.Pop,navigator:f,static:S=!1,future:x}=h;useInRouterContext()&&invariant(!1);let M=a.replace(/^\/*/,"/"),d=reactExports.useMemo(()=>({basename:M,navigator:f,static:S,future:_extends$1({v7_relativeSplatPath:!1},x)}),[M,x,f,S]);typeof i=="string"&&(i=parsePath(i));let{pathname:o="/",search:c="",hash:v="",state:A=null,key:l="default"}=i,p=reactExports.useMemo(()=>{let y=stripBasename(o,M);return y==null?null:{location:{pathname:y,search:c,hash:v,state:A,key:l},navigationType:u}},[M,o,c,v,A,l,u]);return p==null?null:reactExports.createElement(NavigationContext.Provider,{value:d},reactExports.createElement(LocationContext.Provider,{children:n,value:p}))}function Routes(h){let{children:a,location:n}=h;return useRoutes(createRoutesFromChildren(a),n)}new Promise(()=>{});function createRoutesFromChildren(h,a){a===void 0&&(a=[]);let n=[];return reactExports.Children.forEach(h,(i,u)=>{if(!reactExports.isValidElement(i))return;let f=[...a,u];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,f));return}i.type!==Route&&invariant(!1),!i.props.index||!i.props.children||invariant(!1);let S={id:i.props.id||f.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(S.children=createRoutesFromChildren(i.props.children,f)),n.push(S)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(h){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(h[i]=n[i])}return h},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(h,a){if(h==null)return{};var n={},i=Object.keys(h),u,f;for(f=0;f<i.length;f++)u=i[f],!(a.indexOf(u)>=0)&&(n[u]=h[u]);return n}function isModifiedEvent(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function shouldProcessLinkClick(h,a){return h.button===0&&(!a||a==="_self")&&!isModifiedEvent(h)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(h){let{basename:a,children:n,future:i,window:u}=h,f=reactExports.useRef();f.current==null&&(f.current=createHashHistory({window:u,v5Compat:!0}));let S=f.current,[x,M]=reactExports.useState({action:S.action,location:S.location}),{v7_startTransition:d}=i||{},o=reactExports.useCallback(c=>{d&&startTransitionImpl?startTransitionImpl(()=>M(c)):M(c)},[M,d]);return reactExports.useLayoutEffect(()=>S.listen(o),[S,o]),reactExports.useEffect(()=>logV6DeprecationWarnings(i),[i]),reactExports.createElement(Router,{basename:a,children:n,location:x.location,navigationType:x.action,navigator:S,future:i})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(a,n){let{onClick:i,relative:u,reloadDocument:f,replace:S,state:x,target:M,to:d,preventScrollReset:o,viewTransition:c}=a,v=_objectWithoutPropertiesLoose(a,_excluded),{basename:A}=reactExports.useContext(NavigationContext),l,p=!1;if(typeof d=="string"&&ABSOLUTE_URL_REGEX.test(d)&&(l=d,isBrowser))try{let N=new URL(window.location.href),L=d.startsWith("//")?new URL(N.protocol+d):new URL(d),w=stripBasename(L.pathname,A);L.origin===N.origin&&w!=null?d=w+L.search+L.hash:p=!0}catch{}let y=useHref(d,{relative:u}),m=useLinkClickHandler(d,{replace:S,state:x,target:M,preventScrollReset:o,relative:u,viewTransition:c});function P(N){i&&i(N),N.defaultPrevented||m(N)}return reactExports.createElement("a",_extends({},v,{href:l||y,onClick:p||f?i:P,ref:n,target:M}))}),NavLink=reactExports.forwardRef(function(a,n){let{"aria-current":i="page",caseSensitive:u=!1,className:f="",end:S=!1,style:x,to:M,viewTransition:d,children:o}=a,c=_objectWithoutPropertiesLoose(a,_excluded2),v=useResolvedPath(M,{relative:c.relative}),A=useLocation(),l=reactExports.useContext(DataRouterStateContext),{navigator:p,basename:y}=reactExports.useContext(NavigationContext),m=l!=null&&useViewTransitionState(v)&&d===!0,P=p.encodeLocation?p.encodeLocation(v).pathname:v.pathname,N=A.pathname,L=l&&l.navigation&&l.navigation.location?l.navigation.location.pathname:null;u||(N=N.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&y&&(L=stripBasename(L,y)||L);const w=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let F=N===P||!S&&N.startsWith(P)&&N.charAt(w)==="/",z=L!=null&&(L===P||!S&&L.startsWith(P)&&L.charAt(P.length)==="/"),V={isActive:F,isPending:z,isTransitioning:m},$=F?i:void 0,j;typeof f=="function"?j=f(V):j=[f,F?"active":null,z?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let J=typeof x=="function"?x(V):x;return reactExports.createElement(Link,_extends({},c,{"aria-current":$,className:j,ref:n,style:J,to:M,viewTransition:d}),typeof o=="function"?o(V):o)});var DataRouterHook;(function(h){h.UseScrollRestoration="useScrollRestoration",h.UseSubmit="useSubmit",h.UseSubmitFetcher="useSubmitFetcher",h.UseFetcher="useFetcher",h.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(h){h.UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(h){let a=reactExports.useContext(DataRouterContext);return a||invariant(!1),a}function useLinkClickHandler(h,a){let{target:n,replace:i,state:u,preventScrollReset:f,relative:S,viewTransition:x}=a===void 0?{}:a,M=useNavigate(),d=useLocation(),o=useResolvedPath(h,{relative:S});return reactExports.useCallback(c=>{if(shouldProcessLinkClick(c,n)){c.preventDefault();let v=i!==void 0?i:createPath(d)===createPath(o);M(h,{replace:v,state:u,preventScrollReset:f,relative:S,viewTransition:x})}},[d,M,o,i,u,n,h,f,S,x])}function useViewTransitionState(h,a){a===void 0&&(a={});let n=reactExports.useContext(ViewTransitionContext);n==null&&invariant(!1);let{basename:i}=useDataRouterContext(DataRouterHook.useViewTransitionState),u=useResolvedPath(h,{relative:a.relative});if(!n.isTransitioning)return!1;let f=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,S=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(u.pathname,S)!=null||matchPath(u.pathname,f)!=null}function NavBar(){return React.createElement("header",{className:"topbar",style:{position:"sticky",top:0,zIndex:10}},React.createElement("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12}},React.createElement("div",{className:"brand",style:{fontWeight:700}},"Reading Quest"),React.createElement("nav",{style:{display:"flex",gap:12}},React.createElement(NavLink,{to:"/",className:({isActive:h})=>h?"nav-link active":"nav-link"},"Home"),React.createElement(NavLink,{to:"/library",className:({isActive:h})=>h?"nav-link active":"nav-link"},"Library"))))}function Home(){return React.createElement("main",{className:"reader-area"},React.createElement("div",{className:"reader-card",style:{textAlign:"center",padding:24}},React.createElement("h1",{style:{marginBottom:8}},"Welcome to Reading Quest"),React.createElement("p",{className:"muted",style:{marginBottom:16}},"Upload your PDFs, keep them in your Library, and pick up where you left off."),React.createElement(Link,{to:"/library",className:"btn"},"Go to Library"),React.createElement("div",{className:"muted",style:{marginTop:16,fontSize:12}},"Your files never leave your browser (IndexedDB). Works offline after first load.")))}function commonjsRequire(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function h(l,p,y){for(var m=0,P=p.length,N;m<P;m++)(N||!(m in p))&&(N||(N=Array.prototype.slice.call(p,0,m)),N[m]=p[m]);return l.concat(N||Array.prototype.slice.call(p))}var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function u(l){var p=l.match(i);return p?p.map(Number):[]}function f(l){var p=[],y=String(l).trim();return y[0]!=="M"&&y[0]!=="m"||y.replace(n,function(m,P,N){var L=u(N),w=P.toLowerCase(),F=P;if(w==="m"&&L.length>2&&(p.push(h([F],L.splice(0,2))),w="l",F=F==="m"?"l":"L"),L.length<a[w])return"";for(p.push(h([F],L.splice(0,a[w])));L.length>=a[w]&&L.length&&a[w];)p.push(h([F],L.splice(0,a[w])));return""}),p}function S(l,p){var y=l.x*Math.cos(p)-l.y*Math.sin(p),m=l.y*Math.cos(p)+l.x*Math.sin(p);l.x=y,l.y=m}function x(l,p,y){l.x+=p,l.y+=y}function M(l,p){l.x*=p,l.y*=p}var d=(function(){function l(p){var y;this.commands=[],p&&p instanceof l?(y=this.commands).push.apply(y,p.commands):p&&(this.commands=f(p))}return l.prototype.addPath=function(p){var y;p&&p instanceof l&&(y=this.commands).push.apply(y,p.commands)},l.prototype.moveTo=function(p,y){this.commands.push(["M",p,y])},l.prototype.lineTo=function(p,y){this.commands.push(["L",p,y])},l.prototype.arc=function(p,y,m,P,N,L){this.commands.push(["AC",p,y,m,P,N,!!L])},l.prototype.arcTo=function(p,y,m,P,N){this.commands.push(["AT",p,y,m,P,N])},l.prototype.ellipse=function(p,y,m,P,N,L,w,F){this.commands.push(["E",p,y,m,P,N,L,w,!!F])},l.prototype.closePath=function(){this.commands.push(["Z"])},l.prototype.bezierCurveTo=function(p,y,m,P,N,L){this.commands.push(["C",p,y,m,P,N,L])},l.prototype.quadraticCurveTo=function(p,y,m,P){this.commands.push(["Q",p,y,m,P])},l.prototype.rect=function(p,y,m,P){this.commands.push(["R",p,y,m,P])},l.prototype.roundRect=function(p,y,m,P,N){typeof N>"u"?this.commands.push(["RR",p,y,m,P,0]):this.commands.push(["RR",p,y,m,P,N])},l})();function o(l,p){var y=0,m=0,P,N,L,w,F,z,V,$,j,J,he,le,de,fe,ne,Y,I,C,k,T,B,H=null,G=null,W=null,E=null,R=null,O=null;l.beginPath();for(var _=0;_<p.length;++_){C=p[_][0],C!=="S"&&C!=="s"&&C!=="C"&&C!=="c"&&(H=null,G=null),C!=="T"&&C!=="t"&&C!=="Q"&&C!=="q"&&(W=null,E=null);var D=void 0;switch(C){case"m":case"M":D=p[_],C==="m"?(y+=D[1],m+=D[2]):(y=D[1],m=D[2]),(C==="M"||!R)&&(R={x:y,y:m}),l.moveTo(y,m);break;case"l":D=p[_],y+=D[1],m+=D[2],l.lineTo(y,m);break;case"L":D=p[_],y=D[1],m=D[2],l.lineTo(y,m);break;case"H":D=p[_],y=D[1],l.lineTo(y,m);break;case"h":D=p[_],y+=D[1],l.lineTo(y,m);break;case"V":D=p[_],m=D[1],l.lineTo(y,m);break;case"v":D=p[_],m+=D[1],l.lineTo(y,m);break;case"a":case"A":if(D=p[_],O===null)throw new Error("This should never happen");C==="a"?(y+=D[6],m+=D[7]):(y=D[6],m=D[7]),fe=D[1],ne=D[2],V=D[3]*Math.PI/180,L=!!D[4],w=!!D[5],F={x:y,y:m},z={x:(O.x-F.x)/2,y:(O.y-F.y)/2},S(z,-V),$=z.x*z.x/(fe*fe)+z.y*z.y/(ne*ne),$>1&&($=Math.sqrt($),fe*=$,ne*=$),k={x:fe*z.y/ne,y:-(ne*z.x)/fe},j=fe*fe*ne*ne,J=fe*fe*z.y*z.y+ne*ne*z.x*z.x,w!==L?M(k,Math.sqrt((j-J)/J)||0):M(k,-Math.sqrt((j-J)/J)||0),N=Math.atan2((z.y-k.y)/ne,(z.x-k.x)/fe),P=Math.atan2(-(z.y+k.y)/ne,-(z.x+k.x)/fe),S(k,V),x(k,(F.x+O.x)/2,(F.y+O.y)/2),l.save(),l.translate(k.x,k.y),l.rotate(V),l.scale(fe,ne),l.arc(0,0,1,N,P,!w),l.restore();break;case"C":D=p[_],H=D[3],G=D[4],y=D[5],m=D[6],l.bezierCurveTo(D[1],D[2],H,G,y,m);break;case"c":D=p[_],l.bezierCurveTo(D[1]+y,D[2]+m,D[3]+y,D[4]+m,D[5]+y,D[6]+m),H=D[3]+y,G=D[4]+m,y+=D[5],m+=D[6];break;case"S":D=p[_],(H===null||G===null)&&(H=y,G=m),l.bezierCurveTo(2*y-H,2*m-G,D[1],D[2],D[3],D[4]),H=D[1],G=D[2],y=D[3],m=D[4];break;case"s":D=p[_],(H===null||G===null)&&(H=y,G=m),l.bezierCurveTo(2*y-H,2*m-G,D[1]+y,D[2]+m,D[3]+y,D[4]+m),H=D[1]+y,G=D[2]+m,y+=D[3],m+=D[4];break;case"Q":D=p[_],W=D[1],E=D[2],y=D[3],m=D[4],l.quadraticCurveTo(W,E,y,m);break;case"q":D=p[_],W=D[1]+y,E=D[2]+m,y+=D[3],m+=D[4],l.quadraticCurveTo(W,E,y,m);break;case"T":D=p[_],(W===null||E===null)&&(W=y,E=m),W=2*y-W,E=2*m-E,y=D[1],m=D[2],l.quadraticCurveTo(W,E,y,m);break;case"t":D=p[_],(W===null||E===null)&&(W=y,E=m),W=2*y-W,E=2*m-E,y+=D[1],m+=D[2],l.quadraticCurveTo(W,E,y,m);break;case"z":case"Z":R&&(y=R.x,m=R.y),R=null,l.closePath();break;case"AC":D=p[_],y=D[1],m=D[2],de=D[3],N=D[4],P=D[5],T=D[6],l.arc(y,m,de,N,P,T);break;case"AT":D=p[_],he=D[1],le=D[2],y=D[3],m=D[4],de=D[5],l.arcTo(he,le,y,m,de);break;case"E":D=p[_],y=D[1],m=D[2],fe=D[3],ne=D[4],V=D[5],N=D[6],P=D[7],T=D[8],l.save(),l.translate(y,m),l.rotate(V),l.scale(fe,ne),l.arc(0,0,1,N,P,T),l.restore();break;case"R":D=p[_],y=D[1],m=D[2],Y=D[3],I=D[4],R={x:y,y:m},l.rect(y,m,Y,I);break;case"RR":D=p[_],y=D[1],m=D[2],Y=D[3],I=D[4],B=D[5],R={x:y,y:m},l.roundRect(y,m,Y,I,B);break}O?(O.x=y,O.y=m):O={x:y,y:m}}}function c(l){if(!(!l||!l.CanvasRenderingContext2D||l.Path2D)){var p=l.CanvasRenderingContext2D,y=p.prototype.fill,m=p.prototype.stroke,P=p.prototype.isPointInPath;p.prototype.fill=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(L[0]instanceof d){var F=L[0],z=L[1]||"nonzero";o(this,F.commands),y.apply(this,[z])}else{var z=L[0]||"nonzero";return y.apply(this,[z])}},p.prototype.stroke=function(L){L&&o(this,L.commands),m.apply(this)},p.prototype.isPointInPath=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(L[0]instanceof d){var F=L[0],z=L[1],V=L[2],$=L[3]||"nonzero";return o(this,F.commands),P.apply(this,[z,V,$])}else return P.apply(this,L)},l.Path2D=d}}function v(l,p,y,m,P){var N=this;if(P===void 0&&(P=0),typeof P=="number"&&(P=[P]),Array.isArray(P)){if(P.length===0||P.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(P.length," radii provided. Between one and four radii are necessary."));P.forEach(function($){if($<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(N.constructor.name,"': Radius value ").concat($," is negative."))})}else return;if(P.length===1&&P[0]===0)return this.rect(l,p,y,m);var L=Math.min(y,m)/2,w,F,z,V=w=F=z=Math.min(L,P[0]);P.length===2&&(w=z=Math.min(L,P[1])),P.length===3&&(w=z=Math.min(L,P[1]),F=Math.min(L,P[2])),P.length===4&&(w=Math.min(L,P[1]),F=Math.min(L,P[2]),z=Math.min(L,P[3])),this.moveTo(l,p+m-z),this.arcTo(l,p,l+V,p,V),this.arcTo(l+y,p,l+y,p+w,w),this.arcTo(l+y,p+m,l+y-F,p+m,F),this.arcTo(l,p+m,l,p+m-z,z),this.moveTo(l,p)}function A(l){if(!(!l||!l.CanvasRenderingContext2D)){var p=l.CanvasRenderingContext2D,y=l.Path2D;p&&!p.prototype.roundRect&&(p.prototype.roundRect=v),y&&!y.prototype.roundRect&&(y.prototype.roundRect=v)}}return c(window),A(window),path2dPolyfill_esm}var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(a,n){module.exports=a.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.TextRenderingMode=a.RenderingIntentFlag=a.PromiseCapability=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.MAX_IMAGE_SIZE_TO_CACHE=a.LINE_FACTOR=a.LINE_DESCENT_FACTOR=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.BASELINE_FACTOR=a.AnnotationType=a.AnnotationReplyType=a.AnnotationPrefix=a.AnnotationMode=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationEditorType=a.AnnotationEditorPrefix=a.AnnotationEditorParamsType=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.assert=k,a.bytesToString=Q,a.createValidAbsoluteUrl=B,a.getModificationDate=Lt,a.getUuid=Qn,a.getVerbosityLevel=ne,a.info=Y,a.isArrayBuffer=nt,a.isArrayEqual=ct,a.isNodeJS=void 0,a.normalizeUnicode=Ln,a.objectFromMap=ue,a.objectSize=se,a.setVerbosityLevel=fe,a.shadow=H,a.string32=Se,a.stringToBytes=te,a.stringToPDFString=Ue,a.stringToUTF8String=We,a.unreachable=C,a.utf8StringToString=Ye,a.warn=I,n(2),n(84),n(86),n(87),n(89),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");a.isNodeJS=i;const u=[1,0,0,1,0,0];a.IDENTITY_MATRIX=u;const f=[.001,0,0,.001,0,0];a.FONT_IDENTITY_MATRIX=f;const S=1e7;a.MAX_IMAGE_SIZE_TO_CACHE=S;const x=1.35;a.LINE_FACTOR=x;const M=.35;a.LINE_DESCENT_FACTOR=M;const d=M/x;a.BASELINE_FACTOR=d;const o={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};a.RenderingIntentFlag=o;const c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};a.AnnotationMode=c;const v="pdfjs_internal_editor_";a.AnnotationEditorPrefix=v;const A={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};a.AnnotationEditorType=A;const l={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};a.AnnotationEditorParamsType=l;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};a.PermissionFlag=p;const y={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};a.TextRenderingMode=y;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};a.ImageKind=m;const P={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};a.AnnotationType=P;const N={GROUP:"Group",REPLY:"R"};a.AnnotationReplyType=N;const L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};a.AnnotationFlag=L;const w={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};a.AnnotationFieldFlag=w;const F={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};a.AnnotationBorderStyleType=F;const z={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};a.AnnotationActionEventType=z;const V={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};a.DocumentActionEventType=V;const $={O:"PageOpen",C:"PageClose"};a.PageActionEventType=$;const j={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=j;const J={NONE:0,BINARY:1};a.CMapCompressionType=J;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};a.OPS=he;const le={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};a.PasswordResponses=le;let de=j.WARNINGS;function fe(ye){Number.isInteger(ye)&&(de=ye)}function ne(){return de}function Y(ye){de>=j.INFOS&&console.log(`Info: ${ye}`)}function I(ye){de>=j.WARNINGS&&console.log(`Warning: ${ye}`)}function C(ye){throw new Error(ye)}function k(ye,ie){ye||C(ie)}function T(ye){switch(ye?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B(ye){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ye)return null;try{if(ee&&typeof ye=="string"&&(ee.addDefaultProtocol&&ye.startsWith("www.")&&ye.match(/\./g)?.length>=2&&(ye=`http://${ye}`),ee.tryConvertEncoding))try{ye=We(ye)}catch{}const we=ie?new URL(ye,ie):new URL(ye);if(T(we))return we}catch{}return null}function H(ye,ie,ee){let we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(ye,ie,{value:ee,enumerable:!we,configurable:!0,writable:!1}),ee}const G=(function(){function ie(ee,we){this.constructor===ie&&C("Cannot initialize BaseException."),this.message=ee,this.name=we}return ie.prototype=new Error,ie.constructor=ie,ie})();a.BaseException=G;class W extends G{constructor(ie,ee){super(ie,"PasswordException"),this.code=ee}}a.PasswordException=W;class E extends G{constructor(ie,ee){super(ie,"UnknownErrorException"),this.details=ee}}a.UnknownErrorException=E;class R extends G{constructor(ie){super(ie,"InvalidPDFException")}}a.InvalidPDFException=R;class O extends G{constructor(ie){super(ie,"MissingPDFException")}}a.MissingPDFException=O;class _ extends G{constructor(ie,ee){super(ie,"UnexpectedResponseException"),this.status=ee}}a.UnexpectedResponseException=_;class D extends G{constructor(ie){super(ie,"FormatError")}}a.FormatError=D;class X extends G{constructor(ie){super(ie,"AbortException")}}a.AbortException=X;function Q(ye){(typeof ye!="object"||ye?.length===void 0)&&C("Invalid argument for bytesToString");const ie=ye.length,ee=8192;if(ie<ee)return String.fromCharCode.apply(null,ye);const we=[];for(let Ge=0;Ge<ie;Ge+=ee){const st=Math.min(Ge+ee,ie),re=ye.subarray(Ge,st);we.push(String.fromCharCode.apply(null,re))}return we.join("")}function te(ye){typeof ye!="string"&&C("Invalid argument for stringToBytes");const ie=ye.length,ee=new Uint8Array(ie);for(let we=0;we<ie;++we)ee[we]=ye.charCodeAt(we)&255;return ee}function Se(ye){return String.fromCharCode(ye>>24&255,ye>>16&255,ye>>8&255,ye&255)}function se(ye){return Object.keys(ye).length}function ue(ye){const ie=Object.create(null);for(const[ee,we]of ye)ie[ee]=we;return ie}function pe(){const ye=new Uint8Array(4);return ye[0]=1,new Uint32Array(ye.buffer,0,1)[0]===1}function ge(){try{return new Function(""),!0}catch{return!1}}class me{static get isLittleEndian(){return H(this,"isLittleEndian",pe())}static get isEvalSupported(){return H(this,"isEvalSupported",ge())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?H(this,"platform",{isWin:!1,isMac:!1}):H(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return H(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}a.FeatureTest=me;const Ce=[...Array(256).keys()].map(ye=>ye.toString(16).padStart(2,"0"));class Te{static makeHexColor(ie,ee,we){return`#${Ce[ie]}${Ce[ee]}${Ce[we]}`}static scaleMinMax(ie,ee){let we;ie[0]?(ie[0]<0&&(we=ee[0],ee[0]=ee[1],ee[1]=we),ee[0]*=ie[0],ee[1]*=ie[0],ie[3]<0&&(we=ee[2],ee[2]=ee[3],ee[3]=we),ee[2]*=ie[3],ee[3]*=ie[3]):(we=ee[0],ee[0]=ee[2],ee[2]=we,we=ee[1],ee[1]=ee[3],ee[3]=we,ie[1]<0&&(we=ee[2],ee[2]=ee[3],ee[3]=we),ee[2]*=ie[1],ee[3]*=ie[1],ie[2]<0&&(we=ee[0],ee[0]=ee[1],ee[1]=we),ee[0]*=ie[2],ee[1]*=ie[2]),ee[0]+=ie[4],ee[1]+=ie[4],ee[2]+=ie[5],ee[3]+=ie[5]}static transform(ie,ee){return[ie[0]*ee[0]+ie[2]*ee[1],ie[1]*ee[0]+ie[3]*ee[1],ie[0]*ee[2]+ie[2]*ee[3],ie[1]*ee[2]+ie[3]*ee[3],ie[0]*ee[4]+ie[2]*ee[5]+ie[4],ie[1]*ee[4]+ie[3]*ee[5]+ie[5]]}static applyTransform(ie,ee){const we=ie[0]*ee[0]+ie[1]*ee[2]+ee[4],Ge=ie[0]*ee[1]+ie[1]*ee[3]+ee[5];return[we,Ge]}static applyInverseTransform(ie,ee){const we=ee[0]*ee[3]-ee[1]*ee[2],Ge=(ie[0]*ee[3]-ie[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/we,st=(-ie[0]*ee[1]+ie[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/we;return[Ge,st]}static getAxialAlignedBoundingBox(ie,ee){const we=this.applyTransform(ie,ee),Ge=this.applyTransform(ie.slice(2,4),ee),st=this.applyTransform([ie[0],ie[3]],ee),re=this.applyTransform([ie[2],ie[1]],ee);return[Math.min(we[0],Ge[0],st[0],re[0]),Math.min(we[1],Ge[1],st[1],re[1]),Math.max(we[0],Ge[0],st[0],re[0]),Math.max(we[1],Ge[1],st[1],re[1])]}static inverseTransform(ie){const ee=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/ee,-ie[1]/ee,-ie[2]/ee,ie[0]/ee,(ie[2]*ie[5]-ie[4]*ie[3])/ee,(ie[4]*ie[1]-ie[5]*ie[0])/ee]}static singularValueDecompose2dScale(ie){const ee=[ie[0],ie[2],ie[1],ie[3]],we=ie[0]*ee[0]+ie[1]*ee[2],Ge=ie[0]*ee[1]+ie[1]*ee[3],st=ie[2]*ee[0]+ie[3]*ee[2],re=ie[2]*ee[1]+ie[3]*ee[3],ke=(we+re)/2,Ne=Math.sqrt((we+re)**2-4*(we*re-st*Ge))/2,Oe=ke+Ne||1,Le=ke-Ne||1;return[Math.sqrt(Oe),Math.sqrt(Le)]}static normalizeRect(ie){const ee=ie.slice(0);return ie[0]>ie[2]&&(ee[0]=ie[2],ee[2]=ie[0]),ie[1]>ie[3]&&(ee[1]=ie[3],ee[3]=ie[1]),ee}static intersect(ie,ee){const we=Math.max(Math.min(ie[0],ie[2]),Math.min(ee[0],ee[2])),Ge=Math.min(Math.max(ie[0],ie[2]),Math.max(ee[0],ee[2]));if(we>Ge)return null;const st=Math.max(Math.min(ie[1],ie[3]),Math.min(ee[1],ee[3])),re=Math.min(Math.max(ie[1],ie[3]),Math.max(ee[1],ee[3]));return st>re?null:[we,st,Ge,re]}static bezierBoundingBox(ie,ee,we,Ge,st,re,ke,Ne){const Oe=[],Le=[[],[]];let $e,xe,Ke,He,Ve,rt,gt,lt;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(xe=6*ie-12*we+6*st,$e=-3*ie+9*we-9*st+3*ke,Ke=3*we-3*ie):(xe=6*ee-12*Ge+6*re,$e=-3*ee+9*Ge-9*re+3*Ne,Ke=3*Ge-3*ee),Math.abs($e)<1e-12){if(Math.abs(xe)<1e-12)continue;He=-Ke/xe,0<He&&He<1&&Oe.push(He);continue}gt=xe*xe-4*Ke*$e,lt=Math.sqrt(gt),!(gt<0)&&(Ve=(-xe+lt)/(2*$e),0<Ve&&Ve<1&&Oe.push(Ve),rt=(-xe-lt)/(2*$e),0<rt&&rt<1&&Oe.push(rt))}let Nt=Oe.length,yt;const en=Nt;for(;Nt--;)He=Oe[Nt],yt=1-He,Le[0][Nt]=yt*yt*yt*ie+3*yt*yt*He*we+3*yt*He*He*st+He*He*He*ke,Le[1][Nt]=yt*yt*yt*ee+3*yt*yt*He*Ge+3*yt*He*He*re+He*He*He*Ne;return Le[0][en]=ie,Le[1][en]=ee,Le[0][en+1]=ke,Le[1][en+1]=Ne,Le[0].length=Le[1].length=en+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}a.Util=Te;const Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(ye){if(ye[0]>=""){let ee;if(ye[0]===""&&ye[1]===""?ee="utf-16be":ye[0]===""&&ye[1]===""?ee="utf-16le":ye[0]===""&&ye[1]===""&&ye[2]===""&&(ee="utf-8"),ee)try{const we=new TextDecoder(ee,{fatal:!0}),Ge=te(ye);return we.decode(Ge)}catch(we){I(`stringToPDFString: "${we}".`)}}const ie=[];for(let ee=0,we=ye.length;ee<we;ee++){const Ge=Fe[ye.charCodeAt(ee)];ie.push(Ge?String.fromCharCode(Ge):ye.charAt(ee))}return ie.join("")}function We(ye){return decodeURIComponent(escape(ye))}function Ye(ye){return unescape(encodeURIComponent(ye))}function nt(ye){return typeof ye=="object"&&ye?.byteLength!==void 0}function ct(ye,ie){if(ye.length!==ie.length)return!1;for(let ee=0,we=ye.length;ee<we;ee++)if(ye[ee]!==ie[ee])return!1;return!0}function Lt(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[ye.getUTCFullYear().toString(),(ye.getUTCMonth()+1).toString().padStart(2,"0"),ye.getUTCDate().toString().padStart(2,"0"),ye.getUTCHours().toString().padStart(2,"0"),ye.getUTCMinutes().toString().padStart(2,"0"),ye.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ze{#e=!1;constructor(){this.promise=new Promise((ie,ee)=>{this.resolve=we=>{this.#e=!0,ie(we)},this.reject=we=>{this.#e=!0,ee(we)}})}get settled(){return this.#e}}a.PromiseCapability=Ze;let ft=null,qe=null;function Ln(ye){return ft||(ft=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qe=new Map([["","t"]])),ye.replaceAll(ft,(ie,ee,we)=>ee?ee.normalize("NFKC"):qe.get(we))}function Qn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ye=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ye);else for(let ie=0;ie<32;ie++)ye[ie]=Math.floor(Math.random()*255);return Q(ye)}const gn="pdfjs_internal_id_";a.AnnotationPrefix=gn}),((h,a,n)=>{var i=n(3),u=n(4),f=n(69),S=n(70),x="WebAssembly",M=u[x],d=Error("e",{cause:7}).cause!==7,o=function(v,A){var l={};l[v]=S(v,A,d),i({global:!0,constructor:!0,arity:1,forced:d},l)},c=function(v,A){if(M&&M[v]){var l={};l[v]=S(x+"."+v,A,d),i({target:x,stat:!0,constructor:!0,arity:1,forced:d},l)}};o("Error",function(v){return function(l){return f(v,this,arguments)}}),o("EvalError",function(v){return function(l){return f(v,this,arguments)}}),o("RangeError",function(v){return function(l){return f(v,this,arguments)}}),o("ReferenceError",function(v){return function(l){return f(v,this,arguments)}}),o("SyntaxError",function(v){return function(l){return f(v,this,arguments)}}),o("TypeError",function(v){return function(l){return f(v,this,arguments)}}),o("URIError",function(v){return function(l){return f(v,this,arguments)}}),c("CompileError",function(v){return function(l){return f(v,this,arguments)}}),c("LinkError",function(v){return function(l){return f(v,this,arguments)}}),c("RuntimeError",function(v){return function(l){return f(v,this,arguments)}})}),((h,a,n)=>{var i=n(4),u=n(5).f,f=n(44),S=n(48),x=n(38),M=n(56),d=n(68);h.exports=function(o,c){var v=o.target,A=o.global,l=o.stat,p,y,m,P,N,L;if(A?y=i:l?y=i[v]||x(v,{}):y=(i[v]||{}).prototype,y)for(m in c){if(N=c[m],o.dontCallGetSet?(L=u(y,m),P=L&&L.value):P=y[m],p=d(A?m:v+(l?".":"#")+m,o.forced),!p&&P!==void 0){if(typeof N==typeof P)continue;M(N,P)}(o.sham||P&&P.sham)&&f(N,"sham",!0),S(y,m,N,o)}}}),(function(h){var a=function(n){return n&&n.Math===Math&&n};h.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||this||Function("return this")()}),((h,a,n)=>{var i=n(6),u=n(8),f=n(10),S=n(11),x=n(12),M=n(18),d=n(39),o=n(42),c=Object.getOwnPropertyDescriptor;a.f=i?c:function(A,l){if(A=x(A),l=M(l),o)try{return c(A,l)}catch{}if(d(A,l))return S(!u(f.f,A,l),A[l])}}),((h,a,n)=>{var i=n(7);h.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),(h=>{h.exports=function(a){try{return!!a()}catch{return!0}}}),((h,a,n)=>{var i=n(9),u=Function.prototype.call;h.exports=i?u.bind(u):function(){return u.apply(u,arguments)}}),((h,a,n)=>{var i=n(7);h.exports=!i(function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")})}),((h,a)=>{var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,u=i&&!n.call({1:2},1);a.f=u?function(S){var x=i(this,S);return!!x&&x.enumerable}:n}),(h=>{h.exports=function(a,n){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:n}}}),((h,a,n)=>{var i=n(13),u=n(16);h.exports=function(f){return i(u(f))}}),((h,a,n)=>{var i=n(14),u=n(7),f=n(15),S=Object,x=i("".split);h.exports=u(function(){return!S("z").propertyIsEnumerable(0)})?function(M){return f(M)==="String"?x(M,""):S(M)}:S}),((h,a,n)=>{var i=n(9),u=Function.prototype,f=u.call,S=i&&u.bind.bind(f,f);h.exports=i?S:function(x){return function(){return f.apply(x,arguments)}}}),((h,a,n)=>{var i=n(14),u=i({}.toString),f=i("".slice);h.exports=function(S){return f(u(S),8,-1)}}),((h,a,n)=>{var i=n(17),u=TypeError;h.exports=function(f){if(i(f))throw u("Can't call method on "+f);return f}}),(h=>{h.exports=function(a){return a==null}}),((h,a,n)=>{var i=n(19),u=n(23);h.exports=function(f){var S=i(f,"string");return u(S)?S:S+""}}),((h,a,n)=>{var i=n(8),u=n(20),f=n(23),S=n(30),x=n(33),M=n(34),d=TypeError,o=M("toPrimitive");h.exports=function(c,v){if(!u(c)||f(c))return c;var A=S(c,o),l;if(A){if(v===void 0&&(v="default"),l=i(A,c,v),!u(l)||f(l))return l;throw d("Can't convert object to primitive value")}return v===void 0&&(v="number"),x(c,v)}}),((h,a,n)=>{var i=n(21),u=n(22),f=u.all;h.exports=u.IS_HTMLDDA?function(S){return typeof S=="object"?S!==null:i(S)||S===f}:function(S){return typeof S=="object"?S!==null:i(S)}}),((h,a,n)=>{var i=n(22),u=i.all;h.exports=i.IS_HTMLDDA?function(f){return typeof f=="function"||f===u}:function(f){return typeof f=="function"}}),(h=>{var a=typeof document=="object"&&document.all,n=typeof a>"u"&&a!==void 0;h.exports={all:a,IS_HTMLDDA:n}}),((h,a,n)=>{var i=n(24),u=n(21),f=n(25),S=n(26),x=Object;h.exports=S?function(M){return typeof M=="symbol"}:function(M){var d=i("Symbol");return u(d)&&f(d.prototype,x(M))}}),((h,a,n)=>{var i=n(4),u=n(21),f=function(S){return u(S)?S:void 0};h.exports=function(S,x){return arguments.length<2?f(i[S]):i[S]&&i[S][x]}}),((h,a,n)=>{var i=n(14);h.exports=i({}.isPrototypeOf)}),((h,a,n)=>{var i=n(27);h.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),((h,a,n)=>{var i=n(28),u=n(7),f=n(4),S=f.String;h.exports=!!Object.getOwnPropertySymbols&&!u(function(){var x=Symbol("symbol detection");return!S(x)||!(Object(x)instanceof Symbol)||!Symbol.sham&&i&&i<41})}),((h,a,n)=>{var i=n(4),u=n(29),f=i.process,S=i.Deno,x=f&&f.versions||S&&S.version,M=x&&x.v8,d,o;M&&(d=M.split("."),o=d[0]>0&&d[0]<4?1:+(d[0]+d[1])),!o&&u&&(d=u.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=u.match(/Chrome\/(\d+)/),d&&(o=+d[1]))),h.exports=o}),(h=>{h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""}),((h,a,n)=>{var i=n(31),u=n(17);h.exports=function(f,S){var x=f[S];return u(x)?void 0:i(x)}}),((h,a,n)=>{var i=n(21),u=n(32),f=TypeError;h.exports=function(S){if(i(S))return S;throw f(u(S)+" is not a function")}}),(h=>{var a=String;h.exports=function(n){try{return a(n)}catch{return"Object"}}}),((h,a,n)=>{var i=n(8),u=n(21),f=n(20),S=TypeError;h.exports=function(x,M){var d,o;if(M==="string"&&u(d=x.toString)&&!f(o=i(d,x))||u(d=x.valueOf)&&!f(o=i(d,x))||M!=="string"&&u(d=x.toString)&&!f(o=i(d,x)))return o;throw S("Can't convert object to primitive value")}}),((h,a,n)=>{var i=n(4),u=n(35),f=n(39),S=n(41),x=n(27),M=n(26),d=i.Symbol,o=u("wks"),c=M?d.for||d:d&&d.withoutSetter||S;h.exports=function(v){return f(o,v)||(o[v]=x&&f(d,v)?d[v]:c("Symbol."+v)),o[v]}}),((h,a,n)=>{var i=n(36),u=n(37);(h.exports=function(f,S){return u[f]||(u[f]=S!==void 0?S:{})})("versions",[]).push({version:"3.32.2",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})}),(h=>{h.exports=!1}),((h,a,n)=>{var i=n(4),u=n(38),f="__core-js_shared__",S=i[f]||u(f,{});h.exports=S}),((h,a,n)=>{var i=n(4),u=Object.defineProperty;h.exports=function(f,S){try{u(i,f,{value:S,configurable:!0,writable:!0})}catch{i[f]=S}return S}}),((h,a,n)=>{var i=n(14),u=n(40),f=i({}.hasOwnProperty);h.exports=Object.hasOwn||function(x,M){return f(u(x),M)}}),((h,a,n)=>{var i=n(16),u=Object;h.exports=function(f){return u(i(f))}}),((h,a,n)=>{var i=n(14),u=0,f=Math.random(),S=i(1 .toString);h.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+S(++u+f,36)}}),((h,a,n)=>{var i=n(6),u=n(7),f=n(43);h.exports=!i&&!u(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),((h,a,n)=>{var i=n(4),u=n(20),f=i.document,S=u(f)&&u(f.createElement);h.exports=function(x){return S?f.createElement(x):{}}}),((h,a,n)=>{var i=n(6),u=n(45),f=n(11);h.exports=i?function(S,x,M){return u.f(S,x,f(1,M))}:function(S,x,M){return S[x]=M,S}}),((h,a,n)=>{var i=n(6),u=n(42),f=n(46),S=n(47),x=n(18),M=TypeError,d=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c="enumerable",v="configurable",A="writable";a.f=i?f?function(p,y,m){if(S(p),y=x(y),S(m),typeof p=="function"&&y==="prototype"&&"value"in m&&A in m&&!m[A]){var P=o(p,y);P&&P[A]&&(p[y]=m.value,m={configurable:v in m?m[v]:P[v],enumerable:c in m?m[c]:P[c],writable:!1})}return d(p,y,m)}:d:function(p,y,m){if(S(p),y=x(y),S(m),u)try{return d(p,y,m)}catch{}if("get"in m||"set"in m)throw M("Accessors not supported");return"value"in m&&(p[y]=m.value),p}}),((h,a,n)=>{var i=n(6),u=n(7);h.exports=i&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),((h,a,n)=>{var i=n(20),u=String,f=TypeError;h.exports=function(S){if(i(S))return S;throw f(u(S)+" is not an object")}}),((h,a,n)=>{var i=n(21),u=n(45),f=n(49),S=n(38);h.exports=function(x,M,d,o){o||(o={});var c=o.enumerable,v=o.name!==void 0?o.name:M;if(i(d)&&f(d,v,o),o.global)c?x[M]=d:S(M,d);else{try{o.unsafe?x[M]&&(c=!0):delete x[M]}catch{}c?x[M]=d:u.f(x,M,{value:d,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return x}}),((h,a,n)=>{var i=n(14),u=n(7),f=n(21),S=n(39),x=n(6),M=n(50).CONFIGURABLE,d=n(51),o=n(52),c=o.enforce,v=o.get,A=String,l=Object.defineProperty,p=i("".slice),y=i("".replace),m=i([].join),P=x&&!u(function(){return l(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),L=h.exports=function(w,F,z){p(A(F),0,7)==="Symbol("&&(F="["+y(A(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(F="get "+F),z&&z.setter&&(F="set "+F),(!S(w,"name")||M&&w.name!==F)&&(x?l(w,"name",{value:F,configurable:!0}):w.name=F),P&&z&&S(z,"arity")&&w.length!==z.arity&&l(w,"length",{value:z.arity});try{z&&S(z,"constructor")&&z.constructor?x&&l(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var V=c(w);return S(V,"source")||(V.source=m(N,typeof F=="string"?F:"")),w};Function.prototype.toString=L(function(){return f(this)&&v(this).source||d(this)},"toString")}),((h,a,n)=>{var i=n(6),u=n(39),f=Function.prototype,S=i&&Object.getOwnPropertyDescriptor,x=u(f,"name"),M=x&&(function(){}).name==="something",d=x&&(!i||i&&S(f,"name").configurable);h.exports={EXISTS:x,PROPER:M,CONFIGURABLE:d}}),((h,a,n)=>{var i=n(14),u=n(21),f=n(37),S=i(Function.toString);u(f.inspectSource)||(f.inspectSource=function(x){return S(x)}),h.exports=f.inspectSource}),((h,a,n)=>{var i=n(53),u=n(4),f=n(20),S=n(44),x=n(39),M=n(37),d=n(54),o=n(55),c="Object already initialized",v=u.TypeError,A=u.WeakMap,l,p,y,m=function(w){return y(w)?p(w):l(w,{})},P=function(w){return function(F){var z;if(!f(F)||(z=p(F)).type!==w)throw v("Incompatible receiver, "+w+" required");return z}};if(i||M.state){var N=M.state||(M.state=new A);N.get=N.get,N.has=N.has,N.set=N.set,l=function(w,F){if(N.has(w))throw v(c);return F.facade=w,N.set(w,F),F},p=function(w){return N.get(w)||{}},y=function(w){return N.has(w)}}else{var L=d("state");o[L]=!0,l=function(w,F){if(x(w,L))throw v(c);return F.facade=w,S(w,L,F),F},p=function(w){return x(w,L)?w[L]:{}},y=function(w){return x(w,L)}}h.exports={set:l,get:p,has:y,enforce:m,getterFor:P}}),((h,a,n)=>{var i=n(4),u=n(21),f=i.WeakMap;h.exports=u(f)&&/native code/.test(String(f))}),((h,a,n)=>{var i=n(35),u=n(41),f=i("keys");h.exports=function(S){return f[S]||(f[S]=u(S))}}),(h=>{h.exports={}}),((h,a,n)=>{var i=n(39),u=n(57),f=n(5),S=n(45);h.exports=function(x,M,d){for(var o=u(M),c=S.f,v=f.f,A=0;A<o.length;A++){var l=o[A];!i(x,l)&&!(d&&i(d,l))&&c(x,l,v(M,l))}}}),((h,a,n)=>{var i=n(24),u=n(14),f=n(58),S=n(67),x=n(47),M=u([].concat);h.exports=i("Reflect","ownKeys")||function(o){var c=f.f(x(o)),v=S.f;return v?M(c,v(o)):c}}),((h,a,n)=>{var i=n(59),u=n(66),f=u.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(x){return i(x,f)}}),((h,a,n)=>{var i=n(14),u=n(39),f=n(12),S=n(60).indexOf,x=n(55),M=i([].push);h.exports=function(d,o){var c=f(d),v=0,A=[],l;for(l in c)!u(x,l)&&u(c,l)&&M(A,l);for(;o.length>v;)u(c,l=o[v++])&&(~S(A,l)||M(A,l));return A}}),((h,a,n)=>{var i=n(12),u=n(61),f=n(64),S=function(x){return function(M,d,o){var c=i(M),v=f(c),A=u(o,v),l;if(x&&d!==d){for(;v>A;)if(l=c[A++],l!==l)return!0}else for(;v>A;A++)if((x||A in c)&&c[A]===d)return x||A||0;return!x&&-1}};h.exports={includes:S(!0),indexOf:S(!1)}}),((h,a,n)=>{var i=n(62),u=Math.max,f=Math.min;h.exports=function(S,x){var M=i(S);return M<0?u(M+x,0):f(M,x)}}),((h,a,n)=>{var i=n(63);h.exports=function(u){var f=+u;return f!==f||f===0?0:i(f)}}),(h=>{var a=Math.ceil,n=Math.floor;h.exports=Math.trunc||function(u){var f=+u;return(f>0?n:a)(f)}}),((h,a,n)=>{var i=n(65);h.exports=function(u){return i(u.length)}}),((h,a,n)=>{var i=n(62),u=Math.min;h.exports=function(f){return f>0?u(i(f),9007199254740991):0}}),(h=>{h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),((h,a)=>{a.f=Object.getOwnPropertySymbols}),((h,a,n)=>{var i=n(7),u=n(21),f=/#|\.prototype\./,S=function(c,v){var A=M[x(c)];return A===o?!0:A===d?!1:u(v)?i(v):!!v},x=S.normalize=function(c){return String(c).replace(f,".").toLowerCase()},M=S.data={},d=S.NATIVE="N",o=S.POLYFILL="P";h.exports=S}),((h,a,n)=>{var i=n(9),u=Function.prototype,f=u.apply,S=u.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(i?S.bind(f):function(){return S.apply(f,arguments)})}),((h,a,n)=>{var i=n(24),u=n(39),f=n(44),S=n(25),x=n(71),M=n(56),d=n(74),o=n(75),c=n(76),v=n(80),A=n(81),l=n(6),p=n(36);h.exports=function(y,m,P,N){var L="stackTraceLimit",w=N?2:1,F=y.split("."),z=F[F.length-1],V=i.apply(null,F);if(V){var $=V.prototype;if(!p&&u($,"cause")&&delete $.cause,!P)return V;var j=i("Error"),J=m(function(he,le){var de=c(N?le:he,void 0),fe=N?new V(he):new V;return de!==void 0&&f(fe,"message",de),A(fe,J,fe.stack,2),this&&S($,this)&&o(fe,this,J),arguments.length>w&&v(fe,arguments[w]),fe});if(J.prototype=$,z!=="Error"?x?x(J,j):M(J,j,{name:!0}):l&&L in V&&(d(J,V,L),d(J,V,"prepareStackTrace")),M(J,V),!p)try{$.name!==z&&f($,"name",z),$.constructor=J}catch{}return J}}}),((h,a,n)=>{var i=n(72),u=n(47),f=n(73);h.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var S=!1,x={},M;try{M=i(Object.prototype,"__proto__","set"),M(x,[]),S=x instanceof Array}catch{}return function(o,c){return u(o),f(c),S?M(o,c):o.__proto__=c,o}})():void 0)}),((h,a,n)=>{var i=n(14),u=n(31);h.exports=function(f,S,x){try{return i(u(Object.getOwnPropertyDescriptor(f,S)[x]))}catch{}}}),((h,a,n)=>{var i=n(21),u=String,f=TypeError;h.exports=function(S){if(typeof S=="object"||i(S))return S;throw f("Can't set "+u(S)+" as a prototype")}}),((h,a,n)=>{var i=n(45).f;h.exports=function(u,f,S){S in u||i(u,S,{configurable:!0,get:function(){return f[S]},set:function(x){f[S]=x}})}}),((h,a,n)=>{var i=n(21),u=n(20),f=n(71);h.exports=function(S,x,M){var d,o;return f&&i(d=x.constructor)&&d!==M&&u(o=d.prototype)&&o!==M.prototype&&f(S,o),S}}),((h,a,n)=>{var i=n(77);h.exports=function(u,f){return u===void 0?arguments.length<2?"":f:i(u)}}),((h,a,n)=>{var i=n(78),u=String;h.exports=function(f){if(i(f)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(f)}}),((h,a,n)=>{var i=n(79),u=n(21),f=n(15),S=n(34),x=S("toStringTag"),M=Object,d=f((function(){return arguments})())==="Arguments",o=function(c,v){try{return c[v]}catch{}};h.exports=i?f:function(c){var v,A,l;return c===void 0?"Undefined":c===null?"Null":typeof(A=o(v=M(c),x))=="string"?A:d?f(v):(l=f(v))==="Object"&&u(v.callee)?"Arguments":l}}),((h,a,n)=>{var i=n(34),u=i("toStringTag"),f={};f[u]="z",h.exports=String(f)==="[object z]"}),((h,a,n)=>{var i=n(20),u=n(44);h.exports=function(f,S){i(S)&&"cause"in S&&u(f,"cause",S.cause)}}),((h,a,n)=>{var i=n(44),u=n(82),f=n(83),S=Error.captureStackTrace;h.exports=function(x,M,d,o){f&&(S?S(x,M):i(x,"stack",u(d,o)))}}),((h,a,n)=>{var i=n(14),u=Error,f=i("".replace),S=(function(d){return String(u(d).stack)})("zxcasd"),x=/\n\s*at [^:]*:[^\n]*/,M=x.test(S);h.exports=function(d,o){if(M&&typeof d=="string"&&!u.prepareStackTrace)for(;o--;)d=f(d,x,"");return d}}),((h,a,n)=>{var i=n(7),u=n(11);h.exports=!i(function(){var f=Error("a");return"stack"in f?(Object.defineProperty(f,"stack",u(1,7)),f.stack!==7):!0})}),((h,a,n)=>{var i=n(48),u=n(14),f=n(77),S=n(85),x=URLSearchParams,M=x.prototype,d=u(M.append),o=u(M.delete),c=u(M.forEach),v=u([].push),A=new x("a=1&a=2&b=3");A.delete("a",1),A.delete("b",void 0),A+""!="a=2"&&i(M,"delete",function(l){var p=arguments.length,y=p<2?void 0:arguments[1];if(p&&y===void 0)return o(this,l);var m=[];c(this,function($,j){v(m,{key:j,value:$})}),S(p,1);for(var P=f(l),N=f(y),L=0,w=0,F=!1,z=m.length,V;L<z;)V=m[L++],F||V.key===P?(F=!0,o(this,V.key)):w++;for(;w<z;)V=m[w++],V.key===P&&V.value===N||d(this,V.key,V.value)},{enumerable:!0,unsafe:!0})}),(h=>{var a=TypeError;h.exports=function(n,i){if(n<i)throw a("Not enough arguments");return n}}),((h,a,n)=>{var i=n(48),u=n(14),f=n(77),S=n(85),x=URLSearchParams,M=x.prototype,d=u(M.getAll),o=u(M.has),c=new x("a=1");(c.has("a",2)||!c.has("a",void 0))&&i(M,"has",function(A){var l=arguments.length,p=l<2?void 0:arguments[1];if(l&&p===void 0)return o(this,A);var y=d(this,A);S(l,1);for(var m=f(p),P=0;P<y.length;)if(y[P++]===m)return!0;return!1},{enumerable:!0,unsafe:!0})}),((h,a,n)=>{var i=n(6),u=n(14),f=n(88),S=URLSearchParams.prototype,x=u(S.forEach);i&&!("size"in S)&&f(S,"size",{get:function(){var d=0;return x(this,function(){d++}),d},configurable:!0,enumerable:!0})}),((h,a,n)=>{var i=n(49),u=n(45);h.exports=function(f,S,x){return x.get&&i(x.get,S,{getter:!0}),x.set&&i(x.set,S,{setter:!0}),u.f(f,S,x)}}),((h,a,n)=>{var i=n(3),u=n(40),f=n(64),S=n(90),x=n(92),M=n(7),d=M(function(){return[].push.call({length:4294967296},1)!==4294967297}),o=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(v){return v instanceof TypeError}},c=d||!o();i({target:"Array",proto:!0,arity:1,forced:c},{push:function(A){var l=u(this),p=f(l),y=arguments.length;x(p+y);for(var m=0;m<y;m++)l[p]=arguments[m],p++;return S(l,p),p}})}),((h,a,n)=>{var i=n(6),u=n(91),f=TypeError,S=Object.getOwnPropertyDescriptor,x=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(M){return M instanceof TypeError}})();h.exports=x?function(M,d){if(u(M)&&!S(M,"length").writable)throw f("Cannot set read only .length");return M.length=d}:function(M,d){return M.length=d}}),((h,a,n)=>{var i=n(15);h.exports=Array.isArray||function(f){return i(f)==="Array"}}),(h=>{var a=TypeError,n=9007199254740991;h.exports=function(i){if(i>n)throw a("Maximum allowed index exceeded");return i}}),((h,a,n)=>{var i=n(94),u=n(98).findLast,f=i.aTypedArray,S=i.exportTypedArrayMethod;S("findLast",function(M){return u(f(this),M,arguments.length>1?arguments[1]:void 0)})}),((h,a,n)=>{var i=n(95),u=n(6),f=n(4),S=n(21),x=n(20),M=n(39),d=n(78),o=n(32),c=n(44),v=n(48),A=n(88),l=n(25),p=n(96),y=n(71),m=n(34),P=n(41),N=n(52),L=N.enforce,w=N.get,F=f.Int8Array,z=F&&F.prototype,V=f.Uint8ClampedArray,$=V&&V.prototype,j=F&&p(F),J=z&&p(z),he=Object.prototype,le=f.TypeError,de=m("toStringTag"),fe=P("TYPED_ARRAY_TAG"),ne="TypedArrayConstructor",Y=i&&!!y&&d(f.opera)!=="Opera",I=!1,C,k,T,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},G=function(Q){if(!x(Q))return!1;var te=d(Q);return te==="DataView"||M(B,te)||M(H,te)},W=function(X){var Q=p(X);if(x(Q)){var te=w(Q);return te&&M(te,ne)?te[ne]:W(Q)}},E=function(X){if(!x(X))return!1;var Q=d(X);return M(B,Q)||M(H,Q)},R=function(X){if(E(X))return X;throw le("Target is not a typed array")},O=function(X){if(S(X)&&(!y||l(j,X)))return X;throw le(o(X)+" is not a typed array constructor")},_=function(X,Q,te,Se){if(u){if(te)for(var se in B){var ue=f[se];if(ue&&M(ue.prototype,X))try{delete ue.prototype[X]}catch{try{ue.prototype[X]=Q}catch{}}}(!J[X]||te)&&v(J,X,te?Q:Y&&z[X]||Q,Se)}},D=function(X,Q,te){var Se,se;if(u){if(y){if(te){for(Se in B)if(se=f[Se],se&&M(se,X))try{delete se[X]}catch{}}if(!j[X]||te)try{return v(j,X,te?Q:Y&&j[X]||Q)}catch{}else return}for(Se in B)se=f[Se],se&&(!se[X]||te)&&v(se,X,Q)}};for(C in B)k=f[C],T=k&&k.prototype,T?L(T)[ne]=k:Y=!1;for(C in H)k=f[C],T=k&&k.prototype,T&&(L(T)[ne]=k);if((!Y||!S(j)||j===Function.prototype)&&(j=function(){throw le("Incorrect invocation")},Y))for(C in B)f[C]&&y(f[C],j);if((!Y||!J||J===he)&&(J=j.prototype,Y))for(C in B)f[C]&&y(f[C].prototype,J);if(Y&&p($)!==J&&y($,J),u&&!M(J,de)){I=!0,A(J,de,{configurable:!0,get:function(){return x(this)?this[fe]:void 0}});for(C in B)f[C]&&c(f[C],fe,C)}h.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:I&&fe,aTypedArray:R,aTypedArrayConstructor:O,exportTypedArrayMethod:_,exportTypedArrayStaticMethod:D,getTypedArrayConstructor:W,isView:G,isTypedArray:E,TypedArray:j,TypedArrayPrototype:J}}),(h=>{h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),((h,a,n)=>{var i=n(39),u=n(21),f=n(40),S=n(54),x=n(97),M=S("IE_PROTO"),d=Object,o=d.prototype;h.exports=x?d.getPrototypeOf:function(c){var v=f(c);if(i(v,M))return v[M];var A=v.constructor;return u(A)&&v instanceof A?A.prototype:v instanceof d?o:null}}),((h,a,n)=>{var i=n(7);h.exports=!i(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})}),((h,a,n)=>{var i=n(99),u=n(13),f=n(40),S=n(64),x=function(M){var d=M===1;return function(o,c,v){for(var A=f(o),l=u(A),p=i(c,v),y=S(l),m,P;y-- >0;)if(m=l[y],P=p(m,y,A),P)switch(M){case 0:return m;case 1:return y}return d?-1:void 0}};h.exports={findLast:x(0),findLastIndex:x(1)}}),((h,a,n)=>{var i=n(100),u=n(31),f=n(9),S=i(i.bind);h.exports=function(x,M){return u(x),M===void 0?x:f?S(x,M):function(){return x.apply(M,arguments)}}}),((h,a,n)=>{var i=n(15),u=n(14);h.exports=function(f){if(i(f)==="Function")return u(f)}}),((h,a,n)=>{var i=n(94),u=n(98).findLastIndex,f=i.aTypedArray,S=i.exportTypedArrayMethod;S("findLastIndex",function(M){return u(f(this),M,arguments.length>1?arguments[1]:void 0)})}),((h,a,n)=>{var i=n(4),u=n(8),f=n(94),S=n(64),x=n(103),M=n(40),d=n(7),o=i.RangeError,c=i.Int8Array,v=c&&c.prototype,A=v&&v.set,l=f.aTypedArray,p=f.exportTypedArrayMethod,y=!d(function(){var P=new Uint8ClampedArray(2);return u(A,P,{length:1,0:3},1),P[1]!==3}),m=y&&f.NATIVE_ARRAY_BUFFER_VIEWS&&d(function(){var P=new c(2);return P.set(1),P.set("2",1),P[0]!==0||P[1]!==2});p("set",function(N){l(this);var L=x(arguments.length>1?arguments[1]:void 0,1),w=M(N);if(y)return u(A,this,w,L);var F=this.length,z=S(w),V=0;if(z+L>F)throw o("Wrong length");for(;V<z;)this[L+V]=w[V++]},!y||m)}),((h,a,n)=>{var i=n(104),u=RangeError;h.exports=function(f,S){var x=i(f);if(x%S)throw u("Wrong offset");return x}}),((h,a,n)=>{var i=n(62),u=RangeError;h.exports=function(f){var S=i(f);if(S<0)throw u("The argument can't be less than 0");return S}}),((h,a,n)=>{var i=n(106),u=n(94),f=u.aTypedArray,S=u.exportTypedArrayMethod,x=u.getTypedArrayConstructor;S("toReversed",function(){return i(f(this),x(this))})}),((h,a,n)=>{var i=n(64);h.exports=function(u,f){for(var S=i(u),x=new f(S),M=0;M<S;M++)x[M]=u[S-M-1];return x}}),((h,a,n)=>{var i=n(94),u=n(14),f=n(31),S=n(108),x=i.aTypedArray,M=i.getTypedArrayConstructor,d=i.exportTypedArrayMethod,o=u(i.TypedArrayPrototype.sort);d("toSorted",function(v){v!==void 0&&f(v);var A=x(this),l=S(M(A),A);return o(l,v)})}),((h,a,n)=>{var i=n(64);h.exports=function(u,f){for(var S=0,x=i(f),M=new u(x);x>S;)M[S]=f[S++];return M}}),((h,a,n)=>{var i=n(110),u=n(94),f=n(111),S=n(62),x=n(112),M=u.aTypedArray,d=u.getTypedArrayConstructor,o=u.exportTypedArrayMethod,c=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(v){return v===8}})();o("with",function(v,A){var l=M(this),p=S(v),y=f(l)?x(A):+A;return i(l,d(l),p,y)},!c)}),((h,a,n)=>{var i=n(64),u=n(62),f=RangeError;h.exports=function(S,x,M,d){var o=i(S),c=u(M),v=c<0?o+c:c;if(v>=o||v<0)throw f("Incorrect index");for(var A=new x(o),l=0;l<o;l++)A[l]=l===v?d:S[l];return A}}),((h,a,n)=>{var i=n(78);h.exports=function(u){var f=i(u);return f==="BigInt64Array"||f==="BigUint64Array"}}),((h,a,n)=>{var i=n(19),u=TypeError;h.exports=function(f){var S=i(f,"number");if(typeof S=="number")throw u("Can't convert number to bigint");return BigInt(S)}}),((h,a,n)=>{var i=n(6),u=n(88),f=n(114),S=ArrayBuffer.prototype;i&&!("detached"in S)&&u(S,"detached",{configurable:!0,get:function(){return f(this)}})}),((h,a,n)=>{var i=n(14),u=n(115),f=i(ArrayBuffer.prototype.slice);h.exports=function(S){if(u(S)!==0)return!1;try{return f(S,0,0),!1}catch{return!0}}}),((h,a,n)=>{var i=n(72),u=n(15),f=TypeError;h.exports=i(ArrayBuffer.prototype,"byteLength","get")||function(S){if(u(S)!=="ArrayBuffer")throw f("ArrayBuffer expected");return S.byteLength}}),((h,a,n)=>{var i=n(3),u=n(117);u&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return u(this,arguments.length?arguments[0]:void 0,!0)}})}),((h,a,n)=>{var i=n(4),u=n(14),f=n(72),S=n(118),x=n(114),M=n(115),d=n(119),o=i.TypeError,c=i.structuredClone,v=i.ArrayBuffer,A=i.DataView,l=Math.min,p=v.prototype,y=A.prototype,m=u(p.slice),P=f(p,"resizable","get"),N=f(p,"maxByteLength","get"),L=u(y.getInt8),w=u(y.setInt8);h.exports=d&&function(F,z,V){var $=M(F),j=z===void 0?$:S(z),J=!P||!P(F);if(x(F))throw o("ArrayBuffer is detached");var he=c(F,{transfer:[F]});if($===j&&(V||J))return he;if($>=j&&(!V||J))return m(he,0,j);for(var le=V&&!J&&N?{maxByteLength:N(he)}:void 0,de=new v(j,le),fe=new A(he),ne=new A(de),Y=l(j,$),I=0;I<Y;I++)w(ne,I,L(fe,I));return de}}),((h,a,n)=>{var i=n(62),u=n(65),f=RangeError;h.exports=function(S){if(S===void 0)return 0;var x=i(S),M=u(x);if(x!==M)throw f("Wrong length or index");return M}}),((h,a,n)=>{var i=n(4),u=n(7),f=n(28),S=n(120),x=n(121),M=n(122),d=i.structuredClone;h.exports=!!d&&!u(function(){if(x&&f>92||M&&f>94||S&&f>97)return!1;var o=new ArrayBuffer(8),c=d(o,{transfer:[o]});return o.byteLength!==0||c.byteLength!==8})}),((h,a,n)=>{var i=n(121),u=n(122);h.exports=!i&&!u&&typeof window=="object"&&typeof document=="object"}),(h=>{h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"}),((h,a,n)=>{var i=n(4),u=n(15);h.exports=u(i.process)==="process"}),((h,a,n)=>{var i=n(3),u=n(117);u&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return u(this,arguments.length?arguments[0]:void 0,!1)}})}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(h){if(typeof h=="string"||h instanceof URL?h={url:h}:(0,_util.isArrayBuffer)(h)&&(h={data:h}),typeof h!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!h.url&&!h.data&&!h.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:n}=a,i=h.url?getUrlProp(h.url):null,u=h.data?getDataProp(h.data):null,f=h.httpHeaders||null,S=h.withCredentials===!0,x=h.password??null,M=h.range instanceof PDFDataRangeTransport?h.range:null,d=Number.isInteger(h.rangeChunkSize)&&h.rangeChunkSize>0?h.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let o=h.worker instanceof PDFWorker?h.worker:null;const c=h.verbosity,v=typeof h.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(h.docBaseUrl)?h.docBaseUrl:null,A=typeof h.cMapUrl=="string"?h.cMapUrl:null,l=h.cMapPacked!==!1,p=h.CMapReaderFactory||DefaultCMapReaderFactory,y=typeof h.standardFontDataUrl=="string"?h.standardFontDataUrl:null,m=h.StandardFontDataFactory||DefaultStandardFontDataFactory,P=h.stopAtErrors!==!0,N=Number.isInteger(h.maxImageSize)&&h.maxImageSize>-1?h.maxImageSize:-1,L=h.isEvalSupported!==!1,w=typeof h.isOffscreenCanvasSupported=="boolean"?h.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(h.canvasMaxAreaInBytes)?h.canvasMaxAreaInBytes:-1,z=typeof h.disableFontFace=="boolean"?h.disableFontFace:_util.isNodeJS,V=h.fontExtraProperties===!0,$=h.enableXfa===!0,j=h.ownerDocument||globalThis.document,J=h.disableRange===!0,he=h.disableStream===!0,le=h.disableAutoFetch===!0,de=h.pdfBug===!0,fe=M?M.length:h.length??NaN,ne=typeof h.useSystemFonts=="boolean"?h.useSystemFonts:!_util.isNodeJS&&!z,Y=typeof h.useWorkerFetch=="boolean"?h.useWorkerFetch:p===_display_utils.DOMCMapReaderFactory&&m===_display_utils.DOMStandardFontDataFactory&&A&&y&&(0,_display_utils.isValidFetchUrl)(A,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI),I=h.canvasFactory||new DefaultCanvasFactory({ownerDocument:j}),C=h.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:j}),k=null;(0,_util.setVerbosityLevel)(c);const T={canvasFactory:I,filterFactory:C};if(Y||(T.cMapReaderFactory=new p({baseUrl:A,isCompressed:l}),T.standardFontDataFactory=new m({baseUrl:y})),!o){const G={verbosity:c,port:_worker_options.GlobalWorkerOptions.workerPort};o=G.port?PDFWorker.fromPort(G):new PDFWorker(G),a._worker=o}const B={docId:n,apiVersion:"3.11.174",data:u,password:x,disableAutoFetch:le,rangeChunkSize:d,length:fe,docBaseUrl:v,enableXfa:$,evaluatorOptions:{maxImageSize:N,disableFontFace:z,ignoreErrors:P,isEvalSupported:L,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:F,fontExtraProperties:V,useSystemFonts:ne,cMapUrl:Y?A:null,standardFontDataUrl:Y?y:null}},H={ignoreErrors:P,isEvalSupported:L,disableFontFace:z,fontExtraProperties:V,enableXfa:$,ownerDocument:j,disableAutoFetch:le,pdfBug:de,styleElement:k};return o.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(o,B),W=new Promise(function(E){let R;M?R=new _transport_stream.PDFDataTransportStream({length:fe,initialData:M.initialData,progressiveDone:M.progressiveDone,contentDispositionFilename:M.contentDispositionFilename,disableRange:J,disableStream:he},M):u||(R=(_=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_):(0,_display_utils.isValidFetchUrl)(_.url)?new _displayFetch_stream.PDFFetchStream(_):new _displayNetwork.PDFNetworkStream(_))({url:i,length:fe,httpHeaders:f,withCredentials:S,rangeChunkSize:d,disableRange:J,disableStream:he})),E(R)});return Promise.all([G,W]).then(function(E){let[R,O]=E;if(a.destroyed)throw new Error("Loading aborted");const _=new _message_handler.MessageHandler(n,R,o.port),D=new WorkerTransport(_,a,O,H,T);a._transport=D,_.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(h,a){if(h.destroyed)throw new Error("Worker was destroyed");const n=await h.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(h.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(h){if(h instanceof URL)return h.href;try{return new URL(h,window.location).href}catch{if(_util.isNodeJS&&typeof h=="string")return h}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(h){if(_util.isNodeJS&&typeof Buffer<"u"&&h instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength)return h;if(typeof h=="string")return(0,_util.stringToBytes)(h);if(typeof h=="object"&&!isNaN(h?.length)||(0,_util.isArrayBuffer)(h))return new Uint8Array(h);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(a){throw this._worker?.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=a,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=u,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,n){for(const i of this._rangeListeners)i(a,n)}onDataProgress(a,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,n)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,n){this._pdfInfo=a,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(i=>{if(!i)return i;const u=[];for(const f in i)u.push(...i[f]);return u}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(a,n,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=a,this._pageInfo=n,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:a,rotation:n=this.rotate,offsetX:i=0,offsetY:u=0,dontFlip:f=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:n,offsetX:i,offsetY:u,dontFlip:f})}getAnnotations(){let{intent:a="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(a){let{canvasContext:n,viewport:i,intent:u="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:S=null,background:x=null,optionalContentConfigPromise:M=null,annotationCanvasMap:d=null,pageColors:o=null,printAnnotationStorage:c=null}=a;this._stats?.time("Overall");const v=this._transport.getRenderingIntent(u,f,c);this.#t=!1,this.#r(),M||(M=this._transport.getOptionalContentConfig());let A=this._intentStates.get(v.cacheKey);A||(A=Object.create(null),this._intentStates.set(v.cacheKey,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const l=!!(v.renderingIntent&_util.RenderingIntentFlag.PRINT);A.displayReadyCapability||(A.displayReadyCapability=new _util.PromiseCapability,A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const p=P=>{A.renderTasks.delete(y),(this._maybeCleanupAfterRender||l)&&(this.#t=!0),this.#n(!l),P?(y.capability.reject(P),this._abortOperatorList({intentState:A,reason:P instanceof Error?P:new Error(P)})):y.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},y=new InternalRenderTask({callback:p,params:{canvasContext:n,viewport:i,transform:S,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!l,pdfBug:this._pdfBug,pageColors:o});(A.renderTasks||=new Set).add(y);const m=y.task;return Promise.all([A.displayReadyCapability.promise,M]).then(P=>{let[N,L]=P;if(this.destroyed){p();return}this._stats?.time("Rendering"),y.initializeGraphics({transparency:N,optionalContentConfig:L}),y.operatorListChanged()}).catch(p),m}getOperatorList(){let{intent:a="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function u(){S.operatorList.lastChunk&&(S.opListReadCapability.resolve(S.operatorList),S.renderTasks.delete(x))}const f=this._transport.getRenderingIntent(a,n,i,!0);let S=this._intentStates.get(f.cacheKey);S||(S=Object.create(null),this._intentStates.set(f.cacheKey,S));let x;return S.opListReadCapability||(x=Object.create(null),x.operatorListChanged=u,S.opListReadCapability=new _util.PromiseCapability,(S.renderTasks||=new Set).add(x),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f)),S.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:a=!1,disableNormalization:n=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:a===!0,disableNormalization:n===!0},{highWaterMark:100,size(u){return u.items.length}})}getTextContent(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const n=this.streamTextContent(a);return new Promise(function(i,u){function f(){S.read().then(function(M){let{value:d,done:o}=M;if(o){i(x);return}Object.assign(x.styles,d.styles),x.items.push(...d.items),f()},u)}const S=n.getReader(),x={items:[],styles:Object.create(null)};f()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)a.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(a)}cleanup(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#t=!0;const n=this.#n(!1);return a&&n&&(this._stats&&=new _display_utils.StatTimer),n}#n(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#r(),!this.#t||this.destroyed)return!1;if(a)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(a,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(a))}_renderPageChunk(a,n){for(let i=0,u=a.length;i<u;i++)n.operatorList.fnArray.push(a.fnArray[i]),n.operatorList.argsArray.push(a.argsArray[i]);n.operatorList.lastChunk=a.lastChunk,n.operatorList.separateAnnots=a.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();a.lastChunk&&this.#n(!0)}_pumpOperatorList(a){let{renderingIntent:n,cacheKey:i,annotationStorageSerializable:u}=a;const{map:f,transfers:S}=u,M=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:i,annotationStorage:f},S).getReader(),d=this._intentStates.get(i);d.streamReader=M;const o=()=>{M.read().then(c=>{let{value:v,done:A}=c;if(A){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,d),o())},c=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#n(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(c);else if(d.opListReadCapability)d.opListReadCapability.reject(c);else throw c}})};o()}_abortOperatorList(a){let{intentState:n,reason:i,force:u=!1}=a;if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!u){if(n.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){let f=RENDERING_CANCELLED_TIMEOUT;i.extraDelay>0&&i.extraDelay<1e3&&(f+=i.extraDelay),n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:i,force:!0})},f);return}}if(n.streamReader.cancel(new _util.AbortException(i.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[f,S]of this._intentStates)if(S===n){this._intentStates.delete(f);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(a,n){const i={data:structuredClone(a,null)};this.#t.then(()=>{for(const u of this.#e)u.call(this,i)})}addEventListener(a,n){this.#e.add(n)}removeEventListener(a,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const h=document?.currentScript?.src;h&&(PDFWorkerUtil.fallbackWorkerSrc=h.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(h,a){let n;try{if(n=new URL(h),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(a,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(h){const a=`importScripts("${h}");`;return URL.createObjectURL(new Blob([a]))}}class PDFWorker{static#workerPorts;constructor(){let{name:h=null,port:a=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=h,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,a){if(PDFWorker.#workerPorts?.has(a))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(h){this._port=h,this._messageHandler=new _message_handler.MessageHandler("main","worker",h),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:h}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,h)||(h=PDFWorkerUtil.createCDNWrapper(new URL(h,window.location).href));const a=new Worker(h),n=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",u),n.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},u=()=>{this._webWorker||i()};a.addEventListener("error",u),n.on("test",S=>{if(a.removeEventListener("error",u),this.destroyed){i();return}S?(this._messageHandler=n,this._port=a,this._webWorker=a,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),a.terminate())}),n.on("ready",S=>{if(a.removeEventListener("error",u),this.destroyed){i();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const S=new Uint8Array;n.send("test",S,[S.buffer])};f();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(h=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const n=`fake${PDFWorkerUtil.fakeWorkerId++}`,i=new _message_handler.MessageHandler(n+"_worker",n,a);h.setup(i,a);const u=new _message_handler.MessageHandler(n,n+"_worker",a);this._messageHandler=u,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})}).catch(h=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${h.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(h){if(!h?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const a=this.#workerPorts?.get(h.port);if(a){if(a._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return a}return new PDFWorker(h)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(a,n,i,u,f){this.messageHandler=a,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:u.ownerDocument,styleElement:u.styleElement}),this._params=u,this.canvasFactory=f.canvasFactory,this.filterFactory=f.filterFactory,this.cMapReaderFactory=f.cMapReaderFactory,this.standardFontDataFactory=f.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const i=this.#e.get(a);if(i)return i;const u=this.messageHandler.sendWithPromise(a,n);return this.#e.set(a,u),u}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=_util.RenderingIntentFlag.DISPLAY,S=_annotation_storage.SerializableEmpty;switch(a){case"any":f=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":f=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(n){case _util.AnnotationMode.DISABLE:f+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:f+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:f+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,S=(f&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return u&&(f+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:f,cacheKey:`${f}_${S.hash}`,annotationStorageSerializable:S}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of this.#t.values())a.push(i._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return a.push(n),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:n}=this;a.on("GetReader",(i,u)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},u.onPull=()=>{this._fullReader.read().then(function(f){let{value:S,done:x}=f;if(x){u.close();return}(0,_util.assert)(S instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(S),1,[S])}).catch(f=>{u.error(f)})},u.onCancel=f=>{this._fullReader.cancel(f),u.ready.catch(S=>{if(!this.destroyed)throw S})}}),a.on("ReaderHeadersReady",i=>{const u=new _util.PromiseCapability,f=this._fullReader;return f.headersReady.then(()=>{(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),f.onProgress=S=>{n.onProgress?.({loaded:S.loaded,total:S.total})}),u.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},u.reject),u.promise}),a.on("GetRangeReader",(i,u)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(i.begin,i.end);if(!f){u.close();return}u.onPull=()=>{f.read().then(function(S){let{value:x,done:M}=S;if(M){u.close();return}(0,_util.assert)(x instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(x),1,[x])}).catch(S=>{u.error(S)})},u.onCancel=S=>{f.cancel(S),u.ready.catch(x=>{if(!this.destroyed)throw x})}}),a.on("GetDoc",i=>{let{pdfInfo:u}=i;this._numPages=u.numPages,this._htmlForXfa=u.htmlForXfa,delete u.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(u,this))}),a.on("DocException",function(i){let u;switch(i.name){case"PasswordException":u=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":u=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":u=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":u=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":u=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(u)}),a.on("PasswordRequest",i=>{if(this.#r=new _util.PromiseCapability,n.onPassword){const u=f=>{f instanceof Error?this.#r.reject(f):this.#r.resolve({password:f})};try{n.onPassword(u,i.code)}catch(f){this.#r.reject(f)}}else this.#r.reject(new _util.PasswordException(i.message,i.code));return this.#r.promise}),a.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",i=>{let[u,f,S]=i;if(!this.destroyed&&!this.commonObjs.has(u))switch(f){case"Font":const x=this._params;if("error"in S){const o=S.error;(0,_util.warn)(`Error during font loading: ${o}`),this.commonObjs.resolve(u,o);break}const M=x.pdfBug&&globalThis.FontInspector?.enabled?(o,c)=>globalThis.FontInspector.fontAdded(o,c):null,d=new _font_loader.FontFaceObject(S,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,inspectFont:M});this.fontLoader.bind(d).catch(o=>a.sendWithPromise("FontFallback",{id:u})).finally(()=>{!x.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(u,d)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(u,S);break;default:throw new Error(`Got unknown common object type ${f}`)}}),a.on("obj",i=>{let[u,f,S,x]=i;if(this.destroyed)return;const M=this.#t.get(f);if(!M.objs.has(u))switch(S){case"Image":if(M.objs.resolve(u,x),x){let d;if(x.bitmap){const{width:o,height:c}=x;d=o*c*4}else d=x.data?.length||0;d>_util.MAX_IMAGE_SIZE_TO_CACHE&&(M._maybeCleanupAfterRender=!0)}break;case"Pattern":M.objs.resolve(u,x);break;default:throw new Error(`Got unknown object type ${S}`)}}),a.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:a,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=a-1,i=this.#n.get(n);if(i)return i;const u=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const S=new PDFPageProxy(n,f,this,this._params.pdfBug);return this.#t.set(n,S),S});return this.#n.set(n,u),u}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:n})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",n=this.#e.get(a);if(n)return n;const i=this.messageHandler.sendWithPromise(a,null).then(u=>({info:u[0],metadata:u[1]?new _metadata.Metadata(u[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(a,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:a,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(a){return this.#e[a]||={capability:new _util.PromiseCapability,data:null}}get(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n){const u=this.#t(a);return u.capability.promise.then(()=>n(u.data)),null}const i=this.#e[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return this.#e[a]?.capability.settled||!1}resolve(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const i=this.#t(a);i.data=n,i.capability.resolve()}clear(){for(const a in this.#e){const{data:n}=this.#e[a];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(a){this.#e=a,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.#e.cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=this.#e.operatorList;if(!a)return!1;const{annotationCanvasMap:n}=this.#e;return a.form||a.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor(a){let{callback:n,params:i,objs:u,commonObjs:f,annotationCanvasMap:S,operatorList:x,pageIndex:M,canvasFactory:d,filterFactory:o,useRequestAnimationFrame:c=!1,pdfBug:v=!1,pageColors:A=null}=a;this.callback=n,this.params=i,this.objs=u,this.commonObjs=f,this.annotationCanvasMap=S,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=M,this.canvasFactory=d,this.filterFactory=o,this._pdfBug=v,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(a){let{transparency:n=!1,optionalContentConfig:i}=a;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:u,viewport:f,transform:S,background:x}=this.params;this.gfx=new _canvas.CanvasGraphics(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:S,viewport:f,transparency:n,background:x}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((h,a,n)=>{var i=n(3),u=n(126),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("difference")},{difference:u})}),((h,a,n)=>{var i=n(127),u=n(128),f=n(129),S=n(132),x=n(133),M=n(130),d=n(131),o=u.has,c=u.remove;h.exports=function(A){var l=i(this),p=x(A),y=f(l);return S(l)<=p.size?M(l,function(m){p.includes(m)&&c(y,m)}):d(p.getIterator(),function(m){o(l,m)&&c(y,m)}),y}}),((h,a,n)=>{var i=n(128).has;h.exports=function(u){return i(u),u}}),((h,a,n)=>{var i=n(14),u=Set.prototype;h.exports={Set,add:i(u.add),has:i(u.has),remove:i(u.delete),proto:u}}),((h,a,n)=>{var i=n(128),u=n(130),f=i.Set,S=i.add;h.exports=function(x){var M=new f;return u(x,function(d){S(M,d)}),M}}),((h,a,n)=>{var i=n(14),u=n(131),f=n(128),S=f.Set,x=f.proto,M=i(x.forEach),d=i(x.keys),o=d(new S).next;h.exports=function(c,v,A){return A?u({iterator:d(c),next:o},v):M(c,v)}}),((h,a,n)=>{var i=n(8);h.exports=function(u,f,S){for(var x=S?u:u.iterator,M=u.next,d,o;!(d=i(M,x)).done;)if(o=f(d.value),o!==void 0)return o}}),((h,a,n)=>{var i=n(72),u=n(128);h.exports=i(u.proto,"size","get")||function(f){return f.size}}),((h,a,n)=>{var i=n(31),u=n(47),f=n(8),S=n(62),x=n(134),M="Invalid size",d=RangeError,o=TypeError,c=Math.max,v=function(A,l,p,y){this.set=A,this.size=l,this.has=p,this.keys=y};v.prototype={getIterator:function(){return x(u(f(this.keys,this.set)))},includes:function(A){return f(this.has,this.set,A)}},h.exports=function(A){u(A);var l=+A.size;if(l!==l)throw o(M);var p=S(l);if(p<0)throw d(M);return new v(A,c(p,0),i(A.has),i(A.keys))}}),(h=>{h.exports=function(a){return{iterator:a,next:a.next,done:!1}}}),((h,a,n)=>{var i=n(24),u=function(f){return{size:f,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};h.exports=function(f){var S=i("Set");try{new S()[f](u(0));try{return new S()[f](u(-1)),!1}catch{return!0}}catch{return!1}}}),((h,a,n)=>{var i=n(3),u=n(7),f=n(137),S=n(135),x=!S("intersection")||u(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});i({target:"Set",proto:!0,real:!0,forced:x},{intersection:f})}),((h,a,n)=>{var i=n(127),u=n(128),f=n(132),S=n(133),x=n(130),M=n(131),d=u.Set,o=u.add,c=u.has;h.exports=function(A){var l=i(this),p=S(A),y=new d;return f(l)>p.size?M(p.getIterator(),function(m){c(l,m)&&o(y,m)}):x(l,function(m){p.includes(m)&&o(y,m)}),y}}),((h,a,n)=>{var i=n(3),u=n(139),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("isDisjointFrom")},{isDisjointFrom:u})}),((h,a,n)=>{var i=n(127),u=n(128).has,f=n(132),S=n(133),x=n(130),M=n(131),d=n(140);h.exports=function(c){var v=i(this),A=S(c);if(f(v)<=A.size)return x(v,function(p){if(A.includes(p))return!1},!0)!==!1;var l=A.getIterator();return M(l,function(p){if(u(v,p))return d(l,"normal",!1)})!==!1}}),((h,a,n)=>{var i=n(8),u=n(47),f=n(30);h.exports=function(S,x,M){var d,o;u(S);try{if(d=f(S,"return"),!d){if(x==="throw")throw M;return M}d=i(d,S)}catch(c){o=!0,d=c}if(x==="throw")throw M;if(o)throw d;return u(d),M}}),((h,a,n)=>{var i=n(3),u=n(142),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("isSubsetOf")},{isSubsetOf:u})}),((h,a,n)=>{var i=n(127),u=n(132),f=n(130),S=n(133);h.exports=function(M){var d=i(this),o=S(M);return u(d)>o.size?!1:f(d,function(c){if(!o.includes(c))return!1},!0)!==!1}}),((h,a,n)=>{var i=n(3),u=n(144),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("isSupersetOf")},{isSupersetOf:u})}),((h,a,n)=>{var i=n(127),u=n(128).has,f=n(132),S=n(133),x=n(131),M=n(140);h.exports=function(o){var c=i(this),v=S(o);if(f(c)<v.size)return!1;var A=v.getIterator();return x(A,function(l){if(!u(c,l))return M(A,"normal",!1)})!==!1}}),((h,a,n)=>{var i=n(3),u=n(146),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("symmetricDifference")},{symmetricDifference:u})}),((h,a,n)=>{var i=n(127),u=n(128),f=n(129),S=n(133),x=n(131),M=u.add,d=u.has,o=u.remove;h.exports=function(v){var A=i(this),l=S(v).getIterator(),p=f(A);return x(l,function(y){d(A,y)?o(p,y):M(p,y)}),p}}),((h,a,n)=>{var i=n(3),u=n(148),f=n(135);i({target:"Set",proto:!0,real:!0,forced:!f("union")},{union:u})}),((h,a,n)=>{var i=n(127),u=n(128).add,f=n(129),S=n(133),x=n(131);h.exports=function(d){var o=i(this),c=S(d).getIterator(),v=f(o);return x(c,function(A){u(v,A)}),v}}),((h,a,n)=>{var i=n(3),u=n(4),f=n(24),S=n(11),x=n(45).f,M=n(39),d=n(150),o=n(75),c=n(76),v=n(151),A=n(82),l=n(6),p=n(36),y="DOMException",m=f("Error"),P=f(y),N=function(){d(this,L);var ne=arguments.length,Y=c(ne<1?void 0:arguments[0]),I=c(ne<2?void 0:arguments[1],"Error"),C=new P(Y,I),k=m(Y);return k.name=y,x(C,"stack",S(1,A(k.stack,1))),o(C,this,N),C},L=N.prototype=P.prototype,w="stack"in m(y),F="stack"in new P(1,2),z=P&&l&&Object.getOwnPropertyDescriptor(u,y),V=!!z&&!(z.writable&&z.configurable),$=w&&!V&&!F;i({global:!0,constructor:!0,forced:p||$},{DOMException:$?N:P});var j=f(y),J=j.prototype;if(J.constructor!==j){p||x(J,"constructor",S(1,j));for(var he in v)if(M(v,he)){var le=v[he],de=le.s;M(j,de)||x(j,de,S(6,le.c))}}}),((h,a,n)=>{var i=n(25),u=TypeError;h.exports=function(f,S){if(i(S,f))return f;throw u("Incorrect invocation")}}),(h=>{h.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}),((h,a,n)=>{var i=n(36),u=n(3),f=n(4),S=n(24),x=n(14),M=n(7),d=n(41),o=n(21),c=n(153),v=n(17),A=n(20),l=n(23),p=n(154),y=n(47),m=n(78),P=n(39),N=n(159),L=n(44),w=n(64),F=n(85),z=n(160),V=n(162),$=n(128),j=n(83),J=n(119),he=f.Object,le=f.Array,de=f.Date,fe=f.Error,ne=f.EvalError,Y=f.RangeError,I=f.ReferenceError,C=f.SyntaxError,k=f.TypeError,T=f.URIError,B=f.PerformanceMark,H=f.WebAssembly,G=H&&H.CompileError||fe,W=H&&H.LinkError||fe,E=H&&H.RuntimeError||fe,R=S("DOMException"),O=V.Map,_=V.has,D=V.get,X=V.set,Q=$.Set,te=$.add,Se=S("Object","keys"),se=x([].push),ue=x((!0).valueOf),pe=x(1 .valueOf),ge=x("".valueOf),me=x(de.prototype.getTime),Ce=d("structuredClone"),Te="DataCloneError",Fe="Transferring",Ue=function(re){return!M(function(){var ke=new f.Set([7]),Ne=re(ke),Oe=re(he(7));return Ne===ke||!Ne.has(7)||typeof Oe!="object"||+Oe!=7})&&re},We=function(re,ke){return!M(function(){var Ne=new ke,Oe=re({a:Ne,b:Ne});return!(Oe&&Oe.a===Oe.b&&Oe.a instanceof ke&&Oe.a.stack===Ne.stack)})},Ye=function(re){return!M(function(){var ke=re(new f.AggregateError([1],Ce,{cause:3}));return ke.name!=="AggregateError"||ke.errors[0]!==1||ke.message!==Ce||ke.cause!==3})},nt=f.structuredClone,ct=i||!We(nt,fe)||!We(nt,R)||!Ye(nt),Lt=!nt&&Ue(function(re){return new B(Ce,{detail:re}).detail}),Ze=Ue(nt)||Lt,ft=function(re){throw new R("Uncloneable type: "+re,Te)},qe=function(re,ke){throw new R((ke||"Cloning")+" of "+re+" cannot be properly polyfilled in this engine",Te)},Ln=function(re,ke){return Ze||qe(ke),Ze(re)},Qn=function(){var re;try{re=new f.DataTransfer}catch{try{re=new f.ClipboardEvent("").clipboardData}catch{}}return re&&re.items&&re.files?re:null},gn=function(re,ke,Ne){if(_(ke,re))return D(ke,re);var Oe=Ne||m(re),Le,$e,xe,Ke,He,Ve;if(Oe==="SharedArrayBuffer")Ze?Le=Ze(re):Le=re;else{var rt=f.DataView;!rt&&typeof re.slice!="function"&&qe("ArrayBuffer");try{if(typeof re.slice=="function"&&!re.resizable)Le=re.slice(0);else for($e=re.byteLength,xe=("maxByteLength"in re)?{maxByteLength:re.maxByteLength}:void 0,Le=new ArrayBuffer($e,xe),Ke=new rt(re),He=new rt(Le),Ve=0;Ve<$e;Ve++)He.setUint8(Ve,Ke.getUint8(Ve))}catch{throw new R("ArrayBuffer is detached",Te)}}return X(ke,re,Le),Le},ye=function(re,ke,Ne,Oe,Le){var $e=f[ke];return A($e)||qe(ke),new $e(gn(re.buffer,Le),Ne,Oe)},ie=function(re,ke,Ne){this.object=re,this.type=ke,this.metadata=Ne},ee=function(re,ke,Ne){if(l(re)&&ft("Symbol"),!A(re))return re;if(ke){if(_(ke,re))return D(ke,re)}else ke=new O;var Oe=m(re),Le,$e,xe,Ke,He,Ve,rt,gt;switch(Oe){case"Array":xe=le(w(re));break;case"Object":xe={};break;case"Map":xe=new O;break;case"Set":xe=new Q;break;case"RegExp":xe=new RegExp(re.source,z(re));break;case"Error":switch($e=re.name,$e){case"AggregateError":xe=S("AggregateError")([]);break;case"EvalError":xe=ne();break;case"RangeError":xe=Y();break;case"ReferenceError":xe=I();break;case"SyntaxError":xe=C();break;case"TypeError":xe=k();break;case"URIError":xe=T();break;case"CompileError":xe=G();break;case"LinkError":xe=W();break;case"RuntimeError":xe=E();break;default:xe=fe()}break;case"DOMException":xe=new R(re.message,re.name);break;case"ArrayBuffer":case"SharedArrayBuffer":xe=Ne?new ie(re,Oe):gn(re,ke,Oe);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ve=Oe==="DataView"?re.byteLength:re.length,xe=Ne?new ie(re,Oe,{offset:re.byteOffset,length:Ve}):ye(re,Oe,re.byteOffset,Ve,ke);break;case"DOMQuad":try{xe=new DOMQuad(ee(re.p1,ke,Ne),ee(re.p2,ke,Ne),ee(re.p3,ke,Ne),ee(re.p4,ke,Ne))}catch{xe=Ln(re,Oe)}break;case"File":if(Ze)try{xe=Ze(re),m(xe)!==Oe&&(xe=void 0)}catch{}if(!xe)try{xe=new File([re],re.name,re)}catch{}xe||qe(Oe);break;case"FileList":if(Ke=Qn(),Ke){for(He=0,Ve=w(re);He<Ve;He++)Ke.items.add(ee(re[He],ke,Ne));xe=Ke.files}else xe=Ln(re,Oe);break;case"ImageData":try{xe=new ImageData(ee(re.data,ke,Ne),re.width,re.height,{colorSpace:re.colorSpace})}catch{xe=Ln(re,Oe)}break;default:if(Ze)xe=Ze(re);else switch(Oe){case"BigInt":xe=he(re.valueOf());break;case"Boolean":xe=he(ue(re));break;case"Number":xe=he(pe(re));break;case"String":xe=he(ge(re));break;case"Date":xe=new de(me(re));break;case"Blob":try{xe=re.slice(0,re.size,re.type)}catch{qe(Oe)}break;case"DOMPoint":case"DOMPointReadOnly":Le=f[Oe];try{xe=Le.fromPoint?Le.fromPoint(re):new Le(re.x,re.y,re.z,re.w)}catch{qe(Oe)}break;case"DOMRect":case"DOMRectReadOnly":Le=f[Oe];try{xe=Le.fromRect?Le.fromRect(re):new Le(re.x,re.y,re.width,re.height)}catch{qe(Oe)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Le=f[Oe];try{xe=Le.fromMatrix?Le.fromMatrix(re):new Le(re)}catch{qe(Oe)}break;case"AudioData":case"VideoFrame":o(re.clone)||qe(Oe);try{xe=re.clone()}catch{ft(Oe)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":qe(Oe);default:ft(Oe)}}switch(X(ke,re,xe),Oe){case"Array":case"Object":for(rt=Se(re),He=0,Ve=w(rt);He<Ve;He++)gt=rt[He],N(xe,gt,ee(re[gt],ke,Ne));break;case"Map":re.forEach(function(lt,Nt){X(xe,ee(Nt,ke,Ne),ee(lt,ke,Ne))});break;case"Set":re.forEach(function(lt){te(xe,ee(lt,ke,Ne))});break;case"Error":L(xe,"message",ee(re.message,ke,Ne)),P(re,"cause")&&L(xe,"cause",ee(re.cause,ke,Ne)),$e==="AggregateError"&&(xe.errors=ee(re.errors,ke,Ne));case"DOMException":j&&L(xe,"stack",ee(re.stack,ke,Ne))}return xe},we=function(re,ke){if(!A(re))return re;if(_(ke,re))return D(ke,re);var Ne,Oe,Le,$e,xe,Ke,He,Ve;if(re instanceof ie)switch(Ne=re.type,Oe=re.object,Ne){case"ArrayBuffer":case"SharedArrayBuffer":Ve=gn(Oe,ke,Ne);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Le=re.metadata,Ve=ye(Oe,Ne,Le.offset,Le.length,ke)}else switch(m(re)){case"Array":case"Object":for(Ke=Se(re),$e=0,xe=w(Ke);$e<xe;$e++)He=Ke[$e],re[He]=we(re[He],ke);break;case"Map":Ve=new O,re.forEach(function(rt,gt){X(Ve,we(gt,ke),we(rt,ke))});break;case"Set":Ve=new Q,re.forEach(function(rt){te(Ve,we(rt,ke))});break;case"Error":re.message=we(re.message,ke),P(re,"cause")&&(re.cause=we(re.cause,ke)),re.name==="AggregateError"&&(re.errors=we(re.errors,ke));case"DOMException":j&&(re.stack=we(re.stack,ke))}return X(ke,re,Ve||re),Ve||re},Ge=function(re,ke){if(!A(re))throw k("Transfer option cannot be converted to a sequence");var Ne=[];p(re,function(lt){se(Ne,y(lt))});for(var Oe=0,Le=w(Ne),$e=[],xe,Ke,He,Ve,rt,gt;Oe<Le;){if(xe=Ne[Oe++],Ke=m(xe),Ke==="ArrayBuffer"){se($e,xe);continue}if(_(ke,xe))throw new R("Duplicate transferable",Te);if(J)Ve=nt(xe,{transfer:[xe]});else switch(Ke){case"ImageBitmap":He=f.OffscreenCanvas,c(He)||qe(Ke,Fe);try{rt=new He(xe.width,xe.height),gt=rt.getContext("bitmaprenderer"),gt.transferFromImageBitmap(xe),Ve=rt.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!o(xe.clone)||!o(xe.close))&&qe(Ke,Fe);try{Ve=xe.clone(),xe.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":qe(Ke,Fe)}if(Ve===void 0)throw new R("This object cannot be transferred: "+Ke,Te);X(ke,xe,Ve)}return $e},st=function(re,ke){for(var Ne=0,Oe=w(re),Le,$e;Ne<Oe;){if(Le=re[Ne++],_(ke,Le))throw new R("Duplicate transferable",Te);J?$e=nt(Le,{transfer:[Le]}):(o(Le.transfer)||qe("ArrayBuffer",Fe),$e=Le.transfer()),X(ke,Le,$e)}};u({global:!0,enumerable:!0,sham:!J,forced:ct},{structuredClone:function(ke){var Ne=F(arguments.length,1)>1&&!v(arguments[1])?y(arguments[1]):void 0,Oe=Ne?Ne.transfer:void 0,Le=!1,$e,xe;Oe!==void 0&&($e=new O,xe=Ge(Oe,$e),Le=!!w(xe));var Ke=ee(ke,$e,Le);return Le&&($e=new O,st(Oe,$e),Ke=we(Ke,$e)),Ke}})}),((h,a,n)=>{var i=n(14),u=n(7),f=n(21),S=n(78),x=n(24),M=n(51),d=function(){},o=[],c=x("Reflect","construct"),v=/^\s*(?:class|function)\b/,A=i(v.exec),l=!v.exec(d),p=function(P){if(!f(P))return!1;try{return c(d,o,P),!0}catch{return!1}},y=function(P){if(!f(P))return!1;switch(S(P)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!A(v,M(P))}catch{return!0}};y.sham=!0,h.exports=!c||u(function(){var m;return p(p.call)||!p(Object)||!p(function(){m=!0})||m})?y:p}),((h,a,n)=>{var i=n(99),u=n(8),f=n(47),S=n(32),x=n(155),M=n(64),d=n(25),o=n(157),c=n(158),v=n(140),A=TypeError,l=function(y,m){this.stopped=y,this.result=m},p=l.prototype;h.exports=function(y,m,P){var N=P&&P.that,L=!!(P&&P.AS_ENTRIES),w=!!(P&&P.IS_RECORD),F=!!(P&&P.IS_ITERATOR),z=!!(P&&P.INTERRUPTED),V=i(m,N),$,j,J,he,le,de,fe,ne=function(I){return $&&v($,"normal",I),new l(!0,I)},Y=function(I){return L?(f(I),z?V(I[0],I[1],ne):V(I[0],I[1])):z?V(I,ne):V(I)};if(w)$=y.iterator;else if(F)$=y;else{if(j=c(y),!j)throw A(S(y)+" is not iterable");if(x(j)){for(J=0,he=M(y);he>J;J++)if(le=Y(y[J]),le&&d(p,le))return le;return new l(!1)}$=o(y,j)}for(de=w?y.next:$.next;!(fe=u(de,$)).done;){try{le=Y(fe.value)}catch(I){v($,"throw",I)}if(typeof le=="object"&&le&&d(p,le))return le}return new l(!1)}}),((h,a,n)=>{var i=n(34),u=n(156),f=i("iterator"),S=Array.prototype;h.exports=function(x){return x!==void 0&&(u.Array===x||S[f]===x)}}),(h=>{h.exports={}}),((h,a,n)=>{var i=n(8),u=n(31),f=n(47),S=n(32),x=n(158),M=TypeError;h.exports=function(d,o){var c=arguments.length<2?x(d):o;if(u(c))return f(i(c,d));throw M(S(d)+" is not iterable")}}),((h,a,n)=>{var i=n(78),u=n(30),f=n(17),S=n(156),x=n(34),M=x("iterator");h.exports=function(d){if(!f(d))return u(d,M)||u(d,"@@iterator")||S[i(d)]}}),((h,a,n)=>{var i=n(18),u=n(45),f=n(11);h.exports=function(S,x,M){var d=i(x);d in S?u.f(S,d,f(0,M)):S[d]=M}}),((h,a,n)=>{var i=n(8),u=n(39),f=n(25),S=n(161),x=RegExp.prototype;h.exports=function(M){var d=M.flags;return d===void 0&&!("flags"in x)&&!u(M,"flags")&&f(x,M)?i(S,M):d}}),((h,a,n)=>{var i=n(47);h.exports=function(){var u=i(this),f="";return u.hasIndices&&(f+="d"),u.global&&(f+="g"),u.ignoreCase&&(f+="i"),u.multiline&&(f+="m"),u.dotAll&&(f+="s"),u.unicode&&(f+="u"),u.unicodeSets&&(f+="v"),u.sticky&&(f+="y"),f}}),((h,a,n)=>{var i=n(14),u=Map.prototype;h.exports={Map,set:i(u.set),get:i(u.get),has:i(u.has),remove:i(u.delete),proto:u}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SerializableEmpty=a.PrintAnnotationStorage=a.AnnotationStorage=void 0,n(89),n(149),n(152);var i=n(1),u=n(164),f=n(170);const S=Object.freeze({map:null,hash:"",transfers:void 0});a.SerializableEmpty=S;class x{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(o,c){const v=this.#t.get(o);return v===void 0?c:Object.assign(c,v)}getRawValue(o){return this.#t.get(o)}remove(o){if(this.#t.delete(o),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const c of this.#t.values())if(c instanceof u.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(o,c){const v=this.#t.get(o);let A=!1;if(v!==void 0)for(const[l,p]of Object.entries(c))v[l]!==p&&(A=!0,v[l]=p);else A=!0,this.#t.set(o,c);A&&this.#n(),c instanceof u.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(c.constructor._type)}has(o){return this.#t.has(o)}getAll(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}setAll(o){for(const[c,v]of Object.entries(o))this.setValue(c,v)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new M(this)}get serializable(){if(this.#t.size===0)return S;const o=new Map,c=new f.MurmurHash3_64,v=[],A=Object.create(null);let l=!1;for(const[p,y]of this.#t){const m=y instanceof u.AnnotationEditor?y.serialize(!1,A):y;m&&(o.set(p,m),c.update(`${p}:${JSON.stringify(m)}`),l||=!!m.bitmap)}if(l)for(const p of o.values())p.bitmap&&v.push(p.bitmap);return o.size>0?{map:o,hash:c.hexdigest(),transfers:v}:S}}a.AnnotationStorage=x;class M extends x{#e;constructor(o){super();const{map:c,hash:v,transfers:A}=o.serializable,l=structuredClone(c,null);this.#e={map:l,hash:v,transfers:A}}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}a.PrintAnnotationStorage=M}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditor=void 0,n(89),n(2);var i=n(165),u=n(1),f=n(168);class S{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=S._zIndex++;static _borderLineWidth=-1;static _colorManager=new i.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===S&&(0,u.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:o,rawDims:{pageWidth:c,pageHeight:v,pageX:A,pageY:l}}=this.parent.viewport;this.rotation=o,this.pageRotation=(360+o-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[c,v],this.pageTranslation=[A,l];const[p,y]=this.parentDimensions;this.x=d.x/p,this.y=d.y/y,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,u.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const o=new x({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});o.annotationElementId=d.annotationElementId,o.deleted=!0,o._uiManager.addToAnnotationStorage(o)}static initialize(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(S._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(v=>[v,d.get(v)])),o?.strings)for(const v of o.strings)S._l10nPromise.set(v,d.get(v));if(S._borderLineWidth!==-1)return;const c=getComputedStyle(document.documentElement);S._borderLineWidth=parseFloat(c.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,o){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,o){(0,u.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,o]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*o/(d*2),this.y+=this.width*d/(o*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*o/(d*2),this.y-=this.width*d/(o*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,o,c,v){const[A,l]=this.parentDimensions;[c,v]=this.screenToPageTranslation(c,v),this.x=(d+c)/A,this.y=(o+v)/l,this.fixAndSetPosition()}#v(d,o,c){let[v,A]=d;[o,c]=this.screenToPageTranslation(o,c),this.x+=o/v,this.y+=c/A,this.fixAndSetPosition()}translate(d,o){this.#v(this.parentDimensions,d,o)}translateInPage(d,o){this.#v(this.pageDimensions,d,o),this.div.scrollIntoView({block:"nearest"})}drag(d,o){const[c,v]=this.parentDimensions;if(this.x+=d/c,this.y+=o/v,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:A,y:l}=this;const[p,y]=this.#m();A+=p,l+=y,this.div.style.left=`${(100*A).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[d,o]=this.parentDimensions,{_borderLineWidth:c}=S,v=c/d,A=c/o;switch(this.rotation){case 90:return[-v,A];case 180:return[v,A];case 270:return[v,-A];default:return[-v,-A]}}fixAndSetPosition(){const[d,o]=this.pageDimensions;let{x:c,y:v,width:A,height:l}=this;switch(A*=d,l*=o,c*=d,v*=o,this.rotation){case 0:c=Math.max(0,Math.min(d-A,c)),v=Math.max(0,Math.min(o-l,v));break;case 90:c=Math.max(0,Math.min(d-l,c)),v=Math.min(o,Math.max(A,v));break;case 180:c=Math.min(d,Math.max(A,c)),v=Math.min(o,Math.max(l,v));break;case 270:c=Math.min(d,Math.max(l,c)),v=Math.max(0,Math.min(o-A,v));break}this.x=c/=d,this.y=v/=o;const[p,y]=this.#m();c+=p,v+=y;const{style:m}=this.div;m.left=`${(100*c).toFixed(2)}%`,m.top=`${(100*v).toFixed(2)}%`,this.moveInDOM()}static#g(d,o,c){switch(c){case 90:return[o,-d];case 180:return[-d,-o];case 270:return[-o,d];default:return[d,o]}}screenToPageTranslation(d,o){return S.#g(d,o,this.parentRotation)}pageTranslationToScreen(d,o){return S.#g(d,o,360-this.parentRotation)}#c(d){switch(d){case 90:{const[o,c]=this.pageDimensions;return[0,-o/c,c/o,0]}case 180:return[-1,0,0,-1];case 270:{const[o,c]=this.pageDimensions;return[0,o/c,-c/o,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[o,c]}=this,v=o*d,A=c*d;return u.FeatureTest.isCSSRoundSupported?[Math.round(v),Math.round(A)]:[v,A]}setDims(d,o){const[c,v]=this.parentDimensions;this.div.style.width=`${(100*d/c).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*o/v).toFixed(2)}%`),this.#n?.classList.toggle("small",d<S.SMALL_EDITOR_SIZE||o<S.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:o,width:c}=d,v=c.endsWith("%"),A=!this.#a&&o.endsWith("%");if(v&&A)return;const[l,p]=this.parentDimensions;v||(d.width=`${(100*parseFloat(c)/l).toFixed(2)}%`),!this.#a&&!A&&(d.height=`${(100*parseFloat(o)/p).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const o of d){const c=document.createElement("div");this.#s.append(c),c.classList.add("resizer",o),c.addEventListener("pointerdown",this.#x.bind(this,o)),c.addEventListener("contextmenu",f.noContextMenu)}this.div.prepend(this.#s)}#x(d,o){o.preventDefault();const{isMac:c}=u.FeatureTest.platform;if(o.button!==0||o.ctrlKey&&c)return;const v=this.#b.bind(this,d),A=this._isDraggable;this._isDraggable=!1;const l={passive:!0,capture:!0};window.addEventListener("pointermove",v,l);const p=this.x,y=this.y,m=this.width,P=this.height,N=this.parent.div.style.cursor,L=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(o.target).cursor;const w=()=>{this._isDraggable=A,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",v,l),this.parent.div.style.cursor=N,this.div.style.cursor=L;const F=this.x,z=this.y,V=this.width,$=this.height;F===p&&z===y&&V===m&&$===P||this.addCommands({cmd:()=>{this.width=V,this.height=$,this.x=F,this.y=z;const[j,J]=this.parentDimensions;this.setDims(j*V,J*$),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=P,this.x=p,this.y=y;const[j,J]=this.parentDimensions;this.setDims(j*m,J*P),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#b(d,o){const[c,v]=this.parentDimensions,A=this.x,l=this.y,p=this.width,y=this.height,m=S.MIN_SIZE/c,P=S.MIN_SIZE/v,N=W=>Math.round(W*1e4)/1e4,L=this.#c(this.rotation),w=(W,E)=>[L[0]*W+L[2]*E,L[1]*W+L[3]*E],F=this.#c(360-this.rotation),z=(W,E)=>[F[0]*W+F[2]*E,F[1]*W+F[3]*E];let V,$,j=!1,J=!1;switch(d){case"topLeft":j=!0,V=(W,E)=>[0,0],$=(W,E)=>[W,E];break;case"topMiddle":V=(W,E)=>[W/2,0],$=(W,E)=>[W/2,E];break;case"topRight":j=!0,V=(W,E)=>[W,0],$=(W,E)=>[0,E];break;case"middleRight":J=!0,V=(W,E)=>[W,E/2],$=(W,E)=>[0,E/2];break;case"bottomRight":j=!0,V=(W,E)=>[W,E],$=(W,E)=>[0,0];break;case"bottomMiddle":V=(W,E)=>[W/2,E],$=(W,E)=>[W/2,0];break;case"bottomLeft":j=!0,V=(W,E)=>[0,E],$=(W,E)=>[W,0];break;case"middleLeft":J=!0,V=(W,E)=>[0,E/2],$=(W,E)=>[W,E/2];break}const he=V(p,y),le=$(p,y);let de=w(...le);const fe=N(A+de[0]),ne=N(l+de[1]);let Y=1,I=1,[C,k]=this.screenToPageTranslation(o.movementX,o.movementY);if([C,k]=z(C/c,k/v),j){const W=Math.hypot(p,y);Y=I=Math.max(Math.min(Math.hypot(le[0]-he[0]-C,le[1]-he[1]-k)/W,1/p,1/y),m/p,P/y)}else J?Y=Math.max(m,Math.min(1,Math.abs(le[0]-he[0]-C)))/p:I=Math.max(P,Math.min(1,Math.abs(le[1]-he[1]-k)))/y;const T=N(p*Y),B=N(y*I);de=w(...$(T,B));const H=fe-de[0],G=ne-de[1];this.width=T,this.height=B,this.x=H,this.y=G,this.setDims(c*T,v*B),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const o=await S._l10nPromise.get("editor_alt_text_button_label");d.textContent=o,d.setAttribute("aria-label",o),d.tabIndex="0",d.addEventListener("contextmenu",f.noContextMenu),d.addEventListener("pointerdown",c=>c.stopPropagation()),d.addEventListener("click",c=>{c.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",c=>{c.target===d&&c.key==="Enter"&&(c.preventDefault(),this._uiManager.editAltText(this))}),this.#w(),this.div.append(d),S.SMALL_EDITOR_SIZE||(S.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#w(){const d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#r?.remove();return}S._l10nPromise.get("editor_alt_text_edit_button_label").then(c=>{d.setAttribute("aria-label",c)});let o=this.#r;if(!o){this.#r=o=document.createElement("span"),o.className="tooltip",o.setAttribute("role","tooltip");const c=o.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",c);const v=100;d.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},v)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}d.classList.add("done"),o.innerText=this.#t?await S._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,o.parentNode||d.append(o)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData(d){let{altText:o,decorative:c}=d;this.#e===o&&this.#t===c||(this.#e=o,this.#t=c,this.#w())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[d,o]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*o/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/o).toFixed(2)}%`);const[c,v]=this.getInitialTranslation();return this.translate(c,v),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:o}=u.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&o){d.preventDefault();return}this.#i=!0,this.#P(d)}#P(d){if(!this._isDraggable)return;const o=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let c,v;o&&(c={passive:!0,capture:!0},v=l=>{const[p,y]=this.screenToPageTranslation(l.movementX,l.movementY);this._uiManager.dragSelectedEditors(p,y)},window.addEventListener("pointermove",v,c));const A=()=>{if(window.removeEventListener("pointerup",A),window.removeEventListener("blur",A),o&&window.removeEventListener("pointermove",v,c),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:l}=u.FeatureTest.platform;d.ctrlKey&&!l||d.shiftKey||d.metaKey&&l?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",A),window.addEventListener("blur",A)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,o,c){d.changeParent(this),this.x=o,this.y=c,this.fixAndSetPosition()}getRect(d,o){const c=this.parentScale,[v,A]=this.pageDimensions,[l,p]=this.pageTranslation,y=d/c,m=o/c,P=this.x*v,N=this.y*A,L=this.width*v,w=this.height*A;switch(this.rotation){case 0:return[P+y+l,A-N-m-w+p,P+y+L+l,A-N-m+p];case 90:return[P+m+l,A-N+y+p,P+m+w+l,A-N+y+L+p];case 180:return[P-y-L+l,A-N+m+p,P-y+l,A-N+m+w+p];case 270:return[P-m-w+l,A-N-y-L+p,P-m+l,A-N-y+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,o){const[c,v,A,l]=d,p=A-c,y=l-v;switch(this.rotation){case 0:return[c,o-l,p,y];case 90:return[c,o-v,y,p];case 180:return[A,o-v,p,y];case 270:return[A,o-l,y,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(){(0,u.unreachable)("An editor must be serializable")}static deserialize(d,o,c){const v=new this.prototype.constructor({parent:o,id:o.getNextId(),uiManager:c});v.rotation=d.rotation;const[A,l]=v.pageDimensions,[p,y,m,P]=v.getRectInCurrentCoords(d.rect,l);return v.x=p/A,v.y=y/l,v.width=m/A,v.height=P/l,v}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,o){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,o){this.#a=!0;const c=d/o,{style:v}=this.div;v.aspectRatio=c,v.height="auto"}static get MIN_SIZE(){return 16}}a.AnnotationEditor=S;class x extends S{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.KeyboardManager=a.CommandManager=a.ColorManager=a.AnnotationEditorUIManager=void 0,a.bindEvents=f,a.opacityToHex=S,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2),n(89),n(125),n(136),n(138),n(141),n(143),n(145),n(147),n(166);var i=n(1),u=n(168);function f(A,l,p){for(const y of p)l.addEventListener(y,A[y].bind(A))}function S(A){return Math.round(Math.min(255,Math.max(1,255*A))).toString(16).padStart(2,"0")}class x{#e=0;getId(){return`${i.AnnotationEditorPrefix}${this.#e++}`}}class M{#e=(0,i.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const l='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',y=new OffscreenCanvas(1,3).getContext("2d"),m=new Image;m.src=l;const P=m.decode().then(()=>(y.drawImage(m,0,0,1,1,0,0,1,3),new Uint32Array(y.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",P)}async#r(l,p){this.#n||=new Map;let y=this.#n.get(l);if(y===null)return null;if(y?.bitmap)return y.refCounter+=1,y;try{y||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let m;if(typeof p=="string"){y.url=p;const P=await fetch(p);if(!P.ok)throw new Error(P.statusText);m=await P.blob()}else m=y.file=p;if(m.type==="image/svg+xml"){const P=M._isSVGFittingCanvas,N=new FileReader,L=new Image,w=new Promise((F,z)=>{L.onload=()=>{y.bitmap=L,y.isSvg=!0,F()},N.onload=async()=>{const V=y.svgUrl=N.result;L.src=await P?`${V}#svgView(preserveAspectRatio(none))`:V},L.onerror=N.onerror=z});N.readAsDataURL(m),await w}else y.bitmap=await createImageBitmap(m);y.refCounter=1}catch(m){console.error(m),y=null}return this.#n.set(l,y),y&&this.#n.set(y.id,y),y}async getFromFile(l){const{lastModified:p,name:y,size:m,type:P}=l;return this.#r(`${p}_${y}_${m}_${P}`,l)}async getFromUrl(l){return this.#r(l,l)}async getFromId(l){this.#n||=new Map;const p=this.#n.get(l);return p?p.bitmap?(p.refCounter+=1,p):p.file?this.getFromFile(p.file):this.getFromUrl(p.url):null}getSvgUrl(l){const p=this.#n.get(l);return p?.isSvg?p.svgUrl:null}deleteId(l){this.#n||=new Map;const p=this.#n.get(l);p&&(p.refCounter-=1,p.refCounter===0&&(p.bitmap=null))}isValidId(l){return l.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#r=-1;constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;this.#n=l}add(l){let{cmd:p,undo:y,mustExec:m,type:P=NaN,overwriteIfSameType:N=!1,keepUndo:L=!1}=l;if(m&&p(),this.#t)return;const w={cmd:p,undo:y,type:P};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(w);return}if(N&&this.#e[this.#r].type===P){L&&(w.undo=this.#e[this.#r].undo),this.#e[this.#r]=w;return}const F=this.#r+1;F===this.#n?this.#e.splice(0,1):(this.#r=F,F<this.#e.length&&this.#e.splice(F)),this.#e.push(w)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}a.CommandManager=d;class o{constructor(l){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:p}=i.FeatureTest.platform;for(const[y,m,P={}]of l)for(const N of y){const L=N.startsWith("mac+");p&&L?(this.callbacks.set(N.slice(4),{callback:m,options:P}),this.allKeys.add(N.split("+").at(-1))):!p&&!L&&(this.callbacks.set(N,{callback:m,options:P}),this.allKeys.add(N.split("+").at(-1)))}}#e(l){l.altKey&&this.buffer.push("alt"),l.ctrlKey&&this.buffer.push("ctrl"),l.metaKey&&this.buffer.push("meta"),l.shiftKey&&this.buffer.push("shift"),this.buffer.push(l.key);const p=this.buffer.join("+");return this.buffer.length=0,p}exec(l,p){if(!this.allKeys.has(p.key))return;const y=this.callbacks.get(this.#e(p));if(!y)return;const{callback:m,options:{bubbles:P=!1,args:N=[],checker:L=null}}=y;L&&!L(l,p)||(m.bind(l,...N)(),P||(p.stopPropagation(),p.preventDefault()))}}a.KeyboardManager=o;class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const l=new Map([["CanvasText",null],["Canvas",null]]);return(0,u.getColorValues)(l),(0,i.shadow)(this,"_colors",l)}convert(l){const p=(0,u.getRGB)(l);if(!window.matchMedia("(forced-colors: active)").matches)return p;for(const[y,m]of this._colors)if(m.every((P,N)=>P===p[N]))return c._colorsMapping.get(y);return p}getHexCode(l){const p=this._colors.get(l);return p?i.Util.makeHexColor(...p):l}}a.ColorManager=c;class v{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new d;#s=0;#l=new Set;#u=null;#i=null;#f=new Set;#d=null;#h=new x;#p=!1;#v=!1;#m=null;#g=i.AnnotationEditorType.NONE;#c=new Set;#y=null;#x=this.blur.bind(this);#b=this.focus.bind(this);#w=this.copy.bind(this);#P=this.cut.bind(this);#D=this.paste.bind(this);#L=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#S=this.onPageChanging.bind(this);#F=this.onScaleChanging.bind(this);#R=this.onRotationChanging.bind(this);#M={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#A=[0,0];#T=null;#C=null;#_=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const l=v.prototype,p=P=>{const{activeElement:N}=document;return N&&P.#C.contains(N)&&P.hasSomethingToControl()},y=this.TRANSLATE_SMALL,m=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new o([[["ctrl+a","mac+meta+a"],l.selectAll],[["ctrl+z","mac+meta+z"],l.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],l.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],l.delete],[["Escape","mac+Escape"],l.unselectAll],[["ArrowLeft","mac+ArrowLeft"],l.translateSelectedEditors,{args:[-y,0],checker:p}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],l.translateSelectedEditors,{args:[-m,0],checker:p}],[["ArrowRight","mac+ArrowRight"],l.translateSelectedEditors,{args:[y,0],checker:p}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],l.translateSelectedEditors,{args:[m,0],checker:p}],[["ArrowUp","mac+ArrowUp"],l.translateSelectedEditors,{args:[0,-y],checker:p}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],l.translateSelectedEditors,{args:[0,-m],checker:p}],[["ArrowDown","mac+ArrowDown"],l.translateSelectedEditors,{args:[0,y],checker:p}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],l.translateSelectedEditors,{args:[0,m],checker:p}]]))}constructor(l,p,y,m,P,N){this.#C=l,this.#_=p,this.#r=y,this._eventBus=m,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#S),this._eventBus._on("scalechanging",this.#F),this._eventBus._on("rotationchanging",this.#R),this.#o=P.annotationStorage,this.#d=P.filterFactory,this.#y=N,this.viewParameters={realScale:u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#I(),this.#U(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#S),this._eventBus._off("scalechanging",this.#F),this._eventBus._off("rotationchanging",this.#R);for(const l of this.#n.values())l.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#c.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(this.#C).direction)}editAltText(l){this.#r?.editAltText(this,l)}onPageChanging(l){let{pageNumber:p}=l;this.#s=p-1}focusMainContainer(){this.#C.focus()}findParent(l,p){for(const y of this.#n.values()){const{x:m,y:P,width:N,height:L}=y.div.getBoundingClientRect();if(l>=m&&l<=m+N&&p>=P&&p<=P+L)return y}return null}disableUserSelect(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#_.classList.toggle("noUserSelect",l)}addShouldRescale(l){this.#f.add(l)}removeShouldRescale(l){this.#f.delete(l)}onScaleChanging(l){let{scale:p}=l;this.commitOrRemove(),this.viewParameters.realScale=p*u.PixelsPerInch.PDF_TO_CSS_UNITS;for(const y of this.#f)y.onScaleChanging()}onRotationChanging(l){let{pagesRotation:p}=l;this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(l){!l.isEmpty()&&this.#o&&!this.#o.has(l.id)&&this.#o.setValue(l.id,l)}#B(){window.addEventListener("focus",this.#b),window.addEventListener("blur",this.#x)}#U(){window.removeEventListener("focus",this.#b),window.removeEventListener("blur",this.#x)}blur(){if(!this.hasSelection)return;const{activeElement:l}=document;for(const p of this.#c)if(p.div.contains(l)){this.#m=[p,l],p._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[l,p]=this.#m;this.#m=null,p.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),p.focus()}#z(){window.addEventListener("keydown",this.#L,{capture:!0})}#I(){window.removeEventListener("keydown",this.#L,{capture:!0})}#O(){document.addEventListener("copy",this.#w),document.addEventListener("cut",this.#P),document.addEventListener("paste",this.#D)}#k(){document.removeEventListener("copy",this.#w),document.removeEventListener("cut",this.#P),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#z(),this.#O()}removeEditListeners(){this.#I(),this.#k()}copy(l){if(l.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const p=[];for(const y of this.#c){const m=y.serialize(!0);m&&p.push(m)}p.length!==0&&l.clipboardData.setData("application/pdfjs",JSON.stringify(p))}cut(l){this.copy(l),this.delete()}paste(l){l.preventDefault();const{clipboardData:p}=l;for(const P of p.items)for(const N of this.#i)if(N.isHandlingMimeForPasting(P.type)){N.paste(P,this.currentLayer);return}let y=p.getData("application/pdfjs");if(!y)return;try{y=JSON.parse(y)}catch(P){(0,i.warn)(`paste: "${P.message}".`);return}if(!Array.isArray(y))return;this.unselectAll();const m=this.currentLayer;try{const P=[];for(const w of y){const F=m.deserialize(w);if(!F)return;P.push(F)}const N=()=>{for(const w of P)this.#$(w);this.#V(P)},L=()=>{for(const w of P)w.remove()};this.addCommands({cmd:N,undo:L,mustExec:!0})}catch(P){(0,i.warn)(`paste: "${P.message}".`)}}keydown(l){this.getActive()?.shouldGetKeyboardEvents()||v._keyboardManager.exec(this,l)}onEditingAction(l){["undo","redo","delete","selectAll"].includes(l.name)&&this[l.name]()}#E(l){Object.entries(l).some(y=>{let[m,P]=y;return this.#M[m]!==P})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#M,l)})}#W(l){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:l})}setEditingState(l){l?(this.#B(),this.#z(),this.#O(),this.#E({isEditing:this.#g!==i.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#U(),this.#I(),this.#k(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(l){if(!this.#i){this.#i=l;for(const p of this.#i)this.#W(p.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(l){return this.#n.get(l)}get currentPageIndex(){return this.#s}addLayer(l){this.#n.set(l.pageIndex,l),this.#p?l.enable():l.disable()}removeLayer(l){this.#n.delete(l.pageIndex)}updateMode(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.#g!==l){if(this.#g=l,l===i.AnnotationEditorType.NONE){this.setEditingState(!1),this.#X();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const y of this.#n.values())y.updateMode(l);if(p){for(const y of this.#t.values())if(y.annotationElementId===p){this.setSelected(y),y.enterInEditMode();break}}}}updateToolbar(l){l!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:l})}updateParams(l,p){if(this.#i){if(l===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(l);return}for(const y of this.#c)y.updateParams(l,p);for(const y of this.#i)y.updateDefaultParams(l,p)}}enableWaiting(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#v!==l){this.#v=l;for(const p of this.#n.values())l?p.disableClick():p.enableClick(),p.div.classList.toggle("waiting",l)}}#G(){if(!this.#p){this.#p=!0;for(const l of this.#n.values())l.enable()}}#X(){if(this.unselectAll(),this.#p){this.#p=!1;for(const l of this.#n.values())l.disable()}}getEditors(l){const p=[];for(const y of this.#t.values())y.pageIndex===l&&p.push(y);return p}getEditor(l){return this.#t.get(l)}addEditor(l){this.#t.set(l.id,l)}removeEditor(l){this.#t.delete(l.id),this.unselect(l),(!l.annotationElementId||!this.#l.has(l.annotationElementId))&&this.#o?.remove(l.id)}addDeletedAnnotationElement(l){this.#l.add(l.annotationElementId),l.deleted=!0}isDeletedAnnotationElement(l){return this.#l.has(l)}removeDeletedAnnotationElement(l){this.#l.delete(l.annotationElementId),l.deleted=!1}#$(l){const p=this.#n.get(l.pageIndex);p?p.addOrRebuild(l):this.addEditor(l)}setActiveEditor(l){this.#e!==l&&(this.#e=l,l&&this.#W(l.propertiesToUpdate))}toggleSelected(l){if(this.#c.has(l)){this.#c.delete(l),l.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#c.add(l),l.select(),this.#W(l.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(l){for(const p of this.#c)p!==l&&p.unselect();this.#c.clear(),this.#c.add(l),l.select(),this.#W(l.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(l){return this.#c.has(l)}unselect(l){l.unselect(),this.#c.delete(l),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#a.undo(),this.#E({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#a.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(l){this.#a.add(l),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const l of this.#t.values())return l.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const l=[...this.#c],p=()=>{for(const m of l)m.remove()},y=()=>{for(const m of l)this.#$(m)};this.addCommands({cmd:p,undo:y,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#V(l){this.#c.clear();for(const p of l)p.isEmpty()||(this.#c.add(p),p.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(const l of this.#c)l.commit();this.#V(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const l of this.#c)l.unselect();this.#c.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(l,p){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;this.#A[0]+=l,this.#A[1]+=p;const[m,P]=this.#A,N=[...this.#c],L=1e3;this.#T&&clearTimeout(this.#T),this.#T=setTimeout(()=>{this.#T=null,this.#A[0]=this.#A[1]=0,this.addCommands({cmd:()=>{for(const w of N)this.#t.has(w.id)&&w.translateInPage(m,P)},undo:()=>{for(const w of N)this.#t.has(w.id)&&w.translateInPage(-m,-P)},mustExec:!1})},L);for(const w of N)w.translateInPage(l,p)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const l of this.#c)this.#u.set(l,{savedX:l.x,savedY:l.y,savedPageIndex:l.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const l=this.#u;this.#u=null;let p=!1;for(const[{x:m,y:P,pageIndex:N},L]of l)L.newX=m,L.newY=P,L.newPageIndex=N,p||=m!==L.savedX||P!==L.savedY||N!==L.savedPageIndex;if(!p)return!1;const y=(m,P,N,L)=>{if(this.#t.has(m.id)){const w=this.#n.get(L);w?m._setParentAndPosition(w,P,N):(m.pageIndex=L,m.x=P,m.y=N)}};return this.addCommands({cmd:()=>{for(const[m,{newX:P,newY:N,newPageIndex:L}]of l)y(m,P,N,L)},undo:()=>{for(const[m,{savedX:P,savedY:N,savedPageIndex:L}]of l)y(m,P,N,L)},mustExec:!0}),!0}dragSelectedEditors(l,p){if(this.#u)for(const y of this.#u.keys())y.drag(l,p)}rebuild(l){if(l.parent===null){const p=this.getLayer(l.pageIndex);p?(p.changeParent(l),p.addOrRebuild(l)):(this.addEditor(l),this.addToAnnotationStorage(l),l.rebuild())}else l.parent.addOrRebuild(l)}isActive(l){return this.#e===l}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,i.shadow)(this,"imageManager",new M)}}a.AnnotationEditorUIManager=v}),((h,a,n)=>{var i=n(3),u=n(6),f=n(4),S=n(24),x=n(14),M=n(8),d=n(21),o=n(20),c=n(91),v=n(39),A=n(77),l=n(64),p=n(159),y=n(7),m=n(167),P=n(27),N=f.JSON,L=f.Number,w=f.SyntaxError,F=N&&N.parse,z=S("Object","keys"),V=Object.getOwnPropertyDescriptor,$=x("".charAt),j=x("".slice),J=x(/./.exec),he=x([].push),le=/^\d$/,de=/^[1-9]$/,fe=/^(?:-|\d)$/,ne=/^[\t\n\r ]$/,Y=0,I=1,C=function(E,R){E=A(E);var O=new H(E,0),_=O.parse(),D=_.value,X=O.skip(ne,_.end);if(X<E.length)throw w('Unexpected extra character: "'+$(E,X)+'" after the parsed data at: '+X);return d(R)?k({"":D},"",R,_):D},k=function(E,R,O,_){var D=E[R],X=_&&D===_.value,Q=X&&typeof _.source=="string"?{source:_.source}:{},te,Se,se,ue,pe;if(o(D)){var ge=c(D),me=X?_.nodes:ge?[]:{};if(ge)for(te=me.length,se=l(D),ue=0;ue<se;ue++)T(D,ue,k(D,""+ue,O,ue<te?me[ue]:void 0));else for(Se=z(D),se=l(Se),ue=0;ue<se;ue++)pe=Se[ue],T(D,pe,k(D,pe,O,v(me,pe)?me[pe]:void 0))}return M(O,E,R,D,Q)},T=function(E,R,O){if(u){var _=V(E,R);if(_&&!_.configurable)return}O===void 0?delete E[R]:p(E,R,O)},B=function(E,R,O,_){this.value=E,this.end=R,this.source=O,this.nodes=_},H=function(E,R){this.source=E,this.index=R};H.prototype={fork:function(E){return new H(this.source,E)},parse:function(){var E=this.source,R=this.skip(ne,this.index),O=this.fork(R),_=$(E,R);if(J(fe,_))return O.number();switch(_){case"{":return O.object();case"[":return O.array();case'"':return O.string();case"t":return O.keyword(!0);case"f":return O.keyword(!1);case"n":return O.keyword(null)}throw w('Unexpected character: "'+_+'" at: '+R)},node:function(E,R,O,_,D){return new B(R,_,E?null:j(this.source,O,_),D)},object:function(){for(var E=this.source,R=this.index+1,O=!1,_={},D={};R<E.length;){if(R=this.until(['"',"}"],R),$(E,R)==="}"&&!O){R++;break}var X=this.fork(R).string(),Q=X.value;R=X.end,R=this.until([":"],R)+1,R=this.skip(ne,R),X=this.fork(R).parse(),p(D,Q,X),p(_,Q,X.value),R=this.until([",","}"],X.end);var te=$(E,R);if(te===",")O=!0,R++;else if(te==="}"){R++;break}}return this.node(I,_,this.index,R,D)},array:function(){for(var E=this.source,R=this.index+1,O=!1,_=[],D=[];R<E.length;){if(R=this.skip(ne,R),$(E,R)==="]"&&!O){R++;break}var X=this.fork(R).parse();if(he(D,X),he(_,X.value),R=this.until([",","]"],X.end),$(E,R)===",")O=!0,R++;else if($(E,R)==="]"){R++;break}}return this.node(I,_,this.index,R,D)},string:function(){var E=this.index,R=m(this.source,this.index+1);return this.node(Y,R.value,E,R.end)},number:function(){var E=this.source,R=this.index,O=R;if($(E,O)==="-"&&O++,$(E,O)==="0")O++;else if(J(de,$(E,O)))O=this.skip(le,++O);else throw w("Failed to parse number at: "+O);if($(E,O)==="."&&(O=this.skip(le,++O)),$(E,O)==="e"||$(E,O)==="E"){O++,($(E,O)==="+"||$(E,O)==="-")&&O++;var _=O;if(O=this.skip(le,O),_===O)throw w("Failed to parse number's exponent value at: "+O)}return this.node(Y,L(j(E,R,O)),R,O)},keyword:function(E){var R=""+E,O=this.index,_=O+R.length;if(j(this.source,O,_)!==R)throw w("Failed to parse value at: "+O);return this.node(Y,E,O,_)},skip:function(E,R){for(var O=this.source;R<O.length&&J(E,$(O,R));R++);return R},until:function(E,R){R=this.skip(ne,R);for(var O=$(this.source,R),_=0;_<E.length;_++)if(E[_]===O)return R;throw w('Unexpected character: "'+O+'" at: '+R)}};var G=y(function(){var E="9007199254740993",R;return F(E,function(O,_,D){R=D.source}),R!==E}),W=P&&!y(function(){return 1/F("-0 	")!==-1/0});i({target:"JSON",stat:!0,forced:G},{parse:function(R,O){return W&&!d(O)?F(R):C(R,O)}})}),((h,a,n)=>{var i=n(14),u=n(39),f=SyntaxError,S=parseInt,x=String.fromCharCode,M=i("".charAt),d=i("".slice),o=i(/./.exec),c={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},v=/^[\da-f]{4}$/i,A=/^[\u0000-\u001F]$/;h.exports=function(l,p){for(var y=!0,m="";p<l.length;){var P=M(l,p);if(P==="\\"){var N=d(l,p,p+2);if(u(c,N))m+=c[N],p+=2;else if(N==="\\u"){p+=2;var L=d(l,p,p+4);if(!o(v,L))throw f("Bad Unicode escape at: "+p);m+=x(S(L,16)),p+=4}else throw f('Unknown escape sequence: "'+N+'"')}else if(P==='"'){y=!1,p++;break}else{if(o(A,P))throw f("Bad control character in string literal at: "+p);m+=P,p++}}if(y)throw f("Unterminated string at: "+p);return{value:m,end:p}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMFilterFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=z,a.getColorValues=he,a.getCurrentTransform=le,a.getCurrentTransformInverse=de,a.getFilenameFromUrl=m,a.getPdfFilenameFromUrl=P,a.getRGB=J,a.getXfaPageViewport=j,a.isDataScheme=p,a.isPdfFile=y,a.isValidFetchUrl=L,a.loadScript=F,a.noContextMenu=w,a.setLayerDimensions=fe,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89),n(84),n(86),n(87);var i=n(169),u=n(1);const f="http://www.w3.org/2000/svg";class S{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}a.PixelsPerInch=S;class x extends i.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#u;#i;#f=0;constructor(){let{docId:Y,ownerDocument:I=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.#n=Y,this.#r=I}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const Y=this.#r.createElement("div"),{style:I}=Y;I.visibility="hidden",I.contain="strict",I.width=I.height=0,I.position="absolute",I.top=I.left=0,I.zIndex=-1;const C=this.#r.createElementNS(f,"svg");C.setAttribute("width",0),C.setAttribute("height",0),this.#t=this.#r.createElementNS(f,"defs"),Y.append(C),C.append(this.#t),this.#r.body.append(Y)}return this.#t}addFilter(Y){if(!Y)return"none";let I=this.#d.get(Y);if(I)return I;let C,k,T,B;if(Y.length===1){const E=Y[0],R=new Array(256);for(let O=0;O<256;O++)R[O]=E[O]/255;B=C=k=T=R.join(",")}else{const[E,R,O]=Y,_=new Array(256),D=new Array(256),X=new Array(256);for(let Q=0;Q<256;Q++)_[Q]=E[Q]/255,D[Q]=R[Q]/255,X[Q]=O[Q]/255;C=_.join(","),k=D.join(","),T=X.join(","),B=`${C}${k}${T}`}if(I=this.#d.get(B),I)return this.#d.set(Y,I),I;const H=`g_${this.#n}_transfer_map_${this.#f++}`,G=`url(#${H})`;this.#d.set(Y,G),this.#d.set(B,G);const W=this.#v(H);return this.#g(C,k,T,W),G}addHCMFilter(Y,I){const C=`${Y}-${I}`;if(this.#a===C)return this.#s;if(this.#a=C,this.#s="none",this.#o?.remove(),!Y||!I)return this.#s;const k=this.#c(Y);Y=u.Util.makeHexColor(...k);const T=this.#c(I);if(I=u.Util.makeHexColor(...T),this.#h.style.color="",Y==="#000000"&&I==="#ffffff"||Y===I)return this.#s;const B=new Array(256);for(let R=0;R<=255;R++){const O=R/255;B[R]=O<=.03928?O/12.92:((O+.055)/1.055)**2.4}const H=B.join(","),G=`g_${this.#n}_hcm_filter`,W=this.#l=this.#v(G);this.#g(H,H,H,W),this.#p(W);const E=(R,O)=>{const _=k[R]/255,D=T[R]/255,X=new Array(O+1);for(let Q=0;Q<=O;Q++)X[Q]=_+Q/O*(D-_);return X.join(",")};return this.#g(E(0,5),E(1,5),E(2,5),W),this.#s=`url(#${G})`,this.#s}addHighlightHCMFilter(Y,I,C,k){const T=`${Y}-${I}-${C}-${k}`;if(this.#u===T)return this.#i;if(this.#u=T,this.#i="none",this.#l?.remove(),!Y||!I)return this.#i;const[B,H]=[Y,I].map(this.#c.bind(this));let G=Math.round(.2126*B[0]+.7152*B[1]+.0722*B[2]),W=Math.round(.2126*H[0]+.7152*H[1]+.0722*H[2]),[E,R]=[C,k].map(this.#c.bind(this));W<G&&([G,W,E,R]=[W,G,R,E]),this.#h.style.color="";const O=(X,Q,te)=>{const Se=new Array(256),se=(W-G)/te,ue=X/255,pe=(Q-X)/(255*te);let ge=0;for(let me=0;me<=te;me++){const Ce=Math.round(G+me*se),Te=ue+me*pe;for(let Fe=ge;Fe<=Ce;Fe++)Se[Fe]=Te;ge=Ce+1}for(let me=ge;me<256;me++)Se[me]=Se[ge-1];return Se.join(",")},_=`g_${this.#n}_hcm_highlight_filter`,D=this.#l=this.#v(_);return this.#p(D),this.#g(O(E[0],R[0],5),O(E[1],R[1],5),O(E[2],R[2],5),D),this.#i=`url(#${_})`,this.#i}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(Y){const I=this.#r.createElementNS(f,"feColorMatrix");I.setAttribute("type","matrix"),I.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(I)}#v(Y){const I=this.#r.createElementNS(f,"filter");return I.setAttribute("color-interpolation-filters","sRGB"),I.setAttribute("id",Y),this.#h.append(I),I}#m(Y,I,C){const k=this.#r.createElementNS(f,I);k.setAttribute("type","discrete"),k.setAttribute("tableValues",C),Y.append(k)}#g(Y,I,C,k){const T=this.#r.createElementNS(f,"feComponentTransfer");k.append(T),this.#m(T,"feFuncR",Y),this.#m(T,"feFuncG",I),this.#m(T,"feFuncB",C)}#c(Y){return this.#h.style.color=Y,J(getComputedStyle(this.#h).getPropertyValue("color"))}}a.DOMFilterFactory=x;class M extends i.BaseCanvasFactory{constructor(){let{ownerDocument:Y=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Y}_createCanvas(Y,I){const C=this._document.createElement("canvas");return C.width=Y,C.height=I,C}}a.DOMCanvasFactory=M;async function d(ne){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L(ne,document.baseURI)){const I=await fetch(ne);if(!I.ok)throw new Error(I.statusText);return Y?new Uint8Array(await I.arrayBuffer()):(0,u.stringToBytes)(await I.text())}return new Promise((I,C)=>{const k=new XMLHttpRequest;k.open("GET",ne,!0),Y&&(k.responseType="arraybuffer"),k.onreadystatechange=()=>{if(k.readyState===XMLHttpRequest.DONE){if(k.status===200||k.status===0){let T;if(Y&&k.response?T=new Uint8Array(k.response):!Y&&k.responseText&&(T=(0,u.stringToBytes)(k.responseText)),T){I(T);return}}C(new Error(k.statusText))}},k.send(null)})}class o extends i.BaseCMapReaderFactory{_fetchData(Y,I){return d(Y,this.isCompressed).then(C=>({cMapData:C,compressionType:I}))}}a.DOMCMapReaderFactory=o;class c extends i.BaseStandardFontDataFactory{_fetchData(Y){return d(Y,!0)}}a.DOMStandardFontDataFactory=c;class v extends i.BaseSVGFactory{_createSVG(Y){return document.createElementNS(f,Y)}}a.DOMSVGFactory=v;class A{constructor(Y){let{viewBox:I,scale:C,rotation:k,offsetX:T=0,offsetY:B=0,dontFlip:H=!1}=Y;this.viewBox=I,this.scale=C,this.rotation=k,this.offsetX=T,this.offsetY=B;const G=(I[2]+I[0])/2,W=(I[3]+I[1])/2;let E,R,O,_;switch(k%=360,k<0&&(k+=360),k){case 180:E=-1,R=0,O=0,_=1;break;case 90:E=0,R=1,O=1,_=0;break;case 270:E=0,R=-1,O=-1,_=0;break;case 0:E=1,R=0,O=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}H&&(O=-O,_=-_);let D,X,Q,te;E===0?(D=Math.abs(W-I[1])*C+T,X=Math.abs(G-I[0])*C+B,Q=(I[3]-I[1])*C,te=(I[2]-I[0])*C):(D=Math.abs(G-I[0])*C+T,X=Math.abs(W-I[1])*C+B,Q=(I[2]-I[0])*C,te=(I[3]-I[1])*C),this.transform=[E*C,R*C,O*C,_*C,D-E*C*G-O*C*W,X-R*C*G-_*C*W],this.width=Q,this.height=te}get rawDims(){const{viewBox:Y}=this;return(0,u.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone(){let{scale:Y=this.scale,rotation:I=this.rotation,offsetX:C=this.offsetX,offsetY:k=this.offsetY,dontFlip:T=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new A({viewBox:this.viewBox.slice(),scale:Y,rotation:I,offsetX:C,offsetY:k,dontFlip:T})}convertToViewportPoint(Y,I){return u.Util.applyTransform([Y,I],this.transform)}convertToViewportRectangle(Y){const I=u.Util.applyTransform([Y[0],Y[1]],this.transform),C=u.Util.applyTransform([Y[2],Y[3]],this.transform);return[I[0],I[1],C[0],C[1]]}convertToPdfPoint(Y,I){return u.Util.applyInverseTransform([Y,I],this.transform)}}a.PageViewport=A;class l extends u.BaseException{constructor(Y){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Y,"RenderingCancelledException"),this.extraDelay=I}}a.RenderingCancelledException=l;function p(ne){const Y=ne.length;let I=0;for(;I<Y&&ne[I].trim()==="";)I++;return ne.substring(I,I+5).toLowerCase()==="data:"}function y(ne){return typeof ne=="string"&&/\.pdf$/i.test(ne)}function m(ne){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([ne]=ne.split(/[#?]/,1)),ne.substring(ne.lastIndexOf("/")+1)}function P(ne){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof ne!="string")return Y;if(p(ne))return(0,u.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,C=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,k=I.exec(ne);let T=C.exec(k[1])||C.exec(k[2])||C.exec(k[3]);if(T&&(T=T[0],T.includes("%")))try{T=C.exec(decodeURIComponent(T))[0]}catch{}return T||Y}class N{started=Object.create(null);times=[];time(Y){Y in this.started&&(0,u.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,u.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let I=0;for(const{name:C}of this.times)I=Math.max(C.length,I);for(const{name:C,start:k,end:T}of this.times)Y.push(`${C.padEnd(I)} ${T-k}ms
`);return Y.join("")}}a.StatTimer=N;function L(ne,Y){try{const{protocol:I}=Y?new URL(ne,Y):new URL(ne);return I==="http:"||I==="https:"}catch{return!1}}function w(ne){ne.preventDefault()}function F(ne){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((I,C)=>{const k=document.createElement("script");k.src=ne,k.onload=function(T){Y&&k.remove(),I(T)},k.onerror=function(){C(new Error(`Cannot load script at: ${k.src}`))},(document.head||document.documentElement).append(k)})}function z(ne){console.log("Deprecated API usage: "+ne)}let V;class ${static toDateObject(Y){if(!Y||typeof Y!="string")return null;V||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const I=V.exec(Y);if(!I)return null;const C=parseInt(I[1],10);let k=parseInt(I[2],10);k=k>=1&&k<=12?k-1:0;let T=parseInt(I[3],10);T=T>=1&&T<=31?T:1;let B=parseInt(I[4],10);B=B>=0&&B<=23?B:0;let H=parseInt(I[5],10);H=H>=0&&H<=59?H:0;let G=parseInt(I[6],10);G=G>=0&&G<=59?G:0;const W=I[7]||"Z";let E=parseInt(I[8],10);E=E>=0&&E<=23?E:0;let R=parseInt(I[9],10)||0;return R=R>=0&&R<=59?R:0,W==="-"?(B+=E,H+=R):W==="+"&&(B-=E,H-=R),new Date(Date.UTC(C,k,T,B,H,G))}}a.PDFDateString=$;function j(ne,Y){let{scale:I=1,rotation:C=0}=Y;const{width:k,height:T}=ne.attributes.style,B=[0,0,parseInt(k),parseInt(T)];return new A({viewBox:B,scale:I,rotation:C})}function J(ne){if(ne.startsWith("#")){const Y=parseInt(ne.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return ne.startsWith("rgb(")?ne.slice(4,-1).split(",").map(Y=>parseInt(Y)):ne.startsWith("rgba(")?ne.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,u.warn)(`Not a valid color format: "${ne}"`),[0,0,0])}function he(ne){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const I of ne.keys()){Y.style.color=I;const C=window.getComputedStyle(Y).color;ne.set(I,J(C))}Y.remove()}function le(ne){const{a:Y,b:I,c:C,d:k,e:T,f:B}=ne.getTransform();return[Y,I,C,k,T,B]}function de(ne){const{a:Y,b:I,c:C,d:k,e:T,f:B}=ne.getTransform().invertSelf();return[Y,I,C,k,T,B]}function fe(ne,Y){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Y instanceof A){const{pageWidth:k,pageHeight:T}=Y.rawDims,{style:B}=ne,H=u.FeatureTest.isCSSRoundSupported,G=`var(--scale-factor) * ${k}px`,W=`var(--scale-factor) * ${T}px`,E=H?`round(${G}, 1px)`:`calc(${G})`,R=H?`round(${W}, 1px)`:`calc(${W})`;!I||Y.rotation%180===0?(B.width=E,B.height=R):(B.width=R,B.height=E)}C&&ne.setAttribute("data-main-rotation",Y.rotation)}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseFilterFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0,n(2);var i=n(1);class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(o){return"none"}addHCMFilter(o,c){return"none"}addHighlightHCMFilter(o,c,v,A){return"none"}destroy(){}}a.BaseFilterFactory=u;class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,c){if(o<=0||c<=0)throw new Error("Invalid canvas size");const v=this._createCanvas(o,c);return{canvas:v,context:v.getContext("2d")}}reset(o,c,v){if(!o.canvas)throw new Error("Canvas is not specified");if(c<=0||v<=0)throw new Error("Invalid canvas size");o.canvas.width=c,o.canvas.height=v}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,c){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=f;class S{constructor(o){let{baseUrl:c=null,isCompressed:v=!0}=o;this.constructor===S&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=v}async fetch(o){let{name:c}=o;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const v=this.baseUrl+c+(this.isCompressed?".bcmap":""),A=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(v,A).catch(l=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${v}`)})}_fetchData(o,c){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=S;class x{constructor(o){let{baseUrl:c=null}=o;this.constructor===x&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}async fetch(o){let{filename:c}=o;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const v=`${this.baseUrl}${c}`;return this._fetchData(v).catch(A=>{throw new Error(`Unable to load font data at: ${v}`)})}_fetchData(o){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=x;class M{constructor(){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,c){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(o<=0||c<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),v||(A.setAttribute("width",`${o}px`),A.setAttribute("height",`${c}px`)),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${o} ${c}`),A}createElement(o){if(typeof o!="string")throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=M}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2);var i=n(1);const u=3285377520,f=4294901760,S=65535;class x{constructor(d){this.h1=d?d&4294967295:u,this.h2=d?d&4294967295:u}update(d){let o,c;if(typeof d=="string"){o=new Uint8Array(d.length*2),c=0;for(let z=0,V=d.length;z<V;z++){const $=d.charCodeAt(z);$<=255?o[c++]=$:(o[c++]=$>>>8,o[c++]=$&255)}}else if((0,i.isArrayBuffer)(d))o=d.slice(),c=o.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const v=c>>2,A=c-v*4,l=new Uint32Array(o.buffer,0,v);let p=0,y=0,m=this.h1,P=this.h2;const N=3432918353,L=461845907,w=N&S,F=L&S;for(let z=0;z<v;z++)z&1?(p=l[z],p=p*N&f|p*w&S,p=p<<15|p>>>17,p=p*L&f|p*F&S,m^=p,m=m<<13|m>>>19,m=m*5+3864292196):(y=l[z],y=y*N&f|y*w&S,y=y<<15|y>>>17,y=y*L&f|y*F&S,P^=y,P=P<<13|P>>>19,P=P*5+3864292196);switch(p=0,A){case 3:p^=o[v*4+2]<<16;case 2:p^=o[v*4+1]<<8;case 1:p^=o[v*4],p=p*N&f|p*w&S,p=p<<15|p>>>17,p=p*L&f|p*F&S,v&1?m^=p:P^=p}this.h1=m,this.h2=P}hexdigest(){let d=this.h1,o=this.h2;return d^=o>>>1,d=d*3981806797&f|d*36045&S,o=o*4283543511&f|((o<<16|d>>>16)*2950163797&f)>>>16,d^=o>>>1,d=d*444984403&f|d*60499&S,o=o*3301882366&f|((o<<16|d>>>16)*3120437893&f)>>>16,d^=o>>>1,(d>>>0).toString(16).padStart(8,"0")+(o>>>0).toString(16).padStart(8,"0")}}a.MurmurHash3_64=x}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0,n(125),n(136),n(138),n(141),n(143),n(145),n(147),n(89),n(149);var i=n(1);class u{#e=new Set;constructor(x){let{ownerDocument:M=globalThis.document,styleElement:d=null}=x;this._document=M,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(x){this.nativeFontFaces.add(x),this._document.fonts.add(x)}removeNativeFontFace(x){this.nativeFontFaces.delete(x),this._document.fonts.delete(x)}insertRule(x){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const M=this.styleElement.sheet;M.insertRule(x,M.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(x){if(!(!x||this.#e.has(x.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:M,src:d,style:o}=x,c=new FontFace(M,d,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(M)}catch{(0,i.warn)(`Cannot load system font: ${x.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(x){if(x.attached||x.missingFile&&!x.systemFontInfo)return;if(x.attached=!0,x.systemFontInfo){await this.loadSystemFont(x.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=x.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(o){throw(0,i.warn)(`Failed to load font '${d.family}': '${o}'.`),x.disableFontFace=!0,o}}return}const M=x.createFontFaceRule();if(M){if(this.insertRule(M),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const o=this._queueLoadingCallback(d);this._prepareFontLoadEvent(x,o)})}}get isFontLoadingAPISupported(){const x=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",x)}get isSyncFontLoadingSupported(){let x=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(x=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){function M(){for((0,i.assert)(!o.done,"completeRequest() cannot be called twice."),o.done=!0;d.length>0&&d[0].done;){const c=d.shift();setTimeout(c.callback,0)}}const{loadingRequests:d}=this,o={done:!1,complete:M,callback:x};return d.push(o),o}get _loadTestFont(){const x=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",x)}_prepareFontLoadEvent(x,M){function d(j,J){return j.charCodeAt(J)<<24|j.charCodeAt(J+1)<<16|j.charCodeAt(J+2)<<8|j.charCodeAt(J+3)&255}function o(j,J,he,le){const de=j.substring(0,J),fe=j.substring(J+he);return de+le+fe}let c,v;const A=this._document.createElement("canvas");A.width=1,A.height=1;const l=A.getContext("2d");let p=0;function y(j,J){if(++p>30){(0,i.warn)("Load test font never loaded."),J();return}if(l.font="30px "+j,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(y.bind(null,j,J))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=o(P,976,m.length,m);const L=16,w=1482184792;let F=d(P,L);for(c=0,v=m.length-3;c<v;c+=4)F=F-w+d(m,c)|0;c<m.length&&(F=F-w+d(m+"XXX",c)|0),P=o(P,L,4,(0,i.string32)(F));const z=`url(data:font/opentype;base64,${btoa(P)});`,V=`@font-face {font-family:"${m}";src:${z}}`;this.insertRule(V);const $=this._document.createElement("div");$.style.visibility="hidden",$.style.width=$.style.height="10px",$.style.position="absolute",$.style.top=$.style.left="0px";for(const j of[x.loadedName,m]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=j,$.append(J)}this._document.body.append($),y(m,()=>{$.remove(),M.complete()})}}a.FontLoader=u;class f{constructor(x,M){let{isEvalSupported:d=!0,disableFontFace:o=!1,ignoreErrors:c=!1,inspectFont:v=null}=M;this.compiledGlyphs=Object.create(null);for(const A in x)this[A]=x[A];this.isEvalSupported=d!==!1,this.disableFontFace=o===!0,this.ignoreErrors=c===!0,this._inspectFont=v}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{const M={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(M.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,M)}return this._inspectFont?.(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,i.bytesToString)(this.data),M=`url(data:${this.mimetype};base64,${btoa(x)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${M}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${M}}`}return this._inspectFont?.(this,M),d}getPathGenerator(x,M){if(this.compiledGlyphs[M]!==void 0)return this.compiledGlyphs[M];let d;try{d=x.get(this.loadedName+"_path_"+M)}catch(o){if(!this.ignoreErrors)throw o;return(0,i.warn)(`getPathGenerator - ignoring character: "${o}".`),this.compiledGlyphs[M]=function(c,v){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const o=[];for(const c of d){const v=c.args!==void 0?c.args.join(","):"";o.push("c.",c.cmd,"(",v,`);
`)}return this.compiledGlyphs[M]=new Function("c","size",o.join(""))}return this.compiledGlyphs[M]=function(o,c){for(const v of d)v.cmd==="scale"&&(v.args=[c,-c]),o[v.cmd].apply(o,v.args)}}}a.FontFaceObject=f}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeFilterFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var i=n(169),u=n(1);(function(){if(!(globalThis.DOMMatrix||!u.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(c){(0,u.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${c}".`)}})(),(function(){if(!(globalThis.Path2D||!u.isNodeJS))try{const{CanvasRenderingContext2D:c}=require$$6,{polyfillPath2D:v}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=c,v(globalThis)}catch(c){(0,u.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${c}".`)}})();const f=function(o){return new Promise((c,v)=>{require$$6.readFile(o,(l,p)=>{if(l||!p){v(new Error(l));return}c(new Uint8Array(p))})})};class S extends i.BaseFilterFactory{}a.NodeFilterFactory=S;class x extends i.BaseCanvasFactory{_createCanvas(c,v){return require$$6.createCanvas(c,v)}}a.NodeCanvasFactory=x;class M extends i.BaseCMapReaderFactory{_fetchData(c,v){return f(c).then(A=>({cMapData:A,compressionType:v}))}}a.NodeCMapReaderFactory=M;class d extends i.BaseStandardFontDataFactory{_fetchData(c){return f(c)}}a.NodeStandardFontDataFactory=d}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var i=n(1),u=n(168),f=n(174),S=n(175);const x=16,M=100,d=4096,o=15,c=10,v=1e3,A=16;function l(I,C){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){C.save(),this.__originalSave()},I.restore=function(){C.restore(),this.__originalRestore()},I.translate=function(T,B){C.translate(T,B),this.__originalTranslate(T,B)},I.scale=function(T,B){C.scale(T,B),this.__originalScale(T,B)},I.transform=function(T,B,H,G,W,E){C.transform(T,B,H,G,W,E),this.__originalTransform(T,B,H,G,W,E)},I.setTransform=function(T,B,H,G,W,E){C.setTransform(T,B,H,G,W,E),this.__originalSetTransform(T,B,H,G,W,E)},I.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},I.rotate=function(T){C.rotate(T),this.__originalRotate(T)},I.clip=function(T){C.clip(T),this.__originalClip(T)},I.moveTo=function(k,T){C.moveTo(k,T),this.__originalMoveTo(k,T)},I.lineTo=function(k,T){C.lineTo(k,T),this.__originalLineTo(k,T)},I.bezierCurveTo=function(k,T,B,H,G,W){C.bezierCurveTo(k,T,B,H,G,W),this.__originalBezierCurveTo(k,T,B,H,G,W)},I.rect=function(k,T,B,H){C.rect(k,T,B,H),this.__originalRect(k,T,B,H)},I.closePath=function(){C.closePath(),this.__originalClosePath()},I.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class p{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,k,T){let B;return this.cache[C]!==void 0?(B=this.cache[C],this.canvasFactory.reset(B,k,T)):(B=this.canvasFactory.create(k,T),this.cache[C]=B),B}delete(C){delete this.cache[C]}clear(){for(const C in this.cache){const k=this.cache[C];this.canvasFactory.destroy(k),delete this.cache[C]}}}function y(I,C,k,T,B,H,G,W,E,R){const[O,_,D,X,Q,te]=(0,u.getCurrentTransform)(I);if(_===0&&D===0){const ue=G*O+Q,pe=Math.round(ue),ge=W*X+te,me=Math.round(ge),Ce=(G+E)*O+Q,Te=Math.abs(Math.round(Ce)-pe)||1,Fe=(W+R)*X+te,Ue=Math.abs(Math.round(Fe)-me)||1;return I.setTransform(Math.sign(O),0,0,Math.sign(X),pe,me),I.drawImage(C,k,T,B,H,0,0,Te,Ue),I.setTransform(O,_,D,X,Q,te),[Te,Ue]}if(O===0&&X===0){const ue=W*D+Q,pe=Math.round(ue),ge=G*_+te,me=Math.round(ge),Ce=(W+R)*D+Q,Te=Math.abs(Math.round(Ce)-pe)||1,Fe=(G+E)*_+te,Ue=Math.abs(Math.round(Fe)-me)||1;return I.setTransform(0,Math.sign(_),Math.sign(D),0,pe,me),I.drawImage(C,k,T,B,H,0,0,Ue,Te),I.setTransform(O,_,D,X,Q,te),[Ue,Te]}I.drawImage(C,k,T,B,H,G,W,E,R);const Se=Math.hypot(O,_),se=Math.hypot(D,X);return[Se*E,se*R]}function m(I){const{width:C,height:k}=I;if(C>v||k>v)return null;const T=1e3,B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),H=C+1;let G=new Uint8Array(H*(k+1)),W,E,R;const O=C+7&-8;let _=new Uint8Array(O*k),D=0;for(const se of I.data){let ue=128;for(;ue>0;)_[D++]=se&ue?0:255,ue>>=1}let X=0;for(D=0,_[D]!==0&&(G[0]=1,++X),E=1;E<C;E++)_[D]!==_[D+1]&&(G[E]=_[D]?2:1,++X),D++;for(_[D]!==0&&(G[E]=2,++X),W=1;W<k;W++){D=W*O,R=W*H,_[D-O]!==_[D]&&(G[R]=_[D]?1:8,++X);let se=(_[D]?4:0)+(_[D-O]?8:0);for(E=1;E<C;E++)se=(se>>2)+(_[D+1]?4:0)+(_[D-O+1]?8:0),B[se]&&(G[R+E]=B[se],++X),D++;if(_[D-O]!==_[D]&&(G[R+E]=_[D]?2:4,++X),X>T)return null}for(D=O*(k-1),R=W*H,_[D]!==0&&(G[R]=8,++X),E=1;E<C;E++)_[D]!==_[D+1]&&(G[R+E]=_[D]?4:8,++X),D++;if(_[D]!==0&&(G[R+E]=4,++X),X>T)return null;const Q=new Int32Array([0,H,-1,0,-H,0,0,0,1]),te=new Path2D;for(W=0;X&&W<=k;W++){let se=W*H;const ue=se+C;for(;se<ue&&!G[se];)se++;if(se===ue)continue;te.moveTo(se%H,W);const pe=se;let ge=G[se];do{const me=Q[ge];do se+=me;while(!G[se]);const Ce=G[se];Ce!==5&&Ce!==10?(ge=Ce,G[se]=0):(ge=Ce&51*ge>>4,G[se]&=ge>>2|ge<<2),te.lineTo(se%H,se/H|0),G[se]||--X}while(pe!==se);--W}return _=null,G=null,function(se){se.save(),se.scale(1/C,-1/k),se.translate(0,-k),se.fill(te),se.beginPath(),se.restore()}}class P{constructor(C,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,C,k])}clone(){const C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,k){this.x=C,this.y=k}updatePathMinMax(C,k,T){[k,T]=i.Util.applyTransform([k,T],C),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,T)}updateRectMinMax(C,k){const T=i.Util.applyTransform(k,C),B=i.Util.applyTransform(k.slice(2),C);this.minX=Math.min(this.minX,T[0],B[0]),this.minY=Math.min(this.minY,T[1],B[1]),this.maxX=Math.max(this.maxX,T[0],B[0]),this.maxY=Math.max(this.maxY,T[1],B[1])}updateScalingPathMinMax(C,k){i.Util.scaleMinMax(C,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(C,k,T,B,H,G,W,E,R,O){const _=i.Util.bezierBoundingBox(k,T,B,H,G,W,E,R);if(O){O[0]=Math.min(O[0],_[0],_[2]),O[1]=Math.max(O[1],_[0],_[2]),O[2]=Math.min(O[2],_[1],_[3]),O[3]=Math.max(O[3],_[1],_[3]);return}this.updateRectMinMax(C,_)}getPathBoundingBox(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const T=[this.minX,this.minY,this.maxX,this.maxY];if(C===f.PathType.STROKE){k||(0,i.unreachable)("Stroke bounding box must include transform.");const B=i.Util.singularValueDecompose2dScale(k),H=B[0]*this.lineWidth/2,G=B[1]*this.lineWidth/2;T[0]-=H,T[1]-=G,T[2]+=H,T[3]+=G}return T}updateClipFromPath(){const C=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(C,k))}}function N(I,C){if(typeof ImageData<"u"&&C instanceof ImageData){I.putImageData(C,0,0);return}const k=C.height,T=C.width,B=k%A,H=(k-B)/A,G=B===0?H:H+1,W=I.createImageData(T,A);let E=0,R;const O=C.data,_=W.data;let D,X,Q,te;if(C.kind===i.ImageKind.GRAYSCALE_1BPP){const Se=O.byteLength,se=new Uint32Array(_.buffer,0,_.byteLength>>2),ue=se.length,pe=T+7>>3,ge=4294967295,me=i.FeatureTest.isLittleEndian?4278190080:255;for(D=0;D<G;D++){for(Q=D<H?A:B,R=0,X=0;X<Q;X++){const Ce=Se-E;let Te=0;const Fe=Ce>pe?T:Ce*8-7,Ue=Fe&-8;let We=0,Ye=0;for(;Te<Ue;Te+=8)Ye=O[E++],se[R++]=Ye&128?ge:me,se[R++]=Ye&64?ge:me,se[R++]=Ye&32?ge:me,se[R++]=Ye&16?ge:me,se[R++]=Ye&8?ge:me,se[R++]=Ye&4?ge:me,se[R++]=Ye&2?ge:me,se[R++]=Ye&1?ge:me;for(;Te<Fe;Te++)We===0&&(Ye=O[E++],We=128),se[R++]=Ye&We?ge:me,We>>=1}for(;R<ue;)se[R++]=0;I.putImageData(W,0,D*A)}}else if(C.kind===i.ImageKind.RGBA_32BPP){for(X=0,te=T*A*4,D=0;D<H;D++)_.set(O.subarray(E,E+te)),E+=te,I.putImageData(W,0,X),X+=A;D<G&&(te=T*B*4,_.set(O.subarray(E,E+te)),I.putImageData(W,0,X))}else if(C.kind===i.ImageKind.RGB_24BPP)for(Q=A,te=T*Q,D=0;D<G;D++){for(D>=H&&(Q=B,te=T*Q),R=0,X=te;X--;)_[R++]=O[E++],_[R++]=O[E++],_[R++]=O[E++],_[R++]=255;I.putImageData(W,0,D*A)}else throw new Error(`bad image kind: ${C.kind}`)}function L(I,C){if(C.bitmap){I.drawImage(C.bitmap,0,0);return}const k=C.height,T=C.width,B=k%A,H=(k-B)/A,G=B===0?H:H+1,W=I.createImageData(T,A);let E=0;const R=C.data,O=W.data;for(let _=0;_<G;_++){const D=_<H?A:B;({srcPos:E}=(0,S.convertBlackAndWhiteToRGBA)({src:R,srcPos:E,dest:O,width:T,height:D,nonBlackColor:0})),I.putImageData(W,0,_*A)}}function w(I,C){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const T of k)I[T]!==void 0&&(C[T]=I[T]);I.setLineDash!==void 0&&(C.setLineDash(I.getLineDash()),C.lineDashOffset=I.lineDashOffset)}function F(I){if(I.strokeStyle=I.fillStyle="#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",I.setLineDash!==void 0&&(I.setLineDash([]),I.lineDashOffset=0),!i.isNodeJS){const{filter:C}=I;C!=="none"&&C!==""&&(I.filter="none")}}function z(I,C,k,T){const B=I.length;for(let H=3;H<B;H+=4){const G=I[H];if(G===0)I[H-3]=C,I[H-2]=k,I[H-1]=T;else if(G<255){const W=255-G;I[H-3]=I[H-3]*G+C*W>>8,I[H-2]=I[H-2]*G+k*W>>8,I[H-1]=I[H-1]*G+T*W>>8}}}function V(I,C,k){const T=I.length,B=1/255;for(let H=3;H<T;H+=4){const G=k?k[I[H]]:I[H];C[H]=C[H]*G*B|0}}function $(I,C,k){const T=I.length;for(let B=3;B<T;B+=4){const H=I[B-3]*77+I[B-2]*152+I[B-1]*28;C[B]=k?C[B]*k[H>>8]>>8:C[B]*H>>16}}function j(I,C,k,T,B,H,G,W,E,R,O){const _=!!H,D=_?H[0]:0,X=_?H[1]:0,Q=_?H[2]:0,te=B==="Luminosity"?$:V,se=Math.min(T,Math.ceil(1048576/k));for(let ue=0;ue<T;ue+=se){const pe=Math.min(se,T-ue),ge=I.getImageData(W-R,ue+(E-O),k,pe),me=C.getImageData(W,ue+E,k,pe);_&&z(ge.data,D,X,Q),te(ge.data,me.data,G),C.putImageData(me,W,ue+E)}}function J(I,C,k,T){const B=T[0],H=T[1],G=T[2]-B,W=T[3]-H;G===0||W===0||(j(C.context,k,G,W,C.subtype,C.backdrop,C.transferMap,B,H,C.offsetX,C.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(k.canvas,0,0),I.restore())}function he(I,C){const k=i.Util.singularValueDecompose2dScale(I);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const T=Math.fround((globalThis.devicePixelRatio||1)*u.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:k[0]<=T||k[1]<=T}const le=["butt","round","square"],de=["miter","round","bevel"],fe={},ne={};class Y{constructor(C,k,T,B,H,G,W,E){let{optionalContentConfig:R,markedContentStack:O=null}=G;this.ctx=C,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=T,this.canvasFactory=B,this.filterFactory=H,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=O||[],this.optionalContentConfig=R,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=E,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):k}beginDrawing(C){let{transform:k,viewport:T,transparency:B=!1,background:H=null}=C;const G=this.ctx.canvas.width,W=this.ctx.canvas.height,E=this.ctx.fillStyle;if(this.ctx.fillStyle=H||"#ffffff",this.ctx.fillRect(0,0,G,W),this.ctx.fillStyle=E,B){const R=this.cachedCanvases.getCanvas("transparent",G,W);this.compositeCtx=this.ctx,this.transparentCanvas=R.canvas,this.ctx=R.context,this.ctx.save(),this.ctx.transform(...(0,u.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...T.transform),this.viewportScale=T.scale,this.baseTransform=(0,u.getCurrentTransform)(this.ctx)}executeOperatorList(C,k,T,B){const H=C.argsArray,G=C.fnArray;let W=k||0;const E=H.length;if(E===W)return W;const R=E-W>c&&typeof T=="function",O=R?Date.now()+o:0;let _=0;const D=this.commonObjs,X=this.objs;let Q;for(;;){if(B!==void 0&&W===B.nextBreakPoint)return B.breakIt(W,T),W;if(Q=G[W],Q!==i.OPS.dependency)this[Q].apply(this,H[W]);else for(const te of H[W]){const Se=te.startsWith("g_")?D:X;if(!Se.has(te))return Se.get(te,T),W}if(W++,W===E)return W;if(R&&++_>c){if(Date.now()>O)return T(),W;_=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const C of this._cachedBitmapsMap.values()){for(const k of C.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const C=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(C!=="none"){const k=this.ctx.filter;this.ctx.filter=C,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=k}}}_scaleImage(C,k){const T=C.width,B=C.height;let H=Math.max(Math.hypot(k[0],k[1]),1),G=Math.max(Math.hypot(k[2],k[3]),1),W=T,E=B,R="prescale1",O,_;for(;H>2&&W>1||G>2&&E>1;){let D=W,X=E;H>2&&W>1&&(D=W>=16384?Math.floor(W/2)-1||1:Math.ceil(W/2),H/=W/D),G>2&&E>1&&(X=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E)/2,G/=E/X),O=this.cachedCanvases.getCanvas(R,D,X),_=O.context,_.clearRect(0,0,D,X),_.drawImage(C,0,0,W,E,0,0,D,X),C=O.canvas,W=D,E=X,R=R==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:W,paintHeight:E}}_createMaskCanvas(C){const k=this.ctx,{width:T,height:B}=C,H=this.current.fillColor,G=this.current.patternFill,W=(0,u.getCurrentTransform)(k);let E,R,O,_;if((C.bitmap||C.data)&&C.count>1){const Te=C.bitmap||C.data.buffer;R=JSON.stringify(G?W:[W.slice(0,4),H]),E=this._cachedBitmapsMap.get(Te),E||(E=new Map,this._cachedBitmapsMap.set(Te,E));const Fe=E.get(R);if(Fe&&!G){const Ue=Math.round(Math.min(W[0],W[2])+W[4]),We=Math.round(Math.min(W[1],W[3])+W[5]);return{canvas:Fe,offsetX:Ue,offsetY:We}}O=Fe}O||(_=this.cachedCanvases.getCanvas("maskCanvas",T,B),L(_.context,C));let D=i.Util.transform(W,[1/T,0,0,-1/B,0,0]);D=i.Util.transform(D,[1,0,0,1,0,-B]);const X=i.Util.applyTransform([0,0],D),Q=i.Util.applyTransform([T,B],D),te=i.Util.normalizeRect([X[0],X[1],Q[0],Q[1]]),Se=Math.round(te[2]-te[0])||1,se=Math.round(te[3]-te[1])||1,ue=this.cachedCanvases.getCanvas("fillCanvas",Se,se),pe=ue.context,ge=Math.min(X[0],Q[0]),me=Math.min(X[1],Q[1]);pe.translate(-ge,-me),pe.transform(...D),O||(O=this._scaleImage(_.canvas,(0,u.getCurrentTransformInverse)(pe)),O=O.img,E&&G&&E.set(R,O)),pe.imageSmoothingEnabled=he((0,u.getCurrentTransform)(pe),C.interpolate),y(pe,O,0,0,O.width,O.height,0,0,T,B),pe.globalCompositeOperation="source-in";const Ce=i.Util.transform((0,u.getCurrentTransformInverse)(pe),[1,0,0,1,-ge,-me]);return pe.fillStyle=G?H.getPattern(k,this,Ce,f.PathType.FILL):H,pe.fillRect(0,0,T,B),E&&!G&&(this.cachedCanvases.delete("fillCanvas"),E.set(R,ue.canvas)),{canvas:ue.canvas,offsetX:Math.round(ge),offsetY:Math.round(me)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=le[C]}setLineJoin(C){this.ctx.lineJoin=de[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,k){const T=this.ctx;T.setLineDash!==void 0&&(T.setLineDash(C),T.lineDashOffset=k)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[k,T]of C)switch(k){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=T;break;case"ca":this.current.fillAlpha=T,this.ctx.globalAlpha=T;break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(T);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const C=this.ctx.canvas.width,k=this.ctx.canvas.height,T="smaskGroupAt"+this.groupLevel,B=this.cachedCanvases.getCanvas(T,C,k);this.suspendedCtx=this.ctx,this.ctx=B.context;const H=this.ctx;H.setTransform(...(0,u.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,H),l(H,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,T=this.suspendedCtx;J(T,k,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(C,k,T,B,H,G){this.ctx.transform(C,k,T,B,H,G),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(C,k,T){const B=this.ctx,H=this.current;let G=H.x,W=H.y,E,R;const O=(0,u.getCurrentTransform)(B),_=O[0]===0&&O[3]===0||O[1]===0&&O[2]===0,D=_?T.slice(0):null;for(let X=0,Q=0,te=C.length;X<te;X++)switch(C[X]|0){case i.OPS.rectangle:G=k[Q++],W=k[Q++];const Se=k[Q++],se=k[Q++],ue=G+Se,pe=W+se;B.moveTo(G,W),Se===0||se===0?B.lineTo(ue,pe):(B.lineTo(ue,W),B.lineTo(ue,pe),B.lineTo(G,pe)),_||H.updateRectMinMax(O,[G,W,ue,pe]),B.closePath();break;case i.OPS.moveTo:G=k[Q++],W=k[Q++],B.moveTo(G,W),_||H.updatePathMinMax(O,G,W);break;case i.OPS.lineTo:G=k[Q++],W=k[Q++],B.lineTo(G,W),_||H.updatePathMinMax(O,G,W);break;case i.OPS.curveTo:E=G,R=W,G=k[Q+4],W=k[Q+5],B.bezierCurveTo(k[Q],k[Q+1],k[Q+2],k[Q+3],G,W),H.updateCurvePathMinMax(O,E,R,k[Q],k[Q+1],k[Q+2],k[Q+3],G,W,D),Q+=6;break;case i.OPS.curveTo2:E=G,R=W,B.bezierCurveTo(G,W,k[Q],k[Q+1],k[Q+2],k[Q+3]),H.updateCurvePathMinMax(O,E,R,G,W,k[Q],k[Q+1],k[Q+2],k[Q+3],D),G=k[Q+2],W=k[Q+3],Q+=4;break;case i.OPS.curveTo3:E=G,R=W,G=k[Q+2],W=k[Q+3],B.bezierCurveTo(k[Q],k[Q+1],G,W,G,W),H.updateCurvePathMinMax(O,E,R,k[Q],k[Q+1],G,W,G,W,D),Q+=4;break;case i.OPS.closePath:B.closePath();break}_&&H.updateScalingPathMinMax(O,D),H.setCurrentPoint(G,W)}closePath(){this.ctx.closePath()}stroke(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,T=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof T=="object"&&T?.getPattern?(k.save(),k.strokeStyle=T.getPattern(k,this,(0,u.getCurrentTransformInverse)(k),f.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const k=this.ctx,T=this.current.fillColor,B=this.current.patternFill;let H=!1;B&&(k.save(),k.fillStyle=T.getPattern(k,this,(0,u.getCurrentTransformInverse)(k),f.PathType.FILL),H=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),H&&k.restore(),C&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=fe}eoClip(){this.pendingClip=ne}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const C=this.pendingTextPaths,k=this.ctx;if(C===void 0){k.beginPath();return}k.save(),k.beginPath();for(const T of C)k.setTransform(...T.transform),k.translate(T.x,T.y),T.addToPath(k,T.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,k){const T=this.commonObjs.get(C),B=this.current;if(!T)throw new Error(`Can't find font for ${C}`);if(B.fontMatrix=T.fontMatrix||i.FONT_IDENTITY_MATRIX,(B.fontMatrix[0]===0||B.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+C),k<0?(k=-k,B.fontDirection=-1):B.fontDirection=1,this.current.font=T,this.current.fontSize=k,T.isType3Font)return;const H=T.loadedName||"sans-serif",G=T.systemFontInfo?.css||`"${H}", ${T.fallbackName}`;let W="normal";T.black?W="900":T.bold&&(W="bold");const E=T.italic?"italic":"normal";let R=k;k<x?R=x:k>M&&(R=M),this.current.fontSizeScale=k/R,this.ctx.font=`${E} ${W} ${R}px ${G}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,k){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=k}setLeadingMoveText(C,k){this.setLeading(-k),this.moveText(C,k)}setTextMatrix(C,k,T,B,H,G){this.current.textMatrix=[C,k,T,B,H,G],this.current.textMatrixScale=Math.hypot(C,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,k,T,B){const H=this.ctx,G=this.current,W=G.font,E=G.textRenderingMode,R=G.fontSize/G.fontSizeScale,O=E&i.TextRenderingMode.FILL_STROKE_MASK,_=!!(E&i.TextRenderingMode.ADD_TO_PATH_FLAG),D=G.patternFill&&!W.missingFile;let X;(W.disableFontFace||_||D)&&(X=W.getPathGenerator(this.commonObjs,C)),W.disableFontFace||D?(H.save(),H.translate(k,T),H.beginPath(),X(H,R),B&&H.setTransform(...B),(O===i.TextRenderingMode.FILL||O===i.TextRenderingMode.FILL_STROKE)&&H.fill(),(O===i.TextRenderingMode.STROKE||O===i.TextRenderingMode.FILL_STROKE)&&H.stroke(),H.restore()):((O===i.TextRenderingMode.FILL||O===i.TextRenderingMode.FILL_STROKE)&&H.fillText(C,k,T),(O===i.TextRenderingMode.STROKE||O===i.TextRenderingMode.FILL_STROKE)&&H.strokeText(C,k,T)),_&&(this.pendingTextPaths||=[]).push({transform:(0,u.getCurrentTransform)(H),x:k,y:T,fontSize:R,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);const k=C.getImageData(0,0,10,10).data;let T=!1;for(let B=3;B<k.length;B+=4)if(k[B]>0&&k[B]<255){T=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(C){const k=this.current,T=k.font;if(T.isType3Font)return this.showType3Text(C);const B=k.fontSize;if(B===0)return;const H=this.ctx,G=k.fontSizeScale,W=k.charSpacing,E=k.wordSpacing,R=k.fontDirection,O=k.textHScale*R,_=C.length,D=T.vertical,X=D?1:-1,Q=T.defaultVMetrics,te=B*k.fontMatrix[0],Se=k.textRenderingMode===i.TextRenderingMode.FILL&&!T.disableFontFace&&!k.patternFill;H.save(),H.transform(...k.textMatrix),H.translate(k.x,k.y+k.textRise),R>0?H.scale(O,-1):H.scale(O,1);let se;if(k.patternFill){H.save();const Ce=k.fillColor.getPattern(H,this,(0,u.getCurrentTransformInverse)(H),f.PathType.FILL);se=(0,u.getCurrentTransform)(H),H.restore(),H.fillStyle=Ce}let ue=k.lineWidth;const pe=k.textMatrixScale;if(pe===0||ue===0){const Ce=k.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Ce===i.TextRenderingMode.STROKE||Ce===i.TextRenderingMode.FILL_STROKE)&&(ue=this.getSinglePixelWidth())}else ue/=pe;if(G!==1&&(H.scale(G,G),ue/=G),H.lineWidth=ue,T.isInvalidPDFjsFont){const Ce=[];let Te=0;for(const Fe of C)Ce.push(Fe.unicode),Te+=Fe.width;H.fillText(Ce.join(""),0,0),k.x+=Te*te*O,H.restore(),this.compose();return}let ge=0,me;for(me=0;me<_;++me){const Ce=C[me];if(typeof Ce=="number"){ge+=X*Ce*B/1e3;continue}let Te=!1;const Fe=(Ce.isSpace?E:0)+W,Ue=Ce.fontChar,We=Ce.accent;let Ye,nt,ct=Ce.width;if(D){const Ze=Ce.vmetric||Q,ft=-(Ce.vmetric?Ze[1]:ct*.5)*te,qe=Ze[2]*te;ct=Ze?-Ze[0]:ct,Ye=ft/G,nt=(ge+qe)/G}else Ye=ge/G,nt=0;if(T.remeasure&&ct>0){const Ze=H.measureText(Ue).width*1e3/B*G;if(ct<Ze&&this.isFontSubpixelAAEnabled){const ft=ct/Ze;Te=!0,H.save(),H.scale(ft,1),Ye/=ft}else ct!==Ze&&(Ye+=(ct-Ze)/2e3*B/G)}if(this.contentVisible&&(Ce.isInFont||T.missingFile)){if(Se&&!We)H.fillText(Ue,Ye,nt);else if(this.paintChar(Ue,Ye,nt,se),We){const Ze=Ye+B*We.offset.x/G,ft=nt-B*We.offset.y/G;this.paintChar(We.fontChar,Ze,ft,se)}}const Lt=D?ct*te-Fe*R:ct*te+Fe*R;ge+=Lt,Te&&H.restore()}D?k.y-=ge:k.x+=ge*O,H.restore(),this.compose()}showType3Text(C){const k=this.ctx,T=this.current,B=T.font,H=T.fontSize,G=T.fontDirection,W=B.vertical?1:-1,E=T.charSpacing,R=T.wordSpacing,O=T.textHScale*G,_=T.fontMatrix||i.FONT_IDENTITY_MATRIX,D=C.length,X=T.textRenderingMode===i.TextRenderingMode.INVISIBLE;let Q,te,Se,se;if(!(X||H===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...T.textMatrix),k.translate(T.x,T.y),k.scale(O,G),Q=0;Q<D;++Q){if(te=C[Q],typeof te=="number"){se=W*te*H/1e3,this.ctx.translate(se,0),T.x+=se*O;continue}const ue=(te.isSpace?R:0)+E,pe=B.charProcOperatorList[te.operatorListId];if(!pe){(0,i.warn)(`Type3 character "${te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=te,this.save(),k.scale(H,H),k.transform(..._),this.executeOperatorList(pe),this.restore()),Se=i.Util.applyTransform([te.width,0],_)[0]*H+ue,k.translate(Se,0),T.x+=Se*O}k.restore(),this.processingType3=null}}setCharWidth(C,k){}setCharWidthAndBounds(C,k,T,B,H,G){this.ctx.rect(T,B,H-T,G-B),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let k;if(C[0]==="TilingPattern"){const T=C[1],B=this.baseTransform||(0,u.getCurrentTransform)(this.ctx),H={createCanvasGraphics:G=>new Y(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};k=new f.TilingPattern(C,T,this.ctx,H,B)}else k=this._getPattern(C[1],C[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,k,T){const B=i.Util.makeHexColor(C,k,T);this.ctx.strokeStyle=B,this.current.strokeColor=B}setFillRGBColor(C,k,T){const B=i.Util.makeHexColor(C,k,T);this.ctx.fillStyle=B,this.current.fillColor=B,this.current.patternFill=!1}_getPattern(C){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T;return this.cachedPatterns.has(C)?T=this.cachedPatterns.get(C):(T=(0,f.getShadingPattern)(this.getObject(C)),this.cachedPatterns.set(C,T)),k&&(T.matrix=k),T}shadingFill(C){if(!this.contentVisible)return;const k=this.ctx;this.save();const T=this._getPattern(C);k.fillStyle=T.getPattern(k,this,(0,u.getCurrentTransformInverse)(k),f.PathType.SHADING);const B=(0,u.getCurrentTransformInverse)(k);if(B){const{width:H,height:G}=k.canvas,[W,E,R,O]=i.Util.getAxialAlignedBoundingBox([0,0,H,G],B);this.ctx.fillRect(W,E,R-W,O-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,k){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,u.getCurrentTransform)(this.ctx),k)){const T=k[2]-k[0],B=k[3]-k[1];this.ctx.rect(k[0],k[1],T,B),this.current.updateRectMinMax((0,u.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;C.isolated||(0,i.info)("TODO: Support non-isolated groups."),C.knockout&&(0,i.warn)("Knockout groups not supported.");const T=(0,u.getCurrentTransform)(k);if(C.matrix&&k.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let B=i.Util.getAxialAlignedBoundingBox(C.bbox,(0,u.getCurrentTransform)(k));const H=[0,0,k.canvas.width,k.canvas.height];B=i.Util.intersect(B,H)||[0,0,0,0];const G=Math.floor(B[0]),W=Math.floor(B[1]);let E=Math.max(Math.ceil(B[2])-G,1),R=Math.max(Math.ceil(B[3])-W,1),O=1,_=1;E>d&&(O=E/d,E=d),R>d&&(_=R/d,R=d),this.current.startNewPathAndClipBox([0,0,E,R]);let D="groupAt"+this.groupLevel;C.smask&&(D+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(D,E,R),Q=X.context;Q.scale(1/O,1/_),Q.translate(-G,-W),Q.transform(...T),C.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:G,offsetY:W,scaleX:O,scaleY:_,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(G,W),k.scale(O,_),k.save()),w(k,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const B=(0,u.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...B);const H=i.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],B);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(H)}}beginAnnotation(C,k,T,B,H){if(this.#e(),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const G=k[2]-k[0],W=k[3]-k[1];if(H&&this.annotationCanvasMap){T=T.slice(),T[4]-=k[0],T[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=G,k[3]=W;const[E,R]=i.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(this.ctx)),{viewportScale:O}=this,_=Math.ceil(G*this.outputScaleX*O),D=Math.ceil(W*this.outputScaleY*O);this.annotationCanvas=this.canvasFactory.create(_,D);const{canvas:X,context:Q}=this.annotationCanvas;this.annotationCanvasMap.set(C,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.save(),this.ctx.setTransform(E,0,0,-R,0,W*R),F(this.ctx)}else F(this.ctx),this.ctx.rect(k[0],k[1],G,W),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...T),this.transform(...B)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;const k=C.count;C=this.getObject(C.data,C),C.count=k;const T=this.ctx,B=this.processingType3;if(B&&(B.compiled===void 0&&(B.compiled=m(C)),B.compiled)){B.compiled(T);return}const H=this._createMaskCanvas(C),G=H.canvas;T.save(),T.setTransform(1,0,0,1,0,0),T.drawImage(G,H.offsetX,H.offsetY),T.restore(),this.compose()}paintImageMaskXObjectRepeat(C,k){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,H=arguments.length>4?arguments[4]:void 0,G=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;C=this.getObject(C.data,C);const W=this.ctx;W.save();const E=(0,u.getCurrentTransform)(W);W.transform(k,T,B,H,0,0);const R=this._createMaskCanvas(C);W.setTransform(1,0,0,1,R.offsetX-E[4],R.offsetY-E[5]);for(let O=0,_=G.length;O<_;O+=2){const D=i.Util.transform(E,[k,T,B,H,G[O],G[O+1]]),[X,Q]=i.Util.applyTransform([0,0],D);W.drawImage(R.canvas,X,Q)}W.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;const k=this.ctx,T=this.current.fillColor,B=this.current.patternFill;for(const H of C){const{data:G,width:W,height:E,transform:R}=H,O=this.cachedCanvases.getCanvas("maskCanvas",W,E),_=O.context;_.save();const D=this.getObject(G,H);L(_,D),_.globalCompositeOperation="source-in",_.fillStyle=B?T.getPattern(_,this,(0,u.getCurrentTransformInverse)(k),f.PathType.FILL):T,_.fillRect(0,0,W,E),_.restore(),k.save(),k.transform(...R),k.scale(1,-1),y(k,O.canvas,0,0,W,E,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;const k=this.getObject(C);if(!k){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(C,k,T,B){if(!this.contentVisible)return;const H=this.getObject(C);if(!H){(0,i.warn)("Dependent image isn't ready yet");return}const G=H.width,W=H.height,E=[];for(let R=0,O=B.length;R<O;R+=2)E.push({transform:[k,0,0,T,B[R],B[R+1]],x:0,y:0,w:G,h:W});this.paintInlineImageXObjectGroup(H,E)}applyTransferMapsToCanvas(C){return this.current.transferMaps!=="none"&&(C.filter=this.current.transferMaps,C.drawImage(C.canvas,0,0),C.filter="none"),C.canvas}applyTransferMapsToBitmap(C){if(this.current.transferMaps==="none")return C.bitmap;const{bitmap:k,width:T,height:B}=C,H=this.cachedCanvases.getCanvas("inlineImage",T,B),G=H.context;return G.filter=this.current.transferMaps,G.drawImage(k,0,0),G.filter="none",H.canvas}paintInlineImageXObject(C){if(!this.contentVisible)return;const k=C.width,T=C.height,B=this.ctx;if(this.save(),!i.isNodeJS){const{filter:W}=B;W!=="none"&&W!==""&&(B.filter="none")}B.scale(1/k,-1/T);let H;if(C.bitmap)H=this.applyTransferMapsToBitmap(C);else if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)H=C;else{const E=this.cachedCanvases.getCanvas("inlineImage",k,T).context;N(E,C),H=this.applyTransferMapsToCanvas(E)}const G=this._scaleImage(H,(0,u.getCurrentTransformInverse)(B));B.imageSmoothingEnabled=he((0,u.getCurrentTransform)(B),C.interpolate),y(B,G.img,0,0,G.paintWidth,G.paintHeight,0,-T,k,T),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,k){if(!this.contentVisible)return;const T=this.ctx;let B;if(C.bitmap)B=C.bitmap;else{const H=C.width,G=C.height,E=this.cachedCanvases.getCanvas("inlineImage",H,G).context;N(E,C),B=this.applyTransferMapsToCanvas(E)}for(const H of k)T.save(),T.transform(...H.transform),T.scale(1,-1),y(T,B,H.x,H.y,H.w,H.h,0,-1,1,1),T.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,k){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,k){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);const T=this.ctx;this.pendingClip&&(k||(this.pendingClip===ne?T.clip("evenodd"):T.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),T.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const C=(0,u.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{const k=Math.abs(C[0]*C[3]-C[2]*C[1]),T=Math.hypot(C[0],C[2]),B=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(T,B)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:C}=this.current,{a:k,b:T,c:B,d:H}=this.ctx.getTransform();let G,W;if(T===0&&B===0){const E=Math.abs(k),R=Math.abs(H);if(E===R)if(C===0)G=W=1/E;else{const O=E*C;G=W=O<1?1/O:1}else if(C===0)G=1/E,W=1/R;else{const O=E*C,_=R*C;G=O<1?1/O:1,W=_<1?1/_:1}}else{const E=Math.abs(k*H-T*B),R=Math.hypot(k,T),O=Math.hypot(B,H);if(C===0)G=O/E,W=R/E;else{const _=C*E;G=O>_?O/_:1,W=R>_?R/_:1}}this._cachedScaleForStroking[0]=G,this._cachedScaleForStroking[1]=W}return this._cachedScaleForStroking}rescaleAndStroke(C){const{ctx:k}=this,{lineWidth:T}=this.current,[B,H]=this.getScaleForStroking();if(k.lineWidth=T||1,B===1&&H===1){k.stroke();return}const G=k.getLineDash();if(C&&k.save(),k.scale(B,H),G.length>0){const W=Math.max(B,H);k.setLineDash(G.map(E=>E/W)),k.lineDashOffset/=W}k.stroke(),C&&k.restore()}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}a.CanvasGraphics=Y;for(const I in i.OPS)Y.prototype[I]!==void 0&&(Y.prototype[i.OPS[I]]=Y.prototype[I])}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=A,n(2);var i=n(1),u=n(168);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};a.PathType=f;function S(y,m){if(!m)return;const P=m[2]-m[0],N=m[3]-m[1],L=new Path2D;L.rect(m[0],m[1],P,N),y.clip(L)}class x{constructor(){this.constructor===x&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class M extends x{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let P;this._type==="axial"?P=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const N of this._colorStops)P.addColorStop(N[0],N[1]);return P}getPattern(m,P,N,L){let w;if(L===f.STROKE||L===f.FILL){const F=P.current.getClippedPathBoundingBox(L,(0,u.getCurrentTransform)(m))||[0,0,0,0],z=Math.ceil(F[2]-F[0])||1,V=Math.ceil(F[3]-F[1])||1,$=P.cachedCanvases.getCanvas("pattern",z,V,!0),j=$.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-F[0],-F[1]),N=i.Util.transform(N,[1,0,0,1,F[0],F[1]]),j.transform(...P.baseTransform),this.matrix&&j.transform(...this.matrix),S(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),w=m.createPattern($.canvas,"no-repeat");const J=new DOMMatrix(N);w.setTransform(J)}else S(m,this._bbox),w=this._createGradient(m);return w}}function d(y,m,P,N,L,w,F,z){const V=m.coords,$=m.colors,j=y.data,J=y.width*4;let he;V[P+1]>V[N+1]&&(he=P,P=N,N=he,he=w,w=F,F=he),V[N+1]>V[L+1]&&(he=N,N=L,L=he,he=F,F=z,z=he),V[P+1]>V[N+1]&&(he=P,P=N,N=he,he=w,w=F,F=he);const le=(V[P]+m.offsetX)*m.scaleX,de=(V[P+1]+m.offsetY)*m.scaleY,fe=(V[N]+m.offsetX)*m.scaleX,ne=(V[N+1]+m.offsetY)*m.scaleY,Y=(V[L]+m.offsetX)*m.scaleX,I=(V[L+1]+m.offsetY)*m.scaleY;if(de>=I)return;const C=$[w],k=$[w+1],T=$[w+2],B=$[F],H=$[F+1],G=$[F+2],W=$[z],E=$[z+1],R=$[z+2],O=Math.round(de),_=Math.round(I);let D,X,Q,te,Se,se,ue,pe;for(let ge=O;ge<=_;ge++){if(ge<ne){const Ue=ge<de?0:(de-ge)/(de-ne);D=le-(le-fe)*Ue,X=C-(C-B)*Ue,Q=k-(k-H)*Ue,te=T-(T-G)*Ue}else{let Ue;ge>I?Ue=1:ne===I?Ue=0:Ue=(ne-ge)/(ne-I),D=fe-(fe-Y)*Ue,X=B-(B-W)*Ue,Q=H-(H-E)*Ue,te=G-(G-R)*Ue}let me;ge<de?me=0:ge>I?me=1:me=(de-ge)/(de-I),Se=le-(le-Y)*me,se=C-(C-W)*me,ue=k-(k-E)*me,pe=T-(T-R)*me;const Ce=Math.round(Math.min(D,Se)),Te=Math.round(Math.max(D,Se));let Fe=J*ge+Ce*4;for(let Ue=Ce;Ue<=Te;Ue++)me=(D-Ue)/(D-Se),me<0?me=0:me>1&&(me=1),j[Fe++]=X-(X-se)*me|0,j[Fe++]=Q-(Q-ue)*me|0,j[Fe++]=te-(te-pe)*me|0,j[Fe++]=255}}function o(y,m,P){const N=m.coords,L=m.colors;let w,F;switch(m.type){case"lattice":const z=m.verticesPerRow,V=Math.floor(N.length/z)-1,$=z-1;for(w=0;w<V;w++){let j=w*z;for(let J=0;J<$;J++,j++)d(y,P,N[j],N[j+1],N[j+z],L[j],L[j+1],L[j+z]),d(y,P,N[j+z+1],N[j+1],N[j+z],L[j+z+1],L[j+1],L[j+z])}break;case"triangles":for(w=0,F=N.length;w<F;w+=3)d(y,P,N[w],N[w+1],N[w+2],L[w],L[w+1],L[w+2]);break;default:throw new Error("illegal figure")}}class c extends x{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,P,N){const z=Math.floor(this._bounds[0]),V=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-z,j=Math.ceil(this._bounds[3])-V,J=Math.min(Math.ceil(Math.abs($*m[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(j*m[1]*1.1)),3e3),le=$/J,de=j/he,fe={coords:this._coords,colors:this._colors,offsetX:-z,offsetY:-V,scaleX:1/le,scaleY:1/de},ne=J+4,Y=he+4,I=N.getCanvas("mesh",ne,Y,!1),C=I.context,k=C.createImageData(J,he);if(P){const B=k.data;for(let H=0,G=B.length;H<G;H+=4)B[H]=P[0],B[H+1]=P[1],B[H+2]=P[2],B[H+3]=255}for(const B of this._figures)o(k,B,fe);return C.putImageData(k,2,2),{canvas:I.canvas,offsetX:z-2*le,offsetY:V-2*de,scaleX:le,scaleY:de}}getPattern(m,P,N,L){S(m,this._bbox);let w;if(L===f.SHADING)w=i.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(m));else if(w=i.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const z=i.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*z[0],w[1]*z[1]]}const F=this._createMeshCanvas(w,L===f.SHADING?null:this._background,P.cachedCanvases);return L!==f.SHADING&&(m.setTransform(...P.baseTransform),this.matrix&&m.transform(...this.matrix)),m.translate(F.offsetX,F.offsetY),m.scale(F.scaleX,F.scaleY),m.createPattern(F.canvas,"no-repeat")}}class v extends x{getPattern(){return"hotpink"}}function A(y){switch(y[0]){case"RadialAxial":return new M(y);case"Mesh":return new c(y);case"Dummy":return new v}throw new Error(`Unknown IR type: ${y[0]}`)}const l={COLORED:1,UNCOLORED:2};class p{static MAX_PATTERN_SIZE=3e3;constructor(m,P,N,L,w){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=P,this.ctx=N,this.canvasGraphicsFactory=L,this.baseTransform=w}createPatternCanvas(m){const P=this.operatorList,N=this.bbox,L=this.xstep,w=this.ystep,F=this.paintType,z=this.tilingType,V=this.color,$=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+z);const j=N[0],J=N[1],he=N[2],le=N[3],de=i.Util.singularValueDecompose2dScale(this.matrix),fe=i.Util.singularValueDecompose2dScale(this.baseTransform),ne=[de[0]*fe[0],de[1]*fe[1]],Y=this.getSizeAndScale(L,this.ctx.canvas.width,ne[0]),I=this.getSizeAndScale(w,this.ctx.canvas.height,ne[1]),C=m.cachedCanvases.getCanvas("pattern",Y.size,I.size,!0),k=C.context,T=$.createCanvasGraphics(k);T.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(T,F,V);let B=j,H=J,G=he,W=le;return j<0&&(B=0,G+=Math.abs(j)),J<0&&(H=0,W+=Math.abs(J)),k.translate(-(Y.scale*B),-(I.scale*H)),T.transform(Y.scale,0,0,I.scale,0,0),k.save(),this.clipBbox(T,B,H,G,W),T.baseTransform=(0,u.getCurrentTransform)(T.ctx),T.executeOperatorList(P),T.endDrawing(),{canvas:C.canvas,scaleX:Y.scale,scaleY:I.scale,offsetX:B,offsetY:H}}getSizeAndScale(m,P,N){m=Math.abs(m);const L=Math.max(p.MAX_PATTERN_SIZE,P);let w=Math.ceil(m*N);return w>=L?w=L:N=w/m,{scale:N,size:w}}clipBbox(m,P,N,L,w){const F=L-P,z=w-N;m.ctx.rect(P,N,F,z),m.current.updateRectMinMax((0,u.getCurrentTransform)(m.ctx),[P,N,L,w]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,P,N){const L=m.ctx,w=m.current;switch(P){case l.COLORED:const F=this.ctx;L.fillStyle=F.fillStyle,L.strokeStyle=F.strokeStyle,w.fillColor=F.fillStyle,w.strokeColor=F.strokeStyle;break;case l.UNCOLORED:const z=i.Util.makeHexColor(N[0],N[1],N[2]);L.fillStyle=z,L.strokeStyle=z,w.fillColor=z,w.strokeColor=z;break;default:throw new i.FormatError(`Unsupported paint type: ${P}`)}}getPattern(m,P,N,L){let w=N;L!==f.SHADING&&(w=i.Util.transform(w,P.baseTransform),this.matrix&&(w=i.Util.transform(w,this.matrix)));const F=this.createPatternCanvas(P);let z=new DOMMatrix(w);z=z.translate(F.offsetX,F.offsetY),z=z.scale(1/F.scaleX,1/F.scaleY);const V=m.createPattern(F.canvas,"repeat");return V.setTransform(z),V}}a.TilingPattern=p}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.convertBlackAndWhiteToRGBA=f,a.convertToRGBA=u,a.grayToRGBA=x,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var i=n(1);function u(M){switch(M.kind){case i.ImageKind.GRAYSCALE_1BPP:return f(M);case i.ImageKind.RGB_24BPP:return S(M)}return null}function f(M){let{src:d,srcPos:o=0,dest:c,width:v,height:A,nonBlackColor:l=4294967295,inverseDecode:p=!1}=M;const y=i.FeatureTest.isLittleEndian?4278190080:255,[m,P]=p?[l,y]:[y,l],N=v>>3,L=v&7,w=d.length;c=new Uint32Array(c.buffer);let F=0;for(let z=0;z<A;z++){for(const $=o+N;o<$;o++){const j=o<w?d[o]:255;c[F++]=j&128?P:m,c[F++]=j&64?P:m,c[F++]=j&32?P:m,c[F++]=j&16?P:m,c[F++]=j&8?P:m,c[F++]=j&4?P:m,c[F++]=j&2?P:m,c[F++]=j&1?P:m}if(L===0)continue;const V=o<w?d[o++]:255;for(let $=0;$<L;$++)c[F++]=V&1<<7-$?P:m}return{srcPos:o,destPos:F}}function S(M){let{src:d,srcPos:o=0,dest:c,destPos:v=0,width:A,height:l}=M,p=0;const y=d.length>>2,m=new Uint32Array(d.buffer,o,y);if(i.FeatureTest.isLittleEndian){for(;p<y-2;p+=3,v+=4){const P=m[p],N=m[p+1],L=m[p+2];c[v]=P|4278190080,c[v+1]=P>>>24|N<<8|4278190080,c[v+2]=N>>>16|L<<16|4278190080,c[v+3]=L>>>8|4278190080}for(let P=p*4,N=d.length;P<N;P+=3)c[v++]=d[P]|d[P+1]<<8|d[P+2]<<16|4278190080}else{for(;p<y-2;p+=3,v+=4){const P=m[p],N=m[p+1],L=m[p+2];c[v]=P|255,c[v+1]=P<<24|N>>>8|255,c[v+2]=N<<16|L>>>16|255,c[v+3]=L<<8|255}for(let P=p*4,N=d.length;P<N;P+=3)c[v++]=d[P]<<24|d[P+1]<<16|d[P+2]<<8|255}return{srcPos:o,destPos:v}}function x(M,d){if(i.FeatureTest.isLittleEndian)for(let o=0,c=M.length;o<c;o++)d[o]=M[o]*65793|4278190080;else for(let o=0,c=M.length;o<c;o++)d[o]=M[o]*16843008|255}}),((h,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const n=Object.create(null);a.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0,n(2);var i=n(1);const u={DATA:1,ERROR:2},f={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function S(M){switch(M instanceof Error||typeof M=="object"&&M!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),M.name){case"AbortException":return new i.AbortException(M.message);case"MissingPDFException":return new i.MissingPDFException(M.message);case"PasswordException":return new i.PasswordException(M.message,M.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(M.message,M.status);case"UnknownErrorException":return new i.UnknownErrorException(M.message,M.details);default:return new i.UnknownErrorException(M.message,M.toString())}}class x{constructor(d,o,c){this.sourceName=d,this.targetName=o,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const A=v.data;if(A.targetName!==this.sourceName)return;if(A.stream){this.#t(A);return}if(A.callback){const p=A.callbackId,y=this.callbackCapabilities[p];if(!y)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],A.callback===u.DATA)y.resolve(A.data);else if(A.callback===u.ERROR)y.reject(S(A.reason));else throw new Error("Unexpected callback case");return}const l=this.actionHandler[A.action];if(!l)throw new Error(`Unknown action from worker: ${A.action}`);if(A.callbackId){const p=this.sourceName,y=A.sourceName;new Promise(function(m){m(l(A.data))}).then(function(m){c.postMessage({sourceName:p,targetName:y,callback:u.DATA,callbackId:A.callbackId,data:m})},function(m){c.postMessage({sourceName:p,targetName:y,callback:u.ERROR,callbackId:A.callbackId,reason:S(m)})});return}if(A.streamId){this.#e(A);return}l(A.data)},c.addEventListener("message",this._onComObjOnMessage)}on(d,o){const c=this.actionHandler;if(c[d])throw new Error(`There is already an actionName called "${d}"`);c[d]=o}send(d,o,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:o},c)}sendWithPromise(d,o,c){const v=this.callbackId++,A=new i.PromiseCapability;this.callbackCapabilities[v]=A;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:v,data:o},c)}catch(l){A.reject(l)}return A.promise}sendWithStream(d,o,c,v){const A=this.streamId++,l=this.sourceName,p=this.targetName,y=this.comObj;return new ReadableStream({start:m=>{const P=new i.PromiseCapability;return this.streamControllers[A]={controller:m,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},y.postMessage({sourceName:l,targetName:p,action:d,streamId:A,data:o,desiredSize:m.desiredSize},v),P.promise},pull:m=>{const P=new i.PromiseCapability;return this.streamControllers[A].pullCall=P,y.postMessage({sourceName:l,targetName:p,stream:f.PULL,streamId:A,desiredSize:m.desiredSize}),P.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const P=new i.PromiseCapability;return this.streamControllers[A].cancelCall=P,this.streamControllers[A].isClosed=!0,y.postMessage({sourceName:l,targetName:p,stream:f.CANCEL,streamId:A,reason:S(m)}),P.promise}},c)}#e(d){const o=d.streamId,c=this.sourceName,v=d.sourceName,A=this.comObj,l=this,p=this.actionHandler[d.action],y={enqueue(m){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,N=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=P,L>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),A.postMessage({sourceName:c,targetName:v,stream:f.ENQUEUE,streamId:o,chunk:m},N)},close(){this.isCancelled||(this.isCancelled=!0,A.postMessage({sourceName:c,targetName:v,stream:f.CLOSE,streamId:o}),delete l.streamSinks[o])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,A.postMessage({sourceName:c,targetName:v,stream:f.ERROR,streamId:o,reason:S(m)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[o]=y,new Promise(function(m){m(p(d.data,y))}).then(function(){A.postMessage({sourceName:c,targetName:v,stream:f.START_COMPLETE,streamId:o,success:!0})},function(m){A.postMessage({sourceName:c,targetName:v,stream:f.START_COMPLETE,streamId:o,reason:S(m)})})}#t(d){const o=d.streamId,c=this.sourceName,v=d.sourceName,A=this.comObj,l=this.streamControllers[o],p=this.streamSinks[o];switch(d.stream){case f.START_COMPLETE:d.success?l.startCall.resolve():l.startCall.reject(S(d.reason));break;case f.PULL_COMPLETE:d.success?l.pullCall.resolve():l.pullCall.reject(S(d.reason));break;case f.PULL:if(!p){A.postMessage({sourceName:c,targetName:v,stream:f.PULL_COMPLETE,streamId:o,success:!0});break}p.desiredSize<=0&&d.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=d.desiredSize,new Promise(function(y){y(p.onPull?.())}).then(function(){A.postMessage({sourceName:c,targetName:v,stream:f.PULL_COMPLETE,streamId:o,success:!0})},function(y){A.postMessage({sourceName:c,targetName:v,stream:f.PULL_COMPLETE,streamId:o,reason:S(y)})});break;case f.ENQUEUE:if((0,i.assert)(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(d.chunk);break;case f.CLOSE:if((0,i.assert)(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#n(l,o);break;case f.ERROR:(0,i.assert)(l,"error should have stream controller"),l.controller.error(S(d.reason)),this.#n(l,o);break;case f.CANCEL_COMPLETE:d.success?l.cancelCall.resolve():l.cancelCall.reject(S(d.reason)),this.#n(l,o);break;case f.CANCEL:if(!p)break;new Promise(function(y){y(p.onCancel?.(S(d.reason)))}).then(function(){A.postMessage({sourceName:c,targetName:v,stream:f.CANCEL_COMPLETE,streamId:o,success:!0})},function(y){A.postMessage({sourceName:c,targetName:v,stream:f.CANCEL_COMPLETE,streamId:o,reason:S(y)})}),p.sinkCapability.reject(S(d.reason)),p.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}}async#n(d,o){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[o]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}a.MessageHandler=x}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=n(1);class u{#e;#t;constructor(S){let{parsedData:x,rawData:M}=S;this.#e=x,this.#t=M}getRaw(){return this.#t}get(S){return this.#e.get(S)??null}getAll(){return(0,i.objectFromMap)(this.#e)}has(S){return this.#e.has(S)}}a.Metadata=u}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=n(1),u=n(170);const f=Symbol("INTERNAL");class S{#e=!0;constructor(d,o){this.name=d,this.intent=o}get visible(){return this.#e}_setVisible(d,o){d!==f&&(0,i.unreachable)("Internal method `_setVisible` called."),this.#e=o}}class x{#e=null;#t=new Map;#n=null;#r=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#r=d.order;for(const o of d.groups)this.#t.set(o.id,new S(o.name,o.intent));if(d.baseState==="OFF")for(const o of this.#t.values())o._setVisible(f,!1);for(const o of d.on)this.#t.get(o)._setVisible(f,!0);for(const o of d.off)this.#t.get(o)._setVisible(f,!1);this.#n=this.getHash()}}#o(d){const o=d.length;if(o<2)return!0;const c=d[0];for(let v=1;v<o;v++){const A=d[v];let l;if(Array.isArray(A))l=this.#o(A);else if(this.#t.has(A))l=this.#t.get(A).visible;else return(0,i.warn)(`Optional content group not found: ${A}`),!0;switch(c){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return c==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,i.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,i.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#o(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const o of d.ids){if(!this.#t.has(o))return(0,i.warn)(`Optional content group not found: ${o}`),!0;if(this.#t.get(o).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const o of d.ids){if(!this.#t.has(o))return(0,i.warn)(`Optional content group not found: ${o}`),!0;if(!this.#t.get(o).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const o of d.ids){if(!this.#t.has(o))return(0,i.warn)(`Optional content group not found: ${o}`),!0;if(!this.#t.get(o).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const o of d.ids){if(!this.#t.has(o))return(0,i.warn)(`Optional content group not found: ${o}`),!0;if(this.#t.get(o).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,i.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.#t.has(d)){(0,i.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(f,!!o),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;const d=new u.MurmurHash3_64;for(const[o,c]of this.#t)d.update(`${o}:${c.visible}`);return this.#e=d.hexdigest()}}a.OptionalContentConfig=x}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var i=n(1),u=n(168);class f{constructor(d,o){let{length:c,initialData:v,progressiveDone:A=!1,contentDispositionFilename:l=null,disableRange:p=!1,disableStream:y=!1}=d;if((0,i.assert)(o,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A,this._contentDispositionFilename=l,v?.length>0){const m=v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength?v.buffer:new Uint8Array(v).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=o,this._isStreamingSupported=!y,this._isRangeSupported=!p,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,P)=>{this._onReceiveData({begin:m,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((m,P)=>{this._onProgress({loaded:m,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){let{begin:o,chunk:c}=d;const v=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(o===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(v):this._queuedChunks.push(v);else{const A=this._rangeReaders.some(function(l){return l._begin!==o?!1:(l._enqueue(v),!0)});(0,i.assert)(A,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const o=this._rangeReaders.indexOf(d);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new S(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,o){if(o<=this._progressiveDataLength)return null;const c=new x(this,d,o);return this._pdfDataRangeTransport.requestDataRange(d,o),this._rangeReaders.push(c),c}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const o of this._rangeReaders.slice(0))o.cancel(d);this._pdfDataRangeTransport.abort()}}a.PDFDataTransportStream=f;class S{constructor(d,o){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=d,this._done=c||!1,this._filename=(0,u.isPdfFile)(v)?v:null,this._queuedChunks=o||[],this._loaded=0;for(const A of this._queuedChunks)this._loaded+=A.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new i.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x{constructor(d,o,c){this._stream=d,this._begin=o,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new i.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var i=n(1),u=n(182);function f(c,v,A){return{method:"GET",headers:c,signal:A.signal,mode:"cors",credentials:v?"include":"same-origin",redirect:"follow"}}function S(c){const v=new Headers;for(const A in c){const l=c[A];l!==void 0&&v.append(A,l)}return v}function x(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:((0,i.warn)(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class M{constructor(v){this.source=v,this.isHttp=/^https?:/i.test(v.url),this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(v,A){if(A<=this._progressiveDataLength)return null;const l=new o(this,v,A);return this._rangeRequestReaders.push(l),l}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const A of this._rangeRequestReaders.slice(0))A.cancel(v)}}a.PDFFetchStream=M;class d{constructor(v){this._stream=v,this._reader=null,this._loaded=0,this._filename=null;const A=v.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=new i.PromiseCapability,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=S(this._stream.httpHeaders);const l=A.url;fetch(l,f(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,u.validateResponseStatus)(p.status))throw(0,u.createResponseStatusError)(p.status,l);this._reader=p.body.getReader(),this._headersCapability.resolve();const y=N=>p.headers.get(N),{allowRangeRequests:m,suggestedLength:P}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=P||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(y),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:v,done:A}=await this._reader.read();return A?{value:v,done:A}:(this._loaded+=v.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:x(v),done:!1})}cancel(v){this._reader?.cancel(v),this._abortController.abort()}}class o{constructor(v,A,l){this._stream=v,this._reader=null,this._loaded=0;const p=v.source;this._withCredentials=p.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=S(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${l-1}`);const y=p.url;fetch(y,f(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,u.validateResponseStatus)(m.status))throw(0,u.createResponseStatusError)(m.status,y);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:v,done:A}=await this._reader.read();return A?{value:v,done:A}:(this._loaded+=v.byteLength,this.onProgress?.({loaded:this._loaded}),{value:x(v),done:!1})}cancel(v){this._reader?.cancel(v),this._abortController.abort()}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=M,a.extractFilenameFromHeader=x,a.validateRangeRequestCapabilities=S,a.validateResponseStatus=d;var i=n(1),u=n(183),f=n(168);function S(o){let{getResponseHeader:c,isHttp:v,rangeChunkSize:A,disableRange:l}=o;const p={allowRangeRequests:!1,suggestedLength:void 0},y=parseInt(c("Content-Length"),10);return!Number.isInteger(y)||(p.suggestedLength=y,y<=2*A)||l||!v||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function x(o){const c=o("Content-Disposition");if(c){let v=(0,u.getFilenameFromContentDispositionHeader)(c);if(v.includes("%"))try{v=decodeURIComponent(v)}catch{}if((0,f.isPdfFile)(v))return v}return null}function M(o,c){return o===404||o===0&&c.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+c+'".'):new i.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${c}".`,o)}function d(o){return o===200||o===206}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=u,n(89),n(149);var i=n(1);function u(f){let S=!0,x=M("filename\\*","i").exec(f);if(x){x=x[1];let p=v(x);return p=unescape(p),p=A(p),p=l(p),o(p)}if(x=c(f),x){const p=l(x);return o(p)}if(x=M("filename","i").exec(f),x){x=x[1];let p=v(x);return p=l(p),o(p)}function M(p,y){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function d(p,y){if(p){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const m=new TextDecoder(p,{fatal:!0}),P=(0,i.stringToBytes)(y);y=m.decode(P),S=!1}catch{}}return y}function o(p){return S&&/[\x80-\xff]/.test(p)&&(p=d("utf-8",p),S&&(p=d("iso-8859-1",p))),p}function c(p){const y=[];let m;const P=M("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=P.exec(p))!==null;){let[,L,w,F]=m;if(L=parseInt(L,10),L in y){if(L===0)break;continue}y[L]=[w,F]}const N=[];for(let L=0;L<y.length&&L in y;++L){let[w,F]=y[L];F=v(F),w&&(F=unescape(F),L===0&&(F=A(F))),N.push(F)}return N.join("")}function v(p){if(p.startsWith('"')){const y=p.slice(1).split('\\"');for(let m=0;m<y.length;++m){const P=y[m].indexOf('"');P!==-1&&(y[m]=y[m].slice(0,P),y.length=m+1),y[m]=y[m].replaceAll(/\\(.)/g,"$1")}p=y.join('"')}return p}function A(p){const y=p.indexOf("'");if(y===-1)return p;const m=p.slice(0,y),N=p.slice(y+1).replace(/^[^']*'/,"");return d(m,N)}function l(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,m,P,N){if(P==="q"||P==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(L,w){return String.fromCharCode(parseInt(w,16))}),d(m,N);try{N=atob(N)}catch{}return d(m,N)})}return""}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0,n(89);var i=n(1),u=n(182);const f=200,S=206;function x(v){const A=v.response;return typeof A!="string"?A:(0,i.stringToBytes)(A).buffer}class M{constructor(A){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&l.httpHeaders||Object.create(null),this.withCredentials=l.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,l,p){const y={begin:A,end:l};for(const m in p)y[m]=p[m];return this.request(y)}requestFull(A){return this.request(A)}request(A){const l=new XMLHttpRequest,p=this.currXhrId++,y=this.pendingRequests[p]={xhr:l};l.open("GET",this.url),l.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const P=this.httpHeaders[m];P!==void 0&&l.setRequestHeader(m,P)}return this.isHttp&&"begin"in A&&"end"in A?(l.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),y.expectedStatus=S):y.expectedStatus=f,l.responseType="arraybuffer",A.onError&&(l.onerror=function(m){A.onError(l.status)}),l.onreadystatechange=this.onStateChange.bind(this,p),l.onprogress=this.onProgress.bind(this,p),y.onHeadersReceived=A.onHeadersReceived,y.onDone=A.onDone,y.onError=A.onError,y.onProgress=A.onProgress,l.send(null),p}onProgress(A,l){const p=this.pendingRequests[A];p&&p.onProgress?.(l)}onStateChange(A,l){const p=this.pendingRequests[A];if(!p)return;const y=p.xhr;if(y.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),y.readyState!==4||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],y.status===0&&this.isHttp){p.onError?.(y.status);return}const m=y.status||f;if(!(m===f&&p.expectedStatus===S)&&m!==p.expectedStatus){p.onError?.(y.status);return}const N=x(y);if(m===S){const L=y.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(L);p.onDone({begin:parseInt(w[1],10),chunk:N})}else N?p.onDone({begin:0,chunk:N}):p.onError?.(y.status)}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){const l=this.pendingRequests[A].xhr;delete this.pendingRequests[A],l.abort()}}class d{constructor(A){this._source=A,this._manager=new M(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){const l=this._rangeRequestReaders.indexOf(A);l>=0&&this._rangeRequestReaders.splice(l,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(A,l){const p=new c(this._manager,A,l);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(A){this._fullRequestReader?.cancel(A);for(const l of this._rangeRequestReaders.slice(0))l.cancel(A)}}a.PDFNetworkStream=d;class o{constructor(A,l){this._manager=A;const p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._fullRequestId=A.requestFull(p),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=l.disableRange||!1,this._contentLength=l.length,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const A=this._fullRequestId,l=this._manager.getRequestXhr(A),p=P=>l.getResponseHeader(P),{allowRangeRequests:y,suggestedLength:m}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});y&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A&&(this._requests.length>0?this._requests.shift().resolve({value:A.chunk,done:!1}):this._cachedChunks.push(A.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){this._storedError=(0,u.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){this.onProgress?.({loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new i.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0,this._headersReceivedCapability.reject(A);for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(A,l,p){this._manager=A;const y={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(l,p,y),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(A){const l=A.chunk;this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunk=l,this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){this._storedError=(0,u.createResponseStatusError)(A,this._url);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){this.isStreamingSupported||this.onProgress?.({loaded:A.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new i.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0,n(89),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var i=n(1),u=n(182);const f=/^file:\/\/\/[a-zA-Z]:\//;function S(p){const y=require$$6,m=y.parse(p);return m.protocol==="file:"||m.host?m:/^[a-z]:[/\\]/i.test(p)?y.parse(`file:///${p}`):(m.host||(m.protocol="file:"),m)}class x{constructor(y){this.source=y,this.url=S(y.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new c(this),this._fullRequestReader}getRangeReader(y,m){if(m<=this._progressiveDataLength)return null;const P=this.isFsUrl?new l(this,y,m):new v(this,y,m);return this._rangeRequestReaders.push(P),P}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const m of this._rangeRequestReaders.slice(0))m.cancel(y)}}a.PDFNodeStream=x;class M{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;const m=y.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const y=this._readableStream.read();return y===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const m=y.source;this._isStreamingSupported=!m.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const y=this._readableStream.read();return y===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(p,y){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:y}}class c extends M{constructor(y){super(y);const m=P=>{if(P.statusCode===404){const F=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(P);const N=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:L,suggestedLength:w}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=w||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(N)};if(this._request=null,this._url.protocol==="http:"){const P=require$$6;this._request=P.request(o(this._url,y.httpHeaders),m)}else{const P=require$$6;this._request=P.request(o(this._url,y.httpHeaders),m)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class v extends d{constructor(y,m,P){super(y),this._httpHeaders={};for(const L in y.httpHeaders){const w=y.httpHeaders[L];w!==void 0&&(this._httpHeaders[L]=w)}this._httpHeaders.Range=`bytes=${m}-${P-1}`;const N=L=>{if(L.statusCode===404){const w=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(L)};if(this._request=null,this._url.protocol==="http:"){const L=require$$6;this._request=L.request(o(this._url,this._httpHeaders),N)}else{const L=require$$6;this._request=L.request(o(this._url,this._httpHeaders),N)}this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class A extends M{constructor(y){super(y);let m=decodeURIComponent(this._url.path);f.test(this._url.href)&&(m=m.replace(/^\//,""));const P=require$$6;P.lstat(m,(N,L)=>{if(N){N.code==="ENOENT"&&(N=new i.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=N,this._headersCapability.reject(N);return}this._contentLength=L.size,this._setReadableStream(P.createReadStream(m)),this._headersCapability.resolve()})}}class l extends d{constructor(y,m,P){super(y);let N=decodeURIComponent(this._url.path);f.test(this._url.href)&&(N=N.replace(/^\//,""));const L=require$$6;this._setReadableStream(L.createReadStream(N,{start:m,end:P-1}))}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0,n(84),n(86),n(87),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2),n(89),n(187);var i=n(168),u=n(1);const f={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},S="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/1999/xlink",M=["butt","round","square"],d=["miter","round","bevel"],o=function(L){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([L],{type:w}));const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let V=`data:${w};base64,`;for(let $=0,j=L.length;$<j;$+=3){const J=L[$]&255,he=L[$+1]&255,le=L[$+2]&255,de=J>>2,fe=(J&3)<<4|he>>4,ne=$+1<j?(he&15)<<2|le>>6:64,Y=$+2<j?le&63:64;V+=z[de]+z[fe]+z[ne]+z[Y]}return V},c=(function(){const L=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,F=new Int32Array(256);for(let le=0;le<256;le++){let de=le;for(let fe=0;fe<8;fe++)de=de&1?3988292384^de>>1&2147483647:de>>1&2147483647;F[le]=de}function z(le,de,fe){let ne=-1;for(let Y=de;Y<fe;Y++){const I=(ne^le[Y])&255,C=F[I];ne=ne>>>8^C}return ne^-1}function V(le,de,fe,ne){let Y=ne;const I=de.length;fe[Y]=I>>24&255,fe[Y+1]=I>>16&255,fe[Y+2]=I>>8&255,fe[Y+3]=I&255,Y+=4,fe[Y]=le.charCodeAt(0)&255,fe[Y+1]=le.charCodeAt(1)&255,fe[Y+2]=le.charCodeAt(2)&255,fe[Y+3]=le.charCodeAt(3)&255,Y+=4,fe.set(de,Y),Y+=de.length;const C=z(fe,ne+4,Y);fe[Y]=C>>24&255,fe[Y+1]=C>>16&255,fe[Y+2]=C>>8&255,fe[Y+3]=C&255}function $(le,de,fe){let ne=1,Y=0;for(let I=de;I<fe;++I)ne=(ne+(le[I]&255))%65521,Y=(Y+ne)%65521;return Y<<16|ne}function j(le){if(!u.isNodeJS)return J(le);try{const de=parseInt(process.versions.node)>=8?le:Buffer.from(le),fe=require$$6.deflateSync(de,{level:9});return fe instanceof Uint8Array?fe:new Uint8Array(fe)}catch(de){(0,u.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+de)}return J(le)}function J(le){let de=le.length;const fe=65535,ne=Math.ceil(de/fe),Y=new Uint8Array(2+de+ne*5+4);let I=0;Y[I++]=120,Y[I++]=156;let C=0;for(;de>fe;)Y[I++]=0,Y[I++]=255,Y[I++]=255,Y[I++]=0,Y[I++]=0,Y.set(le.subarray(C,C+fe),I),I+=fe,C+=fe,de-=fe;Y[I++]=1,Y[I++]=de&255,Y[I++]=de>>8&255,Y[I++]=~de&65535&255,Y[I++]=(~de&65535)>>8&255,Y.set(le.subarray(C),I),I+=le.length-C;const k=$(le,0,le.length);return Y[I++]=k>>24&255,Y[I++]=k>>16&255,Y[I++]=k>>8&255,Y[I++]=k&255,Y}function he(le,de,fe,ne){const Y=le.width,I=le.height;let C,k,T;const B=le.data;switch(de){case u.ImageKind.GRAYSCALE_1BPP:k=0,C=1,T=Y+7>>3;break;case u.ImageKind.RGB_24BPP:k=2,C=8,T=Y*3;break;case u.ImageKind.RGBA_32BPP:k=6,C=8,T=Y*4;break;default:throw new Error("invalid format")}const H=new Uint8Array((1+T)*I);let G=0,W=0;for(let X=0;X<I;++X)H[G++]=0,H.set(B.subarray(W,W+T),G),W+=T,G+=T;if(de===u.ImageKind.GRAYSCALE_1BPP&&ne){G=0;for(let X=0;X<I;X++){G++;for(let Q=0;Q<T;Q++)H[G++]^=255}}const E=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,I>>24&255,I>>16&255,I>>8&255,I&255,C,k,0,0,0]),R=j(H),O=L.length+w*3+E.length+R.length,_=new Uint8Array(O);let D=0;return _.set(L,D),D+=L.length,V("IHDR",E,_,D),D+=w+E.length,V("IDATA",R,_,D),D+=w+R.length,V("IEND",new Uint8Array(0),_,D),o(_,"image/png",fe)}return function(de,fe,ne){const Y=de.kind===void 0?u.ImageKind.GRAYSCALE_1BPP:de.kind;return he(de,Y,fe,ne)}})();class v{constructor(){this.fontSizeScale=1,this.fontWeight=f.fontWeight,this.fontSize=0,this.textMatrix=u.IDENTITY_MATRIX,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=u.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=f.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,F){this.x=w,this.y=F}}function A(L){let w=[];const F=[];for(const z of L){if(z.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),F.push(w),w=w.at(-1).items;continue}z.fn==="restore"?w=F.pop():w.push(z)}return w}function l(L){if(Number.isInteger(L))return L.toString();const w=L.toFixed(10);let F=w.length-1;if(w[F]!=="0")return w;do F--;while(w[F]==="0");return w.substring(0,w[F]==="."?F:F+1)}function p(L){if(L[4]===0&&L[5]===0){if(L[1]===0&&L[2]===0)return L[0]===1&&L[3]===1?"":`scale(${l(L[0])} ${l(L[3])})`;if(L[0]===L[3]&&L[1]===-L[2]){const w=Math.acos(L[0])*180/Math.PI;return`rotate(${l(w)})`}}else if(L[0]===1&&L[1]===0&&L[2]===0&&L[3]===1)return`translate(${l(L[4])} ${l(L[5])})`;return`matrix(${l(L[0])} ${l(L[1])} ${l(L[2])} ${l(L[3])} ${l(L[4])} ${l(L[5])})`}let y=0,m=0,P=0;class N{constructor(w,F){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new v,this.transformMatrix=u.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!z,this._operatorIdMapping=[];for(const V in u.OPS)this._operatorIdMapping[u.OPS[V]]=V}getObject(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):F}save(){this.transformStack.push(this.transformMatrix);const w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){const F=w.fnArray,z=w.argsArray;for(let V=0,$=F.length;V<$;V++)if(F[V]===u.OPS.dependency)for(const j of z[V]){const J=j.startsWith("g_")?this.commonObjs:this.objs,he=new Promise(le=>{J.get(j,le)});this.current.dependencies.push(he)}return Promise.all(this.current.dependencies)}transform(w,F,z,V,$,j){const J=[w,F,z,V,$,j];this.transformMatrix=u.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(w,F){this.viewport=F;const z=this._initialize(F);return this.loadDependencies(w).then(()=>(this.transformMatrix=u.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),z))}convertOpList(w){const F=this._operatorIdMapping,z=w.argsArray,V=w.fnArray,$=[];for(let j=0,J=V.length;j<J;j++){const he=V[j];$.push({fnId:he,fn:F[he],args:z[j]})}return A($)}executeOpTree(w){for(const F of w){const z=F.fn,V=F.fnId,$=F.args;switch(V|0){case u.OPS.beginText:this.beginText();break;case u.OPS.dependency:break;case u.OPS.setLeading:this.setLeading($);break;case u.OPS.setLeadingMoveText:this.setLeadingMoveText($[0],$[1]);break;case u.OPS.setFont:this.setFont($);break;case u.OPS.showText:this.showText($[0]);break;case u.OPS.showSpacedText:this.showText($[0]);break;case u.OPS.endText:this.endText();break;case u.OPS.moveText:this.moveText($[0],$[1]);break;case u.OPS.setCharSpacing:this.setCharSpacing($[0]);break;case u.OPS.setWordSpacing:this.setWordSpacing($[0]);break;case u.OPS.setHScale:this.setHScale($[0]);break;case u.OPS.setTextMatrix:this.setTextMatrix($[0],$[1],$[2],$[3],$[4],$[5]);break;case u.OPS.setTextRise:this.setTextRise($[0]);break;case u.OPS.setTextRenderingMode:this.setTextRenderingMode($[0]);break;case u.OPS.setLineWidth:this.setLineWidth($[0]);break;case u.OPS.setLineJoin:this.setLineJoin($[0]);break;case u.OPS.setLineCap:this.setLineCap($[0]);break;case u.OPS.setMiterLimit:this.setMiterLimit($[0]);break;case u.OPS.setFillRGBColor:this.setFillRGBColor($[0],$[1],$[2]);break;case u.OPS.setStrokeRGBColor:this.setStrokeRGBColor($[0],$[1],$[2]);break;case u.OPS.setStrokeColorN:this.setStrokeColorN($);break;case u.OPS.setFillColorN:this.setFillColorN($);break;case u.OPS.shadingFill:this.shadingFill($[0]);break;case u.OPS.setDash:this.setDash($[0],$[1]);break;case u.OPS.setRenderingIntent:this.setRenderingIntent($[0]);break;case u.OPS.setFlatness:this.setFlatness($[0]);break;case u.OPS.setGState:this.setGState($[0]);break;case u.OPS.fill:this.fill();break;case u.OPS.eoFill:this.eoFill();break;case u.OPS.stroke:this.stroke();break;case u.OPS.fillStroke:this.fillStroke();break;case u.OPS.eoFillStroke:this.eoFillStroke();break;case u.OPS.clip:this.clip("nonzero");break;case u.OPS.eoClip:this.clip("evenodd");break;case u.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case u.OPS.paintImageXObject:this.paintImageXObject($[0]);break;case u.OPS.paintInlineImageXObject:this.paintInlineImageXObject($[0]);break;case u.OPS.paintImageMaskXObject:this.paintImageMaskXObject($[0]);break;case u.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin($[0],$[1]);break;case u.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case u.OPS.closePath:this.closePath();break;case u.OPS.closeStroke:this.closeStroke();break;case u.OPS.closeFillStroke:this.closeFillStroke();break;case u.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case u.OPS.nextLine:this.nextLine();break;case u.OPS.transform:this.transform($[0],$[1],$[2],$[3],$[4],$[5]);break;case u.OPS.constructPath:this.constructPath($[0],$[1]);break;case u.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,u.warn)(`Unimplemented operator ${z}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,F,z,V,$,j){const J=this.current;J.textMatrix=J.lineMatrix=[w,F,z,V,$,j],J.textMatrixScale=Math.hypot(w,F),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${l(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",l(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=u.IDENTITY_MATRIX,w.lineMatrix=u.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,F){const z=this.current;z.x=z.lineX+=w,z.y=z.lineY+=F,z.xcoords=[],z.ycoords=[],z.tspan=this.svgFactory.createElement("svg:tspan"),z.tspan.setAttributeNS(null,"font-family",z.fontFamily),z.tspan.setAttributeNS(null,"font-size",`${l(z.fontSize)}px`),z.tspan.setAttributeNS(null,"y",l(-z.y))}showText(w){const F=this.current,z=F.font,V=F.fontSize;if(V===0)return;const $=F.fontSizeScale,j=F.charSpacing,J=F.wordSpacing,he=F.fontDirection,le=F.textHScale*he,de=z.vertical,fe=de?1:-1,ne=z.defaultVMetrics,Y=V*F.fontMatrix[0];let I=0;for(const T of w){if(T===null){I+=he*J;continue}else if(typeof T=="number"){I+=fe*T*V/1e3;continue}const B=(T.isSpace?J:0)+j,H=T.fontChar;let G,W,E=T.width;if(de){let O;const _=T.vmetric||ne;O=T.vmetric?_[1]:E*.5,O=-O*Y;const D=_[2]*Y;E=_?-_[0]:E,G=O/$,W=(I+D)/$}else G=I/$,W=0;(T.isInFont||z.missingFile)&&(F.xcoords.push(F.x+G),de&&F.ycoords.push(-F.y+W),F.tspan.textContent+=H);const R=de?E*Y-B*he:E*Y+B*he;I+=R}F.tspan.setAttributeNS(null,"x",F.xcoords.map(l).join(" ")),de?F.tspan.setAttributeNS(null,"y",F.ycoords.map(l).join(" ")):F.tspan.setAttributeNS(null,"y",l(-F.y)),de?F.y-=I:F.x+=I*le,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${l(F.fontSize)}px`),F.fontStyle!==f.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==f.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const C=F.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;if(C===u.TextRenderingMode.FILL||C===u.TextRenderingMode.FILL_STROKE?(F.fillColor!==f.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===u.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),C===u.TextRenderingMode.STROKE||C===u.TextRenderingMode.FILL_STROKE){const T=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,T)}let k=F.textMatrix;F.textRise!==0&&(k=k.slice(),k[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${p(k)} scale(${l(le)}, -1)`),F.txtElement.setAttributeNS(S,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(w,F){this.setLeading(-F),this.moveText(w,F)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=o(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${F}); }
`}setFont(w){const F=this.current,z=this.commonObjs.get(w[0]);let V=w[1];F.font=z,this.embedFonts&&!z.missingFile&&!this.embeddedFonts[z.loadedName]&&(this.addFontStyle(z),this.embeddedFonts[z.loadedName]=z),F.fontMatrix=z.fontMatrix||u.FONT_IDENTITY_MATRIX;let $="normal";z.black?$="900":z.bold&&($="bold");const j=z.italic?"italic":"normal";V<0?(V=-V,F.fontDirection=-1):F.fontDirection=1,F.fontSize=V,F.fontFamily=z.loadedName,F.fontWeight=$,F.fontStyle=j,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",l(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){const w=this.current;w.textRenderingMode&u.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=M[w]}setLineJoin(w){this.current.lineJoin=d[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,F,z){this.current.strokeColor=u.Util.makeHexColor(w,F,z)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,F,z){this.current.fillColor=u.Util.makeHexColor(w,F,z),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){const{width:F,height:z}=this.viewport,V=u.Util.inverseTransform(this.transformMatrix),[$,j,J,he]=u.Util.getAxialAlignedBoundingBox([0,0,F,z],V),le=this.svgFactory.createElement("svg:rect");le.setAttributeNS(null,"x",$),le.setAttributeNS(null,"y",j),le.setAttributeNS(null,"width",J-$),le.setAttributeNS(null,"height",he-j),le.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(le)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){const F=w[1],z=w[2],V=w[3]||u.IDENTITY_MATRIX,[$,j,J,he]=w[4],le=w[5],de=w[6],fe=w[7],ne=`shading${P++}`,[Y,I,C,k]=u.Util.normalizeRect([...u.Util.applyTransform([$,j],V),...u.Util.applyTransform([J,he],V)]),[T,B]=u.Util.singularValueDecompose2dScale(V),H=le*T,G=de*B,W=this.svgFactory.createElement("svg:pattern");W.setAttributeNS(null,"id",ne),W.setAttributeNS(null,"patternUnits","userSpaceOnUse"),W.setAttributeNS(null,"width",H),W.setAttributeNS(null,"height",G),W.setAttributeNS(null,"x",`${Y}`),W.setAttributeNS(null,"y",`${I}`);const E=this.svg,R=this.transformMatrix,O=this.current.fillColor,_=this.current.strokeColor,D=this.svgFactory.create(C-Y,k-I);if(this.svg=D,this.transformMatrix=V,fe===2){const X=u.Util.makeHexColor(...F);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(z)),this.svg=E,this.transformMatrix=R,this.current.fillColor=O,this.current.strokeColor=_,W.append(D.childNodes[0]),this.defs.append(W),`url(#${ne})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":const F=`shading${P++}`,z=w[3];let V;switch(w[1]){case"axial":const $=w[4],j=w[5];V=this.svgFactory.createElement("svg:linearGradient"),V.setAttributeNS(null,"id",F),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"x1",$[0]),V.setAttributeNS(null,"y1",$[1]),V.setAttributeNS(null,"x2",j[0]),V.setAttributeNS(null,"y2",j[1]);break;case"radial":const J=w[4],he=w[5],le=w[6],de=w[7];V=this.svgFactory.createElement("svg:radialGradient"),V.setAttributeNS(null,"id",F),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"cx",he[0]),V.setAttributeNS(null,"cy",he[1]),V.setAttributeNS(null,"r",de),V.setAttributeNS(null,"fx",J[0]),V.setAttributeNS(null,"fy",J[1]),V.setAttributeNS(null,"fr",le);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(const $ of z){const j=this.svgFactory.createElement("svg:stop");j.setAttributeNS(null,"offset",$[0]),j.setAttributeNS(null,"stop-color",$[1]),V.append(j)}return this.defs.append(V),`url(#${F})`;case"Mesh":return(0,u.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,F){this.current.dashArray=w,this.current.dashPhase=F}constructPath(w,F){const z=this.current;let V=z.x,$=z.y,j=[],J=0;for(const he of w)switch(he|0){case u.OPS.rectangle:V=F[J++],$=F[J++];const le=F[J++],de=F[J++],fe=V+le,ne=$+de;j.push("M",l(V),l($),"L",l(fe),l($),"L",l(fe),l(ne),"L",l(V),l(ne),"Z");break;case u.OPS.moveTo:V=F[J++],$=F[J++],j.push("M",l(V),l($));break;case u.OPS.lineTo:V=F[J++],$=F[J++],j.push("L",l(V),l($));break;case u.OPS.curveTo:V=F[J+4],$=F[J+5],j.push("C",l(F[J]),l(F[J+1]),l(F[J+2]),l(F[J+3]),l(V),l($)),J+=6;break;case u.OPS.curveTo2:j.push("C",l(V),l($),l(F[J]),l(F[J+1]),l(F[J+2]),l(F[J+3])),V=F[J+2],$=F[J+3],J+=4;break;case u.OPS.curveTo3:V=F[J+2],$=F[J+3],j.push("C",l(F[J]),l(F[J+1]),l(V),l($),l(V),l($)),J+=4;break;case u.OPS.closePath:j.push("Z");break}j=j.join(" "),z.path&&w.length>0&&w[0]!==u.OPS.rectangle&&w[0]!==u.OPS.moveTo?j=z.path.getAttributeNS(null,"d")+j:(z.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(z.path)),z.path.setAttributeNS(null,"d",j),z.path.setAttributeNS(null,"fill","none"),z.element=z.path,z.setCurrentPoint(V,$)}endPath(){const w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}const F=`clippath${y++}`,z=this.svgFactory.createElement("svg:clipPath");z.setAttributeNS(null,"id",F),z.setAttributeNS(null,"transform",p(this.transformMatrix));const V=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?V.setAttributeNS(null,"clip-rule","evenodd"):V.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,z.append(V),this.defs.append(z),w.activeClipUrl){w.clipGroup=null;for(const $ of this.extraStack)$.clipGroup=null;z.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){const w=this.current;if(w.path){const F=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",F)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(const[F,z]of w)switch(F){case"LW":this.setLineWidth(z);break;case"LC":this.setLineCap(z);break;case"LJ":this.setLineJoin(z);break;case"ML":this.setMiterLimit(z);break;case"D":this.setDash(z[0],z[1]);break;case"RI":this.setRenderingIntent(z);break;case"FL":this.setFlatness(z);break;case"Font":this.setFont(z);break;case"CA":this.setStrokeAlpha(z);break;case"ca":this.setFillAlpha(z);break;default:(0,u.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){const w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const z=this.current;let V=z.dashArray;F!==1&&V.length>0&&(V=V.map(function($){return F*$})),w.setAttributeNS(null,"stroke",z.strokeColor),w.setAttributeNS(null,"stroke-opacity",z.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",l(z.miterLimit)),w.setAttributeNS(null,"stroke-linecap",z.lineCap),w.setAttributeNS(null,"stroke-linejoin",z.lineJoin),w.setAttributeNS(null,"stroke-width",l(F*z.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",V.map(l).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",l(F*z.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){const F=this.getObject(w);if(!F){(0,u.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(w,F){const z=w.width,V=w.height,$=c(w,this.forceDataSchema,!!F),j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",l(z)),j.setAttributeNS(null,"height",l(V)),this.current.element=j,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(x,"xlink:href",$),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",l(-V)),J.setAttributeNS(null,"width",l(z)+"px"),J.setAttributeNS(null,"height",l(V)+"px"),J.setAttributeNS(null,"transform",`scale(${l(1/z)} ${l(-1/V)})`),F?F.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(w){const F=this.getObject(w.data,w);if(F.bitmap){(0,u.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const z=this.current,V=F.width,$=F.height,j=z.fillColor;z.maskId=`mask${m++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",z.maskId);const he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",l(V)),he.setAttributeNS(null,"height",l($)),he.setAttributeNS(null,"fill",j),he.setAttributeNS(null,"mask",`url(#${z.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(he),this.paintInlineImageXObject(F,J)}paintFormXObjectBegin(w,F){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),F){const z=F[2]-F[0],V=F[3]-F[1],$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x",F[0]),$.setAttributeNS(null,"y",F[1]),$.setAttributeNS(null,"width",l(z)),$.setAttributeNS(null,"height",l(V)),this.current.element=$,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){const F=this.svgFactory.create(w.width,w.height),z=this.svgFactory.createElement("svg:defs");F.append(z),this.defs=z;const V=this.svgFactory.createElement("svg:g");return V.setAttributeNS(null,"transform",p(w.transform)),F.append(V),this.svg=V,F}_ensureClipGroup(){if(!this.current.clipGroup){const w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}a.SVGGraphics=N}),((h,a,n)=>{var i=n(3),u=n(188),f=n(193);i({target:"Array",proto:!0},{group:function(x){var M=arguments.length>1?arguments[1]:void 0;return u(this,x,M)}}),f("group")}),((h,a,n)=>{var i=n(99),u=n(14),f=n(13),S=n(40),x=n(18),M=n(64),d=n(189),o=n(108),c=Array,v=u([].push);h.exports=function(A,l,p,y){for(var m=S(A),P=f(m),N=i(l,p),L=d(null),w=M(P),F=0,z,V,$;w>F;F++)$=P[F],V=x(N($,F,m)),V in L?v(L[V],$):L[V]=[$];if(y&&(z=y(m),z!==c))for(V in L)L[V]=o(z,L[V]);return L}}),((h,a,n)=>{var i=n(47),u=n(190),f=n(66),S=n(55),x=n(192),M=n(43),d=n(54),o=">",c="<",v="prototype",A="script",l=d("IE_PROTO"),p=function(){},y=function(w){return c+A+o+w+c+"/"+A+o},m=function(w){w.write(y("")),w.close();var F=w.parentWindow.Object;return w=null,F},P=function(){var w=M("iframe"),F="java"+A+":",z;return w.style.display="none",x.appendChild(w),w.src=String(F),z=w.contentWindow.document,z.open(),z.write(y("document.F=Object")),z.close(),z.F},N,L=function(){try{N=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&N?m(N):P():m(N);for(var w=f.length;w--;)delete L[v][f[w]];return L()};S[l]=!0,h.exports=Object.create||function(F,z){var V;return F!==null?(p[v]=i(F),V=new p,p[v]=null,V[l]=F):V=L(),z===void 0?V:u.f(V,z)}}),((h,a,n)=>{var i=n(6),u=n(46),f=n(45),S=n(47),x=n(12),M=n(191);a.f=i&&!u?Object.defineProperties:function(o,c){S(o);for(var v=x(c),A=M(c),l=A.length,p=0,y;l>p;)f.f(o,y=A[p++],v[y]);return o}}),((h,a,n)=>{var i=n(59),u=n(66);h.exports=Object.keys||function(S){return i(S,u)}}),((h,a,n)=>{var i=n(24);h.exports=i("document","documentElement")}),((h,a,n)=>{var i=n(34),u=n(189),f=n(45).f,S=i("unscopables"),x=Array.prototype;x[S]===void 0&&f(x,S,{configurable:!0,value:u(null)}),h.exports=function(M){x[S][M]=!0}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0,n(89);class i{static textContent(f){const S=[],x={items:S,styles:Object.create(null)};function M(d){if(!d)return;let o=null;const c=d.name;if(c==="#text")o=d.value;else if(i.shouldBuildText(c))d?.attributes?.textContent?o=d.attributes.textContent:d.value&&(o=d.value);else return;if(o!==null&&S.push({str:o}),!!d.children)for(const v of d.children)M(v)}return M(f),x}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}a.XfaText=i}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextLayerRenderTask=void 0,a.renderTextLayer=p,a.updateTextLayer=y,n(89),n(2);var i=n(1),u=n(168);const f=1e5,S=30,x=.8,M=new Map;function d(m,P){let N;if(P&&i.FeatureTest.isOffscreenCanvasSupported)N=new OffscreenCanvas(m,m).getContext("2d",{alpha:!1});else{const L=document.createElement("canvas");L.width=L.height=m,N=L.getContext("2d",{alpha:!1})}return N}function o(m,P){const N=M.get(m);if(N)return N;const L=d(S,P);L.font=`${S}px ${m}`;const w=L.measureText("");let F=w.fontBoundingBoxAscent,z=Math.abs(w.fontBoundingBoxDescent);if(F){const $=F/(F+z);return M.set(m,$),L.canvas.width=L.canvas.height=0,$}L.strokeStyle="red",L.clearRect(0,0,S,S),L.strokeText("g",0,0);let V=L.getImageData(0,0,S,S).data;z=0;for(let $=V.length-1-3;$>=0;$-=4)if(V[$]>0){z=Math.ceil($/4/S);break}L.clearRect(0,0,S,S),L.strokeText("A",0,S),V=L.getImageData(0,0,S,S).data,F=0;for(let $=0,j=V.length;$<j;$+=4)if(V[$]>0){F=S-Math.floor($/4/S);break}if(L.canvas.width=L.canvas.height=0,F){const $=F/(F+z);return M.set(m,$),$}return M.set(m,x),x}function c(m,P,N){const L=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};m._textDivs.push(L);const F=i.Util.transform(m._transform,P.transform);let z=Math.atan2(F[1],F[0]);const V=N[P.fontName];V.vertical&&(z+=Math.PI/2);const $=Math.hypot(F[2],F[3]),j=$*o(V.fontFamily,m._isOffscreenCanvasSupported);let J,he;z===0?(J=F[4],he=F[5]-j):(J=F[4]+j*Math.sin(z),he=F[5]-j*Math.cos(z));const le="calc(var(--scale-factor)*",de=L.style;m._container===m._rootContainer?(de.left=`${(100*J/m._pageWidth).toFixed(2)}%`,de.top=`${(100*he/m._pageHeight).toFixed(2)}%`):(de.left=`${le}${J.toFixed(2)}px)`,de.top=`${le}${he.toFixed(2)}px)`),de.fontSize=`${le}${$.toFixed(2)}px)`,de.fontFamily=V.fontFamily,w.fontSize=$,L.setAttribute("role","presentation"),L.textContent=P.str,L.dir=P.dir,m._fontInspectorEnabled&&(L.dataset.fontName=P.fontName),z!==0&&(w.angle=z*(180/Math.PI));let fe=!1;if(P.str.length>1)fe=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const ne=Math.abs(P.transform[0]),Y=Math.abs(P.transform[3]);ne!==Y&&Math.max(ne,Y)/Math.min(ne,Y)>1.5&&(fe=!0)}fe&&(w.canvasWidth=V.vertical?P.height:P.width),m._textDivProperties.set(L,w),m._isReadableStream&&m._layoutText(L)}function v(m){const{div:P,scale:N,properties:L,ctx:w,prevFontSize:F,prevFontFamily:z}=m,{style:V}=P;let $="";if(L.canvasWidth!==0&&L.hasText){const{fontFamily:j}=V,{canvasWidth:J,fontSize:he}=L;(F!==he||z!==j)&&(w.font=`${he*N}px ${j}`,m.prevFontSize=he,m.prevFontFamily=j);const{width:le}=w.measureText(P.textContent);le>0&&($=`scaleX(${J*N/le})`)}L.angle!==0&&($=`rotate(${L.angle}deg) ${$}`),$.length>0&&(V.transform=$)}function A(m){if(m._canceled)return;const P=m._textDivs,N=m._capability;if(P.length>f){N.resolve();return}if(!m._isReadableStream)for(const w of P)m._layoutText(w);N.resolve()}class l{constructor(P){let{textContentSource:N,container:L,viewport:w,textDivs:F,textDivProperties:z,textContentItemsStr:V,isOffscreenCanvasSupported:$}=P;this._textContentSource=N,this._isReadableStream=N instanceof ReadableStream,this._container=this._rootContainer=L,this._textDivs=F||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=z||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,$)};const{pageWidth:j,pageHeight:J,pageX:he,pageY:le}=w.rawDims;this._transform=[1,0,0,-1,-he,le+J],this._pageWidth=j,this._pageHeight=J,(0,u.setLayerDimensions)(L,w),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(P,N){for(const L of P){if(L.str===void 0){if(L.type==="beginMarkedContentProps"||L.type==="beginMarkedContent"){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),L.id!==null&&this._container.setAttribute("id",`${L.id}`),w.append(this._container)}else L.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(L.str),c(this,L,N)}}_layoutText(P){const N=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,v(this._layoutTextParams),N.hasText&&this._container.append(P),N.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),this._container.append(L)}}_render(){const P=new i.PromiseCapability;let N=Object.create(null);if(this._isReadableStream){const L=()=>{this._reader.read().then(w=>{let{value:F,done:z}=w;if(z){P.resolve();return}Object.assign(N,F.styles),this._processItems(F.items,N),L()},P.reject)};this._reader=this._textContentSource.getReader(),L()}else if(this._textContentSource){const{items:L,styles:w}=this._textContentSource;this._processItems(L,w),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{N=null,A(this)},this._capability.reject)}}a.TextLayerRenderTask=l;function p(m){!m.textContentSource&&(m.textContent||m.textContentStream)&&((0,u.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),m.textContentSource=m.textContent||m.textContentStream);const{container:P,viewport:N}=m,L=getComputedStyle(P),w=L.getPropertyValue("visibility"),F=parseFloat(L.getPropertyValue("--scale-factor"));w==="visible"&&(!F||Math.abs(F-N.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const z=new l(m);return z._render(),z}function y(m){let{container:P,viewport:N,textDivs:L,textDivProperties:w,isOffscreenCanvasSupported:F,mustRotate:z=!0,mustRescale:V=!0}=m;if(z&&(0,u.setLayerDimensions)(P,{rotation:N.rotation}),V){const $=d(0,F),J={prevFontSize:null,prevFontFamily:null,div:null,scale:N.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const he of L)J.properties=w.get(he),J.div=he,v(J)}}}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditorLayer=void 0,n(125),n(136),n(138),n(141),n(143),n(145),n(147);var i=n(1),u=n(164),f=n(197),S=n(202),x=n(168),M=n(203);class d{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor(c){let{uiManager:v,pageIndex:A,div:l,accessibilityManager:p,annotationLayer:y,viewport:m,l10n:P}=c;const N=[f.FreeTextEditor,S.InkEditor,M.StampEditor];if(!d._initialized){d._initialized=!0;for(const L of N)L.initialize(P)}v.registerEditorTypes(N),this.#i=v,this.pageIndex=A,this.div=l,this.#e=p,this.#n=y,this.viewport=m,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(c){this.#i.updateToolbar(c)}updateMode(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.#i.getMode();this.#p(),c===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),c!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",c===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",c===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",c===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(c){if(!c&&this.#i.getMode()!==i.AnnotationEditorType.INK)return;if(!c){for(const A of this.#a.values())if(A.isEmpty()){A.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(c){this.#i.setEditingState(c)}addCommands(c){this.#i.addCommands(c)}enable(){this.div.style.pointerEvents="auto";const c=new Set;for(const A of this.#a.values())A.enableEditing(),A.annotationElementId&&c.add(A.annotationElementId);if(!this.#n)return;const v=this.#n.getEditableAnnotations();for(const A of v){if(A.hide(),this.#i.isDeletedAnnotationElement(A.data.id)||c.has(A.data.id))continue;const l=this.deserialize(A);l&&(this.addOrRebuild(l),l.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const c=new Set;for(const v of this.#a.values()){if(v.disableEditing(),!v.annotationElementId||v.serialize()!==null){c.add(v.annotationElementId);continue}this.getEditableAnnotation(v.annotationElementId)?.show(),v.remove()}if(this.#n){const v=this.#n.getEditableAnnotations();for(const A of v){const{id:l}=A.data;c.has(l)||this.#i.isDeletedAnnotationElement(l)||A.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(c){return this.#n?.getEditableAnnotation(c)||null}setActiveEditor(c){this.#i.getActive()!==c&&this.#i.setActiveEditor(c)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(c){this.#a.set(c.id,c);const{annotationElementId:v}=c;v&&this.#i.isDeletedAnnotationElement(v)&&this.#i.removeDeletedAnnotationElement(c)}detach(c){this.#a.delete(c.id),this.#e?.removePointerInTextLayer(c.contentDiv),!this.#u&&c.annotationElementId&&this.#i.addDeletedAnnotationElement(c)}remove(c){this.detach(c),this.#i.removeEditor(c),c.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),c.div.remove(),c.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(c){c.parent!==this&&(c.annotationElementId&&(this.#i.addDeletedAnnotationElement(c.annotationElementId),u.AnnotationEditor.deleteAnnotationElement(c),c.annotationElementId=null),this.attach(c),c.parent?.detach(c),c.setParent(this),c.div&&c.isAttachedToDOM&&(c.div.remove(),this.div.append(c.div)))}add(c){if(this.changeParent(c),this.#i.addEditor(c),this.attach(c),!c.isAttachedToDOM){const v=c.render();this.div.append(v),c.isAttachedToDOM=!0}c.fixAndSetPosition(),c.onceAdded(),this.#i.addToAnnotationStorage(c)}moveEditorInDOM(c){if(!c.isAttachedToDOM)return;const{activeElement:v}=document;c.div.contains(v)&&(c._focusEventsAllowed=!1,setTimeout(()=>{c.div.contains(document.activeElement)?c._focusEventsAllowed=!0:(c.div.addEventListener("focusin",()=>{c._focusEventsAllowed=!0},{once:!0}),v.focus())},0)),c._structTreeParentId=this.#e?.moveElementInDOM(this.div,c.div,c.contentDiv,!0)}addOrRebuild(c){c.needsToBeRebuilt()?c.rebuild():this.add(c)}addUndoableEditor(c){const v=()=>c._uiManager.rebuild(c),A=()=>{c.remove()};this.addCommands({cmd:v,undo:A,mustExec:!1})}getNextId(){return this.#i.getId()}#f(c){switch(this.#i.getMode()){case i.AnnotationEditorType.FREETEXT:return new f.FreeTextEditor(c);case i.AnnotationEditorType.INK:return new S.InkEditor(c);case i.AnnotationEditorType.STAMP:return new M.StampEditor(c)}return null}pasteEditor(c,v){this.#i.updateToolbar(c),this.#i.updateMode(c);const{offsetX:A,offsetY:l}=this.#h(),p=this.getNextId(),y=this.#f({parent:this,id:p,x:A,y:l,uiManager:this.#i,isCentered:!0,...v});y&&this.add(y)}deserialize(c){switch(c.annotationType??c.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return f.FreeTextEditor.deserialize(c,this,this.#i);case i.AnnotationEditorType.INK:return S.InkEditor.deserialize(c,this,this.#i);case i.AnnotationEditorType.STAMP:return M.StampEditor.deserialize(c,this,this.#i)}return null}#d(c,v){const A=this.getNextId(),l=this.#f({parent:this,id:A,x:c.offsetX,y:c.offsetY,uiManager:this.#i,isCentered:v});return l&&this.add(l),l}#h(){const{x:c,y:v,width:A,height:l}=this.div.getBoundingClientRect(),p=Math.max(0,c),y=Math.max(0,v),m=Math.min(window.innerWidth,c+A),P=Math.min(window.innerHeight,v+l),N=(p+m)/2-c,L=(y+P)/2-v,[w,F]=this.viewport.rotation%180===0?[N,L]:[L,N];return{offsetX:w,offsetY:F}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(c){this.#i.setSelected(c)}toggleSelected(c){this.#i.toggleSelected(c)}isSelected(c){return this.#i.isSelected(c)}unselect(c){this.#i.unselect(c)}pointerup(c){const{isMac:v}=i.FeatureTest.platform;if(!(c.button!==0||c.ctrlKey&&v)&&c.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===i.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(c,!1)}}pointerdown(c){if(this.#s){this.#s=!1;return}const{isMac:v}=i.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&v||c.target!==this.div)return;this.#s=!0;const A=this.#i.getActive();this.#t=!A||A.isEmpty()}findNewParent(c,v,A){const l=this.#i.findParent(v,A);return l===null||l===this?!1:(l.changeParent(c),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const c of this.#a.values())this.#e?.removePointerInTextLayer(c.contentDiv),c.setParent(null),c.isAttachedToDOM=!1,c.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const c of this.#a.values())c.isEmpty()&&c.remove();this.#l=!1}render(c){let{viewport:v}=c;this.viewport=v,(0,x.setLayerDimensions)(this.div,v);for(const A of this.#i.getEditors(this.pageIndex))this.add(A);this.updateMode()}update(c){let{viewport:v}=c;this.#i.commitOrRemove(),this.viewport=v,(0,x.setLayerDimensions)(this.div,{rotation:v.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:c,pageHeight:v}=this.viewport.rawDims;return[c,v]}}a.AnnotationEditorLayer=d}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FreeTextEditor=void 0,n(89);var i=n(1),u=n(165),f=n(164),S=n(198);class x extends f.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=x.prototype,o=A=>A.isEmpty(),c=u.AnnotationEditorUIManager.TRANSLATE_SMALL,v=u.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new u.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-c,0],checker:o}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-v,0],checker:o}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[c,0],checker:o}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[v,0],checker:o}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-c],checker:o}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-v],checker:o}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,c],checker:o}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,v],checker:o}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#o=d.color||x._defaultColor||f.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||x._defaultFontSize}static initialize(d){f.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,o){switch(d){case i.AnnotationEditorParamsType.FREETEXT_SIZE:x._defaultFontSize=o;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:x._defaultColor=o;break}}updateParams(d,o){switch(d){case i.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(o);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(o);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,x._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,x._defaultColor||f.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[i.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(d){const o=v=>{this.editorDiv.style.fontSize=`calc(${v}px * var(--scale-factor))`,this.translate(0,-(v-this.#l)*this.parentScale),this.#l=v,this.#h()},c=this.#l;this.addCommands({cmd:()=>{o(d)},undo:()=>{o(c)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const o=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=d},undo:()=>{this.#o=this.editorDiv.style.color=o},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,o){this._uiManager.translateSelectedEditors(d,o,!0)}getInitialTranslation(){const d=this.parentScale;return[-x._internalPadding*d,-(x._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const o=[];for(const c of d)o.push(c.innerText.replace(/\r\n?|\n/,""));return o.join(`
`)}#h(){const[d,o]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:v,div:A}=this,l=A.style.display;A.style.display="hidden",v.div.append(this.div),c=A.getBoundingClientRect(),A.remove(),A.style.display=l}this.rotation%180===this.parentRotation%180?(this.width=c.width/d,this.height=c.height/o):(this.width=c.height/d,this.height=c.width/o),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#a,o=this.#a=this.#d().trimEnd();if(d===o)return;const c=v=>{if(this.#a=v,!v){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{c(o)},undo:()=>{c(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){x._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,o;this.width&&(d=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),f.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(v=>this.editorDiv?.setAttribute("aria-label",v)),f.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(v=>this.editorDiv?.setAttribute("default-content",v)),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${this.#l}px * var(--scale-factor))`,c.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,u.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[v,A]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this.#u;let[p,y]=this.getInitialTranslation();[p,y]=this.pageTranslationToScreen(p,y);const[m,P]=this.pageDimensions,[N,L]=this.pageTranslation;let w,F;switch(this.rotation){case 0:w=d+(l[0]-N)/m,F=o+this.height-(l[1]-L)/P;break;case 90:w=d+(l[0]-N)/m,F=o-(l[1]-L)/P,[p,y]=[y,-p];break;case 180:w=d-this.width+(l[0]-N)/m,F=o-(l[1]-L)/P,[p,y]=[-p,-y];break;case 270:w=d+(l[0]-N-this.height*P)/m,F=o+(l[1]-L-this.width*m)/P,[p,y]=[-y,p];break}this.setAt(w*v,F*A,p,y)}else this.setAt(d*v,o*A,this.width*v,this.height*A);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const d of this.#a.split(`
`)){const o=document.createElement("div");o.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(o)}}get contentDiv(){return this.editorDiv}static deserialize(d,o,c){let v=null;if(d instanceof S.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:l,fontColor:p},rect:y,rotation:m,id:P},textContent:N,textPosition:L,parent:{page:{pageNumber:w}}}=d;if(!N||N.length===0)return null;v=d={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(p),fontSize:l,value:N.join(`
`),position:L,pageIndex:w-1,rect:y,rotation:m,id:P,deleted:!1}}const A=super.deserialize(d,o,c);return A.#l=d.fontSize,A.#o=i.Util.makeHexColor(...d.color),A.#a=d.value,A.annotationElementId=d.id||null,A.#u=v,A}serialize(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const o=x._internalPadding*this.parentScale,c=this.getRect(o,o),v=f.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),A={annotationType:i.AnnotationEditorType.FREETEXT,color:v,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?A:this.annotationElementId&&!this.#v(A)?null:(A.id=this.annotationElementId,A)}#v(d){const{value:o,fontSize:c,color:v,rect:A,pageIndex:l}=this.#u;return d.value!==o||d.fontSize!==c||d.rect.some((p,y)=>Math.abs(p-A[y])>=1)||d.color.some((p,y)=>p!==v[y])||d.pageIndex!==l}#m(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const o=x._internalPadding*this.parentScale;this.#u.rect=this.getRect(o,o)}}a.FreeTextEditor=x}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StampAnnotationElement=a.InkAnnotationElement=a.FreeTextAnnotationElement=a.AnnotationLayer=void 0,n(89),n(125),n(136),n(138),n(141),n(143),n(145),n(147);var i=n(1),u=n(168),f=n(163),S=n(199),x=n(200),M=n(201);const d=1e3,o=9,c=new WeakSet;function v(W){return{width:W[2]-W[0],height:W[3]-W[1]}}class A{static create(E){switch(E.data.annotationType){case i.AnnotationType.LINK:return new p(E);case i.AnnotationType.TEXT:return new y(E);case i.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new P(E);case"Btn":return E.data.radioButton?new w(E):E.data.checkBox?new L(E):new F(E);case"Ch":return new z(E);case"Sig":return new N(E)}return new m(E);case i.AnnotationType.POPUP:return new V(E);case i.AnnotationType.FREETEXT:return new j(E);case i.AnnotationType.LINE:return new J(E);case i.AnnotationType.SQUARE:return new he(E);case i.AnnotationType.CIRCLE:return new le(E);case i.AnnotationType.POLYLINE:return new de(E);case i.AnnotationType.CARET:return new ne(E);case i.AnnotationType.INK:return new Y(E);case i.AnnotationType.POLYGON:return new fe(E);case i.AnnotationType.HIGHLIGHT:return new I(E);case i.AnnotationType.UNDERLINE:return new C(E);case i.AnnotationType.SQUIGGLY:return new k(E);case i.AnnotationType.STRIKEOUT:return new T(E);case i.AnnotationType.STAMP:return new B(E);case i.AnnotationType.FILEATTACHMENT:return new H(E);default:return new l(E)}}}class l{#e=!1;constructor(E){let{isRenderable:R=!1,ignoreBorder:O=!1,createQuadrilaterals:_=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=R,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,R&&(this.container=this._createContainer(O)),_&&this._createQuadrilaterals()}static _hasPopupData(E){let{titleObj:R,contentsObj:O,richText:_}=E;return!!(R?.str||O?.str||_?.str)}get hasPopupData(){return l._hasPopupData(this.data)}_createContainer(E){const{data:R,parent:{page:O,viewport:_}}=this,D=document.createElement("section");D.setAttribute("data-annotation-id",R.id),this instanceof m||(D.tabIndex=d),D.style.zIndex=this.parent.zIndex++,this.data.popupRef&&D.setAttribute("aria-haspopup","dialog"),R.noRotate&&D.classList.add("norotate");const{pageWidth:X,pageHeight:Q,pageX:te,pageY:Se}=_.rawDims;if(!R.rect||this instanceof V){const{rotation:me}=R;return!R.hasOwnCanvas&&me!==0&&this.setRotation(me,D),D}const{width:se,height:ue}=v(R.rect),pe=i.Util.normalizeRect([R.rect[0],O.view[3]-R.rect[1]+O.view[1],R.rect[2],O.view[3]-R.rect[3]+O.view[1]]);if(!E&&R.borderStyle.width>0){D.style.borderWidth=`${R.borderStyle.width}px`;const me=R.borderStyle.horizontalCornerRadius,Ce=R.borderStyle.verticalCornerRadius;if(me>0||Ce>0){const Fe=`calc(${me}px * var(--scale-factor)) / calc(${Ce}px * var(--scale-factor))`;D.style.borderRadius=Fe}else if(this instanceof w){const Fe=`calc(${se}px * var(--scale-factor)) / calc(${ue}px * var(--scale-factor))`;D.style.borderRadius=Fe}switch(R.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:D.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:D.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:D.style.borderBottomStyle="solid";break}const Te=R.borderColor||null;Te?(this.#e=!0,D.style.borderColor=i.Util.makeHexColor(Te[0]|0,Te[1]|0,Te[2]|0)):D.style.borderWidth=0}D.style.left=`${100*(pe[0]-te)/X}%`,D.style.top=`${100*(pe[1]-Se)/Q}%`;const{rotation:ge}=R;return R.hasOwnCanvas||ge===0?(D.style.width=`${100*se/X}%`,D.style.height=`${100*ue/Q}%`):this.setRotation(ge,D),D}setRotation(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:O,pageHeight:_}=this.parent.viewport.rawDims,{width:D,height:X}=v(this.data.rect);let Q,te;E%180===0?(Q=100*D/O,te=100*X/_):(Q=100*X/O,te=100*D/_),R.style.width=`${Q}%`,R.style.height=`${te}%`,R.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){const E=(R,O,_)=>{const D=_.detail[R],X=D[0],Q=D.slice(1);_.target.style[O]=S.ColorConverters[`${X}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[O]:S.ColorConverters[`${X}_rgb`](Q)})};return(0,i.shadow)(this,"_commonActions",{display:R=>{const{display:O}=R.detail,_=O%2===1;this.container.style.visibility=_?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_,noPrint:O===1||O===2})},print:R=>{this.annotationStorage.setValue(this.data.id,{noPrint:!R.detail.print})},hidden:R=>{const{hidden:O}=R.detail;this.container.style.visibility=O?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:O,noView:O})},focus:R=>{setTimeout(()=>R.target.focus({preventScroll:!1}),0)},userName:R=>{R.target.title=R.detail.userName},readonly:R=>{R.target.disabled=R.detail.readonly},required:R=>{this._setRequired(R.target,R.detail.required)},bgColor:R=>{E("bgColor","backgroundColor",R)},fillColor:R=>{E("fillColor","backgroundColor",R)},fgColor:R=>{E("fgColor","color",R)},textColor:R=>{E("textColor","color",R)},borderColor:R=>{E("borderColor","borderColor",R)},strokeColor:R=>{E("strokeColor","borderColor",R)},rotation:R=>{const O=R.detail.rotation;this.setRotation(O),this.annotationStorage.setValue(this.data.id,{rotation:O})}})}_dispatchEventFromSandbox(E,R){const O=this._commonActions;for(const _ of Object.keys(R.detail))(E[_]||O[_])?.(R)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;const R=this.annotationStorage.getRawValue(this.data.id);if(!R)return;const O=this._commonActions;for(const[_,D]of Object.entries(R)){const X=O[_];if(X){const Q={detail:{[_]:D},target:E};X(Q),delete R[_]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:E}=this.data;if(!E)return;const[R,O,_,D]=this.data.rect;if(E.length===1){const[,{x:Ce,y:Te},{x:Fe,y:Ue}]=E[0];if(_===Ce&&D===Te&&R===Fe&&O===Ue)return}const{style:X}=this.container;let Q;if(this.#e){const{borderColor:Ce,borderWidth:Te}=X;X.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ce}" stroke-width="${Te}">`],this.container.classList.add("hasBorder")}const te=_-R,Se=D-O,{svgFactory:se}=this,ue=se.createElement("svg");ue.classList.add("quadrilateralsContainer"),ue.setAttribute("width",0),ue.setAttribute("height",0);const pe=se.createElement("defs");ue.append(pe);const ge=se.createElement("clipPath"),me=`clippath_${this.data.id}`;ge.setAttribute("id",me),ge.setAttribute("clipPathUnits","objectBoundingBox"),pe.append(ge);for(const[,{x:Ce,y:Te},{x:Fe,y:Ue}]of E){const We=se.createElement("rect"),Ye=(Fe-R)/te,nt=(D-Te)/Se,ct=(Ce-Fe)/te,Lt=(Te-Ue)/Se;We.setAttribute("x",Ye),We.setAttribute("y",nt),We.setAttribute("width",ct),We.setAttribute("height",Lt),ge.append(We),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${Ye}" y="${nt}" width="${ct}" height="${Lt}"/>`)}this.#e&&(Q.push("</g></svg>')"),X.backgroundImage=Q.join("")),this.container.append(ue),this.container.style.clipPath=`url(#${me})`}_createPopup(){const{container:E,data:R}=this;E.setAttribute("aria-haspopup","dialog");const O=new V({data:{color:R.color,titleObj:R.titleObj,modificationDate:R.modificationDate,contentsObj:R.contentsObj,richText:R.richText,parentRect:R.rect,borderStyle:0,id:`popup_${R.id}`,rotation:R.rotation},parent:this.parent,elements:[this]});this.parent.div.append(O.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const O=[];if(this._fieldObjects){const _=this._fieldObjects[E];if(_)for(const{page:D,id:X,exportValues:Q}of _){if(D===-1||X===R)continue;const te=typeof Q=="string"?Q:null,Se=document.querySelector(`[data-element-id="${X}"]`);if(Se&&!c.has(Se)){(0,i.warn)(`_getElementsByName - element not allowed: ${X}`);continue}O.push({id:X,exportValue:te,domElement:Se})}return O}for(const _ of document.getElementsByName(E)){const{exportValue:D}=_,X=_.getAttribute("data-element-id");X!==R&&c.has(_)&&O.push({id:X,exportValue:D,domElement:_})}return O}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(const R of E)R.classList.add("highlightArea");else E.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:E,data:{id:R}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:R})})}}class p extends l{constructor(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(E,{isRenderable:!0,ignoreBorder:!!R?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){const{data:E,linkService:R}=this,O=document.createElement("a");O.setAttribute("data-element-id",E.id);let _=!1;return E.url?(R.addLinkAttributes(O,E.url,E.newWindow),_=!0):E.action?(this._bindNamedAction(O,E.action),_=!0):E.attachment?(this._bindAttachment(O,E.attachment),_=!0):E.setOCGState?(this.#t(O,E.setOCGState),_=!0):E.dest?(this._bindLink(O,E.dest),_=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(O,E),_=!0),E.resetForm?(this._bindResetFormAction(O,E.resetForm),_=!0):this.isTooltipOnly&&!_&&(this._bindLink(O,""),_=!0)),this.container.classList.add("linkAnnotation"),_&&this.container.append(O),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,R){E.href=this.linkService.getDestinationHash(R),E.onclick=()=>(R&&this.linkService.goToDestination(R),!1),(R||R==="")&&this.#e()}_bindNamedAction(E,R){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(R),!1),this.#e()}_bindAttachment(E,R){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,R.content,R.filename),!1),this.#e()}#t(E,R){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(R),!1),this.#e()}_bindJSAction(E,R){E.href=this.linkService.getAnchorUrl("");const O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _ of Object.keys(R.actions)){const D=O.get(_);D&&(E[D]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R.id,name:_}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,R){const O=E.onclick;if(O||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),O||(E.onclick=()=>!1);return}E.onclick=()=>{O?.();const{fields:_,refs:D,include:X}=R,Q=[];if(_.length!==0||D.length!==0){const se=new Set(D);for(const ue of _){const pe=this._fieldObjects[ue]||[];for(const{id:ge}of pe)se.add(ge)}for(const ue of Object.values(this._fieldObjects))for(const pe of ue)se.has(pe.id)===X&&Q.push(pe)}else for(const se of Object.values(this._fieldObjects))Q.push(...se);const te=this.annotationStorage,Se=[];for(const se of Q){const{id:ue}=se;switch(Se.push(ue),se.type){case"text":{const ge=se.defaultValue||"";te.setValue(ue,{value:ge});break}case"checkbox":case"radiobutton":{const ge=se.defaultValue===se.exportValues;te.setValue(ue,{value:ge});break}case"combobox":case"listbox":{const ge=se.defaultValue||"";te.setValue(ue,{value:ge});break}default:continue}const pe=document.querySelector(`[data-element-id="${ue}"]`);if(pe){if(!c.has(pe)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${ue}`);continue}}else continue;pe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Se,name:"ResetForm"}}),!1}}}class y extends l{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class m extends l{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){const{isWin:R,isMac:O}=i.FeatureTest.platform;return R&&E.ctrlKey||O&&E.metaKey}_setEventListener(E,R,O,_,D){O.includes("mouse")?E.addEventListener(O,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:D(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):E.addEventListener(O,X=>{if(O==="blur"){if(!R.focused||!X.relatedTarget)return;R.focused=!1}else if(O==="focus"){if(R.focused)return;R.focused=!0}D&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:D(X)}})})}_setEventListeners(E,R,O,_){for(const[D,X]of O)(X==="Action"||this.data.actions?.[X])&&((X==="Focus"||X==="Blur")&&(R||={focused:!1}),this._setEventListener(E,R,D,X,_),X==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,R,"blur","Blur",null):X==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,R,"focus","Focus",null))}_setBackgroundColor(E){const R=this.data.backgroundColor||null;E.style.backgroundColor=R===null?"transparent":i.Util.makeHexColor(R[0],R[1],R[2])}_setTextStyle(E){const R=["left","center","right"],{fontColor:O}=this.data.defaultAppearanceData,_=this.data.defaultAppearanceData.fontSize||o,D=E.style;let X;const Q=2,te=Se=>Math.round(10*Se)/10;if(this.data.multiLine){const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),se=Math.round(Se/(i.LINE_FACTOR*_))||1,ue=Se/se;X=Math.min(_,te(ue/i.LINE_FACTOR))}else{const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);X=Math.min(_,te(Se/i.LINE_FACTOR))}D.fontSize=`calc(${X}px * var(--scale-factor))`,D.color=i.Util.makeHexColor(O[0],O[1],O[2]),this.data.textAlignment!==null&&(D.textAlign=R[this.data.textAlignment])}_setRequired(E,R){R?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",R)}}class P extends m{constructor(E){const R=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:R})}setPropertyOnSiblings(E,R,O,_){const D=this.annotationStorage;for(const X of this._getElementsByName(E.name,E.id))X.domElement&&(X.domElement[R]=O),D.setValue(X.id,{[_]:O})}render(){const E=this.annotationStorage,R=this.data.id;this.container.classList.add("textWidgetAnnotation");let O=null;if(this.renderForms){const _=E.getValue(R,{value:this.data.fieldValue});let D=_.value||"";const X=E.getValue(R,{charLimit:this.data.maxLen}).charLimit;X&&D.length>X&&(D=D.slice(0,X));let Q=_.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const te={userValue:D,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(O=document.createElement("textarea"),O.textContent=Q??D,this.data.doNotScroll&&(O.style.overflowY="hidden")):(O=document.createElement("input"),O.type="text",O.setAttribute("value",Q??D),this.data.doNotScroll&&(O.style.overflowX="hidden")),this.data.hasOwnCanvas&&(O.hidden=!0),c.add(O),O.setAttribute("data-element-id",R),O.disabled=this.data.readOnly,O.name=this.data.fieldName,O.tabIndex=d,this._setRequired(O,this.data.required),X&&(O.maxLength=X),O.addEventListener("input",se=>{E.setValue(R,{value:se.target.value}),this.setPropertyOnSiblings(O,"value",se.target.value,"value"),te.formattedValue=null}),O.addEventListener("resetform",se=>{const ue=this.data.defaultFieldValue??"";O.value=te.userValue=ue,te.formattedValue=null});let Se=se=>{const{formattedValue:ue}=te;ue!=null&&(se.target.value=ue),se.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){O.addEventListener("focus",ue=>{if(te.focused)return;const{target:pe}=ue;te.userValue&&(pe.value=te.userValue),te.lastCommittedValue=pe.value,te.commitKey=1,te.focused=!0}),O.addEventListener("updatefromsandbox",ue=>{this.showElementAndHideCanvas(ue.target);const pe={value(ge){te.userValue=ge.detail.value??"",E.setValue(R,{value:te.userValue.toString()}),ge.target.value=te.userValue},formattedValue(ge){const{formattedValue:me}=ge.detail;te.formattedValue=me,me!=null&&ge.target!==document.activeElement&&(ge.target.value=me),E.setValue(R,{formattedValue:me})},selRange(ge){ge.target.setSelectionRange(...ge.detail.selRange)},charLimit:ge=>{const{charLimit:me}=ge.detail,{target:Ce}=ge;if(me===0){Ce.removeAttribute("maxLength");return}Ce.setAttribute("maxLength",me);let Te=te.userValue;!Te||Te.length<=me||(Te=Te.slice(0,me),Ce.value=te.userValue=Te,E.setValue(R,{value:Te}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Te,willCommit:!0,commitKey:1,selStart:Ce.selectionStart,selEnd:Ce.selectionEnd}}))}};this._dispatchEventFromSandbox(pe,ue)}),O.addEventListener("keydown",ue=>{te.commitKey=1;let pe=-1;if(ue.key==="Escape"?pe=0:ue.key==="Enter"&&!this.data.multiLine?pe=2:ue.key==="Tab"&&(te.commitKey=3),pe===-1)return;const{value:ge}=ue.target;te.lastCommittedValue!==ge&&(te.lastCommittedValue=ge,te.userValue=ge,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:ge,willCommit:!0,commitKey:pe,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}))});const se=Se;Se=null,O.addEventListener("blur",ue=>{if(!te.focused||!ue.relatedTarget)return;te.focused=!1;const{value:pe}=ue.target;te.userValue=pe,te.lastCommittedValue!==pe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:pe,willCommit:!0,commitKey:te.commitKey,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}),se(ue)}),this.data.actions?.Keystroke&&O.addEventListener("beforeinput",ue=>{te.lastCommittedValue=null;const{data:pe,target:ge}=ue,{value:me,selectionStart:Ce,selectionEnd:Te}=ge;let Fe=Ce,Ue=Te;switch(ue.inputType){case"deleteWordBackward":{const We=me.substring(0,Ce).match(/\w*[^\w]*$/);We&&(Fe-=We[0].length);break}case"deleteWordForward":{const We=me.substring(Ce).match(/^[^\w]*\w*/);We&&(Ue+=We[0].length);break}case"deleteContentBackward":Ce===Te&&(Fe-=1);break;case"deleteContentForward":Ce===Te&&(Ue+=1);break}ue.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:me,change:pe||"",willCommit:!1,selStart:Fe,selEnd:Ue}})}),this._setEventListeners(O,te,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.value)}if(Se&&O.addEventListener("blur",Se),this.data.comb){const ue=(this.data.rect[2]-this.data.rect[0])/X;O.classList.add("comb"),O.style.letterSpacing=`calc(${ue}px * var(--scale-factor) - 1ch)`}}else O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";return this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class N extends m{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class L extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){const E=this.annotationStorage,R=this.data,O=R.id;let _=E.getValue(O,{value:R.exportValue===R.fieldValue}).value;typeof _=="string"&&(_=_!=="Off",E.setValue(O,{value:_})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const D=document.createElement("input");return c.add(D),D.setAttribute("data-element-id",O),D.disabled=R.readOnly,this._setRequired(D,this.data.required),D.type="checkbox",D.name=R.fieldName,_&&D.setAttribute("checked",!0),D.setAttribute("exportValue",R.exportValue),D.tabIndex=d,D.addEventListener("change",X=>{const{name:Q,checked:te}=X.target;for(const Se of this._getElementsByName(Q,O)){const se=te&&Se.exportValue===R.exportValue;Se.domElement&&(Se.domElement.checked=se),E.setValue(Se.id,{value:se})}E.setValue(O,{value:te})}),D.addEventListener("resetform",X=>{const Q=R.defaultFieldValue||"Off";X.target.checked=Q===R.exportValue}),this.enableScripting&&this.hasJSActions&&(D.addEventListener("updatefromsandbox",X=>{const Q={value(te){te.target.checked=te.detail.value!=="Off",E.setValue(O,{value:te.target.checked})}};this._dispatchEventFromSandbox(Q,X)}),this._setEventListeners(D,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class w extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const E=this.annotationStorage,R=this.data,O=R.id;let _=E.getValue(O,{value:R.fieldValue===R.buttonValue}).value;typeof _=="string"&&(_=_!==R.buttonValue,E.setValue(O,{value:_}));const D=document.createElement("input");if(c.add(D),D.setAttribute("data-element-id",O),D.disabled=R.readOnly,this._setRequired(D,this.data.required),D.type="radio",D.name=R.fieldName,_&&D.setAttribute("checked",!0),D.tabIndex=d,D.addEventListener("change",X=>{const{name:Q,checked:te}=X.target;for(const Se of this._getElementsByName(Q,O))E.setValue(Se.id,{value:!1});E.setValue(O,{value:te})}),D.addEventListener("resetform",X=>{const Q=R.defaultFieldValue;X.target.checked=Q!=null&&Q===R.buttonValue}),this.enableScripting&&this.hasJSActions){const X=R.buttonValue;D.addEventListener("updatefromsandbox",Q=>{const te={value:Se=>{const se=X===Se.detail.value;for(const ue of this._getElementsByName(Se.target.name)){const pe=se&&ue.id===O;ue.domElement&&(ue.domElement.checked=pe),E.setValue(ue.id,{value:pe})}}};this._dispatchEventFromSandbox(te,Q)}),this._setEventListeners(D,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class F extends p{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){const E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);const R=E.lastChild;return this.enableScripting&&this.hasJSActions&&R&&(this._setDefaultPropertiesFromJS(R),R.addEventListener("updatefromsandbox",O=>{this._dispatchEventFromSandbox({},O)})),E}}class z extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const E=this.annotationStorage,R=this.data.id,O=E.getValue(R,{value:this.data.fieldValue}),_=document.createElement("select");c.add(_),_.setAttribute("data-element-id",R),_.disabled=this.data.readOnly,this._setRequired(_,this.data.required),_.name=this.data.fieldName,_.tabIndex=d;let D=this.data.combo&&this.data.options.length>0;this.data.combo||(_.size=this.data.options.length,this.data.multiSelect&&(_.multiple=!0)),_.addEventListener("resetform",se=>{const ue=this.data.defaultFieldValue;for(const pe of _.options)pe.selected=pe.value===ue});for(const se of this.data.options){const ue=document.createElement("option");ue.textContent=se.displayValue,ue.value=se.exportValue,O.value.includes(se.exportValue)&&(ue.setAttribute("selected",!0),D=!1),_.append(ue)}let X=null;if(D){const se=document.createElement("option");se.value=" ",se.setAttribute("hidden",!0),se.setAttribute("selected",!0),_.prepend(se),X=()=>{se.remove(),_.removeEventListener("input",X),X=null},_.addEventListener("input",X)}const Q=se=>{const ue=se?"value":"textContent",{options:pe,multiple:ge}=_;return ge?Array.prototype.filter.call(pe,me=>me.selected).map(me=>me[ue]):pe.selectedIndex===-1?null:pe[pe.selectedIndex][ue]};let te=Q(!1);const Se=se=>{const ue=se.target.options;return Array.prototype.map.call(ue,pe=>({displayValue:pe.textContent,exportValue:pe.value}))};return this.enableScripting&&this.hasJSActions?(_.addEventListener("updatefromsandbox",se=>{const ue={value(pe){X?.();const ge=pe.detail.value,me=new Set(Array.isArray(ge)?ge:[ge]);for(const Ce of _.options)Ce.selected=me.has(Ce.value);E.setValue(R,{value:Q(!0)}),te=Q(!1)},multipleSelection(pe){_.multiple=!0},remove(pe){const ge=_.options,me=pe.detail.remove;ge[me].selected=!1,_.remove(me),ge.length>0&&Array.prototype.findIndex.call(ge,Te=>Te.selected)===-1&&(ge[0].selected=!0),E.setValue(R,{value:Q(!0),items:Se(pe)}),te=Q(!1)},clear(pe){for(;_.length!==0;)_.remove(0);E.setValue(R,{value:null,items:[]}),te=Q(!1)},insert(pe){const{index:ge,displayValue:me,exportValue:Ce}=pe.detail.insert,Te=_.children[ge],Fe=document.createElement("option");Fe.textContent=me,Fe.value=Ce,Te?Te.before(Fe):_.append(Fe),E.setValue(R,{value:Q(!0),items:Se(pe)}),te=Q(!1)},items(pe){const{items:ge}=pe.detail;for(;_.length!==0;)_.remove(0);for(const me of ge){const{displayValue:Ce,exportValue:Te}=me,Fe=document.createElement("option");Fe.textContent=Ce,Fe.value=Te,_.append(Fe)}_.options.length>0&&(_.options[0].selected=!0),E.setValue(R,{value:Q(!0),items:Se(pe)}),te=Q(!1)},indices(pe){const ge=new Set(pe.detail.indices);for(const me of pe.target.options)me.selected=ge.has(me.index);E.setValue(R,{value:Q(!0)}),te=Q(!1)},editable(pe){pe.target.disabled=!pe.detail.editable}};this._dispatchEventFromSandbox(ue,se)}),_.addEventListener("input",se=>{const ue=Q(!0);E.setValue(R,{value:ue}),se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:te,changeEx:ue,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],se=>se.target.value)):_.addEventListener("input",function(se){E.setValue(R,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(_),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.append(_),this.container}}class V extends l{constructor(E){const{data:R,elements:O}=E;super(E,{isRenderable:l._hasPopupData(R)}),this.elements=O}render(){this.container.classList.add("popupAnnotation");const E=new $({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),R=[];for(const O of this.elements)O.popup=E,R.push(O.data.id),O.addHighlightArea();return this.container.setAttribute("aria-controls",R.map(O=>`${i.AnnotationPrefix}${O}`).join(",")),this.container}}class ${#e=null;#t=this.#c.bind(this);#n=this.#b.bind(this);#r=this.#x.bind(this);#o=this.#y.bind(this);#a=null;#s=null;#l=null;#u=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#m=null;#g=!1;constructor(E){let{container:R,color:O,elements:_,titleObj:D,modificationDate:X,contentsObj:Q,richText:te,parent:Se,rect:se,parentRect:ue,open:pe}=E;this.#s=R,this.#m=D,this.#l=Q,this.#v=te,this.#i=Se,this.#a=O,this.#p=se,this.#f=ue,this.#u=_;const ge=u.PDFDateString.toDateObject(X);ge&&(this.#e=Se.l10n.get("annotation_date_string",{date:ge.toLocaleDateString(),time:ge.toLocaleTimeString()})),this.trigger=_.flatMap(me=>me.getElementsToTriggerPopup());for(const me of this.trigger)me.addEventListener("click",this.#o),me.addEventListener("mouseenter",this.#r),me.addEventListener("mouseleave",this.#n),me.classList.add("popupTriggerArea");for(const me of _)me.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,pe&&this.#y()}render(){if(this.#h)return;const{page:{view:E},viewport:{rawDims:{pageWidth:R,pageHeight:O,pageX:_,pageY:D}}}=this.#i,X=this.#h=document.createElement("div");if(X.className="popup",this.#a){const We=X.style.outlineColor=i.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?X.style.backgroundColor=`color-mix(in srgb, ${We} 30%, white)`:X.style.backgroundColor=i.Util.makeHexColor(...this.#a.map(nt=>Math.floor(.7*(255-nt)+nt)))}const Q=document.createElement("span");Q.className="header";const te=document.createElement("h1");if(Q.append(te),{dir:te.dir,str:te.textContent}=this.#m,X.append(Q),this.#e){const We=document.createElement("span");We.classList.add("popupDate"),this.#e.then(Ye=>{We.textContent=Ye}),Q.append(We)}const Se=this.#l,se=this.#v;if(se?.str&&(!Se?.str||Se.str===se.str))M.XfaLayer.render({xfaHtml:se.html,intent:"richText",div:X}),X.lastChild.classList.add("richText","popupContent");else{const We=this._formatContents(Se);X.append(We)}let ue=!!this.#f,pe=ue?this.#f:this.#p;for(const We of this.#u)if(!pe||i.Util.intersect(We.data.rect,pe)!==null){pe=We.data.rect,ue=!0;break}const ge=i.Util.normalizeRect([pe[0],E[3]-pe[1]+E[1],pe[2],E[3]-pe[3]+E[1]]),Ce=ue?pe[2]-pe[0]+5:0,Te=ge[0]+Ce,Fe=ge[1],{style:Ue}=this.#s;Ue.left=`${100*(Te-_)/R}%`,Ue.top=`${100*(Fe-D)/O}%`,this.#s.append(X)}_formatContents(E){let{str:R,dir:O}=E;const _=document.createElement("p");_.classList.add("popupContent"),_.dir=O;const D=R.split(/(?:\r\n?|\n)/);for(let X=0,Q=D.length;X<Q;++X){const te=D[X];_.append(document.createTextNode(te)),X<Q-1&&_.append(document.createElement("br"))}return _}#c(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#x(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#b(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#x(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#b(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#s.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class j extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(const R of this.textContent){const O=document.createElement("span");O.textContent=R,E.append(O)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}a.FreeTextAnnotationElement=j;class J extends l{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const E=this.data,{width:R,height:O}=v(E.rect),_=this.svgFactory.create(R,O,!0),D=this.#e=this.svgFactory.createElement("svg:line");return D.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),D.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),D.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),D.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),D.setAttribute("stroke-width",E.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),_.append(D),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends l{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const E=this.data,{width:R,height:O}=v(E.rect),_=this.svgFactory.create(R,O,!0),D=E.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:rect");return X.setAttribute("x",D/2),X.setAttribute("y",D/2),X.setAttribute("width",R-D),X.setAttribute("height",O-D),X.setAttribute("stroke-width",D||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class le extends l{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const E=this.data,{width:R,height:O}=v(E.rect),_=this.svgFactory.create(R,O,!0),D=E.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:ellipse");return X.setAttribute("cx",R/2),X.setAttribute("cy",O/2),X.setAttribute("rx",R/2-D/2),X.setAttribute("ry",O/2-D/2),X.setAttribute("stroke-width",D||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends l{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:R,height:O}=v(E.rect),_=this.svgFactory.create(R,O,!0);let D=[];for(const Q of E.vertices){const te=Q.x-E.rect[0],Se=E.rect[3]-Q.y;D.push(te+","+Se)}D=D.join(" ");const X=this.#e=this.svgFactory.createElement(this.svgElementName);return X.setAttribute("points",D),X.setAttribute("stroke-width",E.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends de{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ne extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends l{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:R,height:O}=v(E.rect),_=this.svgFactory.create(R,O,!0);for(const D of E.inkLists){let X=[];for(const te of D){const Se=te.x-E.rect[0],se=E.rect[3]-te.y;X.push(`${Se},${se}`)}X=X.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",X),Q.setAttribute("stroke-width",E.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),_.append(Q)}return this.container.append(_),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}a.InkAnnotationElement=Y;class I extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class k extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class T extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class B extends l{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}a.StampAnnotationElement=B;class H extends l{#e=null;constructor(E){super(E,{isRenderable:!0});const{filename:R,content:O}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(R,!0),this.content=O,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:R,content:O})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:E,data:R}=this;let O;R.hasAppearance||R.fillAlpha===0?O=document.createElement("div"):(O=document.createElement("img"),O.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(R.name)?"paperclip":"pushpin"}.svg`,R.fillAlpha&&R.fillAlpha<1&&(O.style=`filter: opacity(${Math.round(R.fillAlpha*100)}%);`)),O.addEventListener("dblclick",this.#t.bind(this)),this.#e=O;const{isMac:_}=i.FeatureTest.platform;return E.addEventListener("keydown",D=>{D.key==="Enter"&&(_?D.metaKey:D.ctrlKey)&&this.#t()}),!R.popupRef&&this.hasPopupData?this._createPopup():O.classList.add("popupTriggerArea"),E.append(O),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class G{#e=null;#t=null;#n=new Map;constructor(E){let{div:R,accessibilityManager:O,annotationCanvasMap:_,l10n:D,page:X,viewport:Q}=E;this.div=R,this.#e=O,this.#t=_,this.l10n=D,this.page=X,this.viewport=Q,this.zIndex=0,this.l10n||=x.NullL10n}#r(E,R){const O=E.firstChild||E;O.id=`${i.AnnotationPrefix}${R}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,O,!1)}async render(E){const{annotations:R}=E,O=this.div;(0,u.setLayerDimensions)(O,this.viewport);const _=new Map,D={data:null,layer:O,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new u.DOMSVGFactory,annotationStorage:E.annotationStorage||new f.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(const X of R){if(X.noHTML)continue;const Q=X.annotationType===i.AnnotationType.POPUP;if(Q){const se=_.get(X.id);if(!se)continue;D.elements=se}else{const{width:se,height:ue}=v(X.rect);if(se<=0||ue<=0)continue}D.data=X;const te=A.create(D);if(!te.isRenderable)continue;if(!Q&&X.popupRef){const se=_.get(X.popupRef);se?se.push(te):_.set(X.popupRef,[te])}te.annotationEditorType>0&&this.#n.set(te.data.id,te);const Se=te.render();X.hidden&&(Se.style.visibility="hidden"),this.#r(Se,X.id)}this.#o(),await this.l10n.translate(O)}update(E){let{viewport:R}=E;const O=this.div;this.viewport=R,(0,u.setLayerDimensions)(O,{rotation:R.rotation}),this.#o(),O.hidden=!1}#o(){if(!this.#t)return;const E=this.div;for(const[R,O]of this.#t){const _=E.querySelector(`[data-annotation-id="${R}"]`);if(!_)continue;const{firstChild:D}=_;D?D.nodeName==="CANVAS"?D.replaceWith(O):D.before(O):_.append(O)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}a.AnnotationLayer=G}),((h,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0;function n(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}function i(f){return Math.max(0,Math.min(255,255*f))}class u{static CMYK_G(S){let[x,M,d,o]=S;return["G",1-Math.min(1,.3*x+.59*d+.11*M+o)]}static G_CMYK(S){let[x]=S;return["CMYK",0,0,0,1-x]}static G_RGB(S){let[x]=S;return["RGB",x,x,x]}static G_rgb(S){let[x]=S;return x=i(x),[x,x,x]}static G_HTML(S){let[x]=S;const M=n(x);return`#${M}${M}${M}`}static RGB_G(S){let[x,M,d]=S;return["G",.3*x+.59*M+.11*d]}static RGB_rgb(S){return S.map(i)}static RGB_HTML(S){return`#${S.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(S){let[x,M,d,o]=S;return["RGB",1-Math.min(1,x+o),1-Math.min(1,d+o),1-Math.min(1,M+o)]}static CMYK_rgb(S){let[x,M,d,o]=S;return[i(1-Math.min(1,x+o)),i(1-Math.min(1,d+o)),i(1-Math.min(1,M+o))]}static CMYK_HTML(S){const x=this.CMYK_RGB(S).slice(1);return this.RGB_HTML(x)}static RGB_CMYK(S){let[x,M,d]=S;const o=1-x,c=1-M,v=1-d,A=Math.min(o,c,v);return["CMYK",o,c,v,A]}}a.ColorConverters=u}),((h,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NullL10n=void 0,a.getL10nFallback=i;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function i(S,x){switch(S){case"find_match_count":S=`find_match_count[${x.total===1?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${x.limit===1?"one":"other"}]`;break}return n[S]||""}function u(S,x){return x?S.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(M,d)=>d in x?x[d]:"{{"+d+"}}"):S}const f={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(S){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i(S,x);return u(M,x)},async translate(S){}};a.NullL10n=f}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0,n(89);var i=n(194);class u{static setupStorage(S,x,M,d,o){const c=d.getValue(x,{value:null});switch(M.name){case"textarea":if(c.value!==null&&(S.textContent=c.value),o==="print")break;S.addEventListener("input",v=>{d.setValue(x,{value:v.target.value})});break;case"input":if(M.attributes.type==="radio"||M.attributes.type==="checkbox"){if(c.value===M.attributes.xfaOn?S.setAttribute("checked",!0):c.value===M.attributes.xfaOff&&S.removeAttribute("checked"),o==="print")break;S.addEventListener("change",v=>{d.setValue(x,{value:v.target.checked?v.target.getAttribute("xfaOn"):v.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&S.setAttribute("value",c.value),o==="print")break;S.addEventListener("input",v=>{d.setValue(x,{value:v.target.value})})}break;case"select":if(c.value!==null){S.setAttribute("value",c.value);for(const v of M.children)v.attributes.value===c.value?v.attributes.selected=!0:v.attributes.hasOwnProperty("selected")&&delete v.attributes.selected}S.addEventListener("input",v=>{const A=v.target.options,l=A.selectedIndex===-1?"":A[A.selectedIndex].value;d.setValue(x,{value:l})});break}}static setAttributes(S){let{html:x,element:M,storage:d=null,intent:o,linkService:c}=S;const{attributes:v}=M,A=x instanceof HTMLAnchorElement;v.type==="radio"&&(v.name=`${v.name}-${o}`);for(const[l,p]of Object.entries(v))if(p!=null)switch(l){case"class":p.length&&x.setAttribute(l,p.join(" "));break;case"dataId":break;case"id":x.setAttribute("data-element-id",p);break;case"style":Object.assign(x.style,p);break;case"textContent":x.textContent=p;break;default:(!A||l!=="href"&&l!=="newWindow")&&x.setAttribute(l,p)}A&&c.addLinkAttributes(x,v.href,v.newWindow),d&&v.dataId&&this.setupStorage(x,v.dataId,M,d)}static render(S){const x=S.annotationStorage,M=S.linkService,d=S.xfaHtml,o=S.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:o,linkService:M});const v=[[d,-1,c]],A=S.div;if(A.append(c),S.viewport){const p=`matrix(${S.viewport.transform.join(",")})`;A.style.transform=p}o!=="richText"&&A.setAttribute("class","xfaLayer xfaFont");const l=[];for(;v.length>0;){const[p,y,m]=v.at(-1);if(y+1===p.children.length){v.pop();continue}const P=p.children[++v.at(-1)[1]];if(P===null)continue;const{name:N}=P;if(N==="#text"){const w=document.createTextNode(P.value);l.push(w),m.append(w);continue}const L=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,N):document.createElement(N);if(m.append(L),P.attributes&&this.setAttributes({html:L,element:P,storage:x,intent:o,linkService:M}),P.children&&P.children.length>0)v.push([P,-1,L]);else if(P.value){const w=document.createTextNode(P.value);i.XfaText.shouldBuildText(N)&&l.push(w),L.append(w)}}for(const p of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:l}}static update(S){const x=`matrix(${S.viewport.transform.join(",")})`;S.div.style.transform=x,S.div.hidden=!1}}a.XfaLayer=u}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InkEditor=void 0,n(89),n(2);var i=n(1),u=n(164),f=n(198),S=n(168),x=n(165);class M extends u.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(o){super({...o,name:"inkEditor"}),this.color=o.color||null,this.thickness=o.thickness||null,this.opacity=o.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(o){u.AnnotationEditor.initialize(o,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(o,c){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:M._defaultThickness=c;break;case i.AnnotationEditorParamsType.INK_COLOR:M._defaultColor=c;break;case i.AnnotationEditorParamsType.INK_OPACITY:M._defaultOpacity=c/100;break}}updateParams(o,c){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:this.#v(c);break;case i.AnnotationEditorParamsType.INK_COLOR:this.#m(c);break;case i.AnnotationEditorParamsType.INK_OPACITY:this.#g(c);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,M._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,M._defaultColor||u.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(M._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||M._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||M._defaultColor||u.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??M._defaultOpacity))]]}#v(o){const c=this.thickness;this.addCommands({cmd:()=>{this.thickness=o,this.#k()},undo:()=>{this.thickness=c,this.#k()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(o){const c=this.color;this.addCommands({cmd:()=>{this.color=o,this.#S()},undo:()=>{this.color=c,this.#S()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(o){o/=100;const c=this.opacity;this.addCommands({cmd:()=>{this.opacity=o,this.#S()},undo:()=>{this.opacity=c,this.#S()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#k()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(o){!this.parent&&o?this._uiManager.removeShouldRescale(this):this.parent&&o===null&&this._uiManager.addShouldRescale(this),super.setParent(o)}onScaleChanging(){const[o,c]=this.parentDimensions,v=this.width*o,A=this.height*c;this.setDimensions(v,A)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:o,parentDimensions:[c,v]}=this;switch(o){case 90:return[0,v,v,c];case 180:return[c,v,c,v];case 270:return[c,0,v,c];default:return[0,0,c,v]}}#y(){const{ctx:o,color:c,opacity:v,thickness:A,parentScale:l,scaleFactor:p}=this;o.lineWidth=A*l/p,o.lineCap="round",o.lineJoin="round",o.miterLimit=10,o.strokeStyle=`${c}${(0,x.opacityToHex)(v)}`}#x(o,c){this.canvas.addEventListener("contextmenu",S.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#A(),this.thickness||=M._defaultThickness,this.color||=M._defaultColor||u.AnnotationEditor._defaultLineColor,this.opacity??=M._defaultOpacity),this.currentPath.push([o,c]),this.#u=!1,this.#y(),this.#p=()=>{this.#D(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#b(o,c){const[v,A]=this.currentPath.at(-1);if(this.currentPath.length>1&&o===v&&c===A)return;const l=this.currentPath;let p=this.#s;if(l.push([o,c]),this.#u=!0,l.length<=2){p.moveTo(...l[0]),p.lineTo(o,c);return}l.length===3&&(this.#s=p=new Path2D,p.moveTo(...l[0])),this.#L(p,...l.at(-3),...l.at(-2),o,c)}#w(){if(this.currentPath.length===0)return;const o=this.currentPath.at(-1);this.#s.lineTo(...o)}#P(o,c){this.#p=null,o=Math.min(Math.max(o,0),this.canvas.width),c=Math.min(Math.max(c,0),this.canvas.height),this.#b(o,c),this.#w();let v;if(this.currentPath.length!==1)v=this.#N();else{const m=[o,c];v=[[m,m.slice(),m.slice(),m]]}const A=this.#s,l=this.currentPath;this.currentPath=[],this.#s=new Path2D;const p=()=>{this.allRawPaths.push(l),this.paths.push(v),this.bezierPath2D.push(A),this.rebuild()},y=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#M()),this.#k())};this.addCommands({cmd:p,undo:y,mustExec:!0})}#D(){if(!this.#u)return;this.#u=!1;const o=Math.ceil(this.thickness*this.parentScale),c=this.currentPath.slice(-3),v=c.map(p=>p[0]),A=c.map(p=>p[1]);Math.min(...v)-o,Math.max(...v)+o,Math.min(...A)-o,Math.max(...A)+o;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const p of this.bezierPath2D)l.stroke(p);l.stroke(this.#s),l.restore()}#L(o,c,v,A,l,p,y){const m=(c+A)/2,P=(v+l)/2,N=(A+p)/2,L=(l+y)/2;o.bezierCurveTo(m+2*(A-m)/3,P+2*(l-P)/3,N+2*(A-N)/3,L+2*(l-L)/3,N,L)}#N(){const o=this.currentPath;if(o.length<=2)return[[o[0],o[0],o.at(-1),o.at(-1)]];const c=[];let v,[A,l]=o[0];for(v=1;v<o.length-2;v++){const[w,F]=o[v],[z,V]=o[v+1],$=(w+z)/2,j=(F+V)/2,J=[A+2*(w-A)/3,l+2*(F-l)/3],he=[$+2*(w-$)/3,j+2*(F-j)/3];c.push([[A,l],J,he,[$,j]]),[A,l]=[$,j]}const[p,y]=o[v],[m,P]=o[v+1],N=[A+2*(p-A)/3,l+2*(y-l)/3],L=[m+2*(p-m)/3,P+2*(y-P)/3];return c.push([[A,l],N,L,[m,P]]),c}#S(){if(this.isEmpty()){this.#C();return}this.#y();const{canvas:o,ctx:c}=this;c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,o.width,o.height),this.#C();for(const v of this.bezierPath2D)c.stroke(v)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#k(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(o){this._focusEventsAllowed&&(super.focusin(o),this.enableEditMode())}canvasPointerdown(o){o.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),o.preventDefault(),o.type!=="mouse"&&this.div.focus(),this.#x(o.offsetX,o.offsetY))}canvasPointermove(o){o.preventDefault(),this.#b(o.offsetX,o.offsetY)}canvasPointerup(o){o.preventDefault(),this.#F(o)}canvasPointerleave(o){this.#F(o)}#F(o){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",S.noContextMenu)},10),this.#P(o.offsetX,o.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",u.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(o=>this.canvas?.setAttribute("aria-label",o)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#f=new ResizeObserver(o=>{const c=o[0].contentRect;c.width&&c.height&&this.setDimensions(c.width,c.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let o,c;this.width&&(o=this.x,c=this.y),super.render(),u.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(y=>this.div?.setAttribute("aria-label",y));const[v,A,l,p]=this.#c();if(this.setAt(v,A,0,0),this.setDims(l,p),this.#R(),this.width){const[y,m]=this.parentDimensions;this.setAspectRatio(this.width*y,this.height*m),this.setAt(o*y,c*m,this.width*y,this.height*m),this.#i=!0,this.#A(),this.setDims(this.width*y,this.height*m),this.#S(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#A(){if(!this.#i)return;const[o,c]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*o),this.canvas.height=Math.ceil(this.height*c),this.#C()}setDimensions(o,c){const v=Math.round(o),A=Math.round(c);if(this.#d===v&&this.#h===A)return;this.#d=v,this.#h=A,this.canvas.style.visibility="hidden";const[l,p]=this.parentDimensions;this.width=o/l,this.height=c/p,this.fixAndSetPosition(),this.#l&&this.#T(o,c),this.#A(),this.#S(),this.canvas.style.visibility="visible",this.fixDims()}#T(o,c){const v=this.#O(),A=(o-v)/this.#t,l=(c-v)/this.#e;this.scaleFactor=Math.min(A,l)}#C(){const o=this.#O()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+o,this.translationY*this.scaleFactor+o)}static#_(o){const c=new Path2D;for(let v=0,A=o.length;v<A;v++){const[l,p,y,m]=o[v];v===0&&c.moveTo(...l),c.bezierCurveTo(p[0],p[1],y[0],y[1],m[0],m[1])}return c}static#B(o,c,v){const[A,l,p,y]=c;switch(v){case 0:for(let m=0,P=o.length;m<P;m+=2)o[m]+=A,o[m+1]=y-o[m+1];break;case 90:for(let m=0,P=o.length;m<P;m+=2){const N=o[m];o[m]=o[m+1]+A,o[m+1]=N+l}break;case 180:for(let m=0,P=o.length;m<P;m+=2)o[m]=p-o[m],o[m+1]+=l;break;case 270:for(let m=0,P=o.length;m<P;m+=2){const N=o[m];o[m]=p-o[m+1],o[m+1]=y-N}break;default:throw new Error("Invalid rotation")}return o}static#U(o,c,v){const[A,l,p,y]=c;switch(v){case 0:for(let m=0,P=o.length;m<P;m+=2)o[m]-=A,o[m+1]=y-o[m+1];break;case 90:for(let m=0,P=o.length;m<P;m+=2){const N=o[m];o[m]=o[m+1]-l,o[m+1]=N-A}break;case 180:for(let m=0,P=o.length;m<P;m+=2)o[m]=p-o[m],o[m+1]-=l;break;case 270:for(let m=0,P=o.length;m<P;m+=2){const N=o[m];o[m]=y-o[m+1],o[m+1]=p-N}break;default:throw new Error("Invalid rotation")}return o}#z(o,c,v,A){const l=[],p=this.thickness/2,y=o*c+p,m=o*v+p;for(const P of this.paths){const N=[],L=[];for(let w=0,F=P.length;w<F;w++){const[z,V,$,j]=P[w],J=o*z[0]+y,he=o*z[1]+m,le=o*V[0]+y,de=o*V[1]+m,fe=o*$[0]+y,ne=o*$[1]+m,Y=o*j[0]+y,I=o*j[1]+m;w===0&&(N.push(J,he),L.push(J,he)),N.push(le,de,fe,ne,Y,I),L.push(le,de),w===F-1&&L.push(Y,I)}l.push({bezier:M.#B(N,A,this.rotation),points:M.#B(L,A,this.rotation)})}return l}#I(){let o=1/0,c=-1/0,v=1/0,A=-1/0;for(const l of this.paths)for(const[p,y,m,P]of l){const N=i.Util.bezierBoundingBox(...p,...y,...m,...P);o=Math.min(o,N[0]),v=Math.min(v,N[1]),c=Math.max(c,N[2]),A=Math.max(A,N[3])}return[o,v,c,A]}#O(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#k(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!this.#l){this.#S();return}const c=this.#I(),v=this.#O();this.#t=Math.max(u.AnnotationEditor.MIN_SIZE,c[2]-c[0]),this.#e=Math.max(u.AnnotationEditor.MIN_SIZE,c[3]-c[1]);const A=Math.ceil(v+this.#t*this.scaleFactor),l=Math.ceil(v+this.#e*this.scaleFactor),[p,y]=this.parentDimensions;this.width=A/p,this.height=l/y,this.setAspectRatio(A,l);const m=this.translationX,P=this.translationY;this.translationX=-c[0],this.translationY=-c[1],this.#A(),this.#S(),this.#d=A,this.#h=l,this.setDims(A,l);const N=o?v/this.scaleFactor/2:0;this.translate(m-this.translationX-N,P-this.translationY-N)}static deserialize(o,c,v){if(o instanceof f.InkAnnotationElement)return null;const A=super.deserialize(o,c,v);A.thickness=o.thickness,A.color=i.Util.makeHexColor(...o.color),A.opacity=o.opacity;const[l,p]=A.pageDimensions,y=A.width*l,m=A.height*p,P=A.parentScale,N=o.thickness/2;A.#l=!0,A.#d=Math.round(y),A.#h=Math.round(m);const{paths:L,rect:w,rotation:F}=o;for(let{bezier:V}of L){V=M.#U(V,w,F);const $=[];A.paths.push($);let j=P*(V[0]-N),J=P*(V[1]-N);for(let le=2,de=V.length;le<de;le+=6){const fe=P*(V[le]-N),ne=P*(V[le+1]-N),Y=P*(V[le+2]-N),I=P*(V[le+3]-N),C=P*(V[le+4]-N),k=P*(V[le+5]-N);$.push([[j,J],[fe,ne],[Y,I],[C,k]]),j=C,J=k}const he=this.#_($);A.bezierPath2D.push(he)}const z=A.#I();return A.#t=Math.max(u.AnnotationEditor.MIN_SIZE,z[2]-z[0]),A.#e=Math.max(u.AnnotationEditor.MIN_SIZE,z[3]-z[1]),A.#T(y,m),A}serialize(){if(this.isEmpty())return null;const o=this.getRect(0,0),c=u.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:c,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,o),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}a.InkEditor=M}),((h,a,n)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StampEditor=void 0,n(149),n(152);var i=n(1),u=n(164),f=n(168),S=n(198);class x extends u.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#r=d.bitmapUrl,this.#o=d.bitmapFile}static initialize(d){u.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",d.map(o=>`image/${o}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,o){o.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!d){this.remove();return}this.#e=d.bitmap,o||(this.#t=d.id,this.#u=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(o=>this.#f(o,!0)).finally(()=>this.#d());return}if(this.#r){const o=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(o).then(c=>this.#f(c)).finally(()=>this.#d());return}if(this.#o){const o=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(o).then(c=>this.#f(c)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=x.supportedTypesStr,this.#n=new Promise(o=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const c=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(c)}o()}),d.addEventListener("cancel",()=>{this.remove(),o()})}).finally(()=>this.#d()),d.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,o;if(this.width&&(d=this.x,o=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[c,v]=this.parentDimensions;this.setAt(d*c,o*v,this.width*c,this.height*v)}return this.div}#p(){const{div:d}=this;let{width:o,height:c}=this.#e;const[v,A]=this.pageDimensions,l=.75;if(this.width)o=this.width*v,c=this.height*A;else if(o>l*v||c>l*A){const P=Math.min(l*v/o,l*A/c);o*=P,c*=P}const[p,y]=this.parentDimensions;this.setDims(o*p/v,c*y/A),this._uiManager.enableWaiting(!1);const m=this.#a=document.createElement("canvas");d.append(m),d.hidden=!1,this.#g(o,c),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(d,o){const[c,v]=this.parentDimensions;this.width=d/c,this.height=o/v,this.setDims(d,o),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const A=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(d,o)},A)}#m(d,o){const{width:c,height:v}=this.#e;let A=c,l=v,p=this.#e;for(;A>2*d||l>2*o;){const y=A,m=l;A>2*d&&(A=A>=16384?Math.floor(A/2)-1:Math.ceil(A/2)),l>2*o&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const P=new OffscreenCanvas(A,l);P.getContext("2d").drawImage(p,0,0,y,m,0,0,A,l),p=P.transferToImageBitmap()}return p}#g(d,o){d=Math.ceil(d),o=Math.ceil(o);const c=this.#a;if(!c||c.width===d&&c.height===o)return;c.width=d,c.height=o;const v=this.#u?this.#e:this.#m(d,o),A=c.getContext("2d");A.filter=this._uiManager.hcmFilter,A.drawImage(v,0,0,v.width,v.height,0,0,d,o)}#c(d){if(d){if(this.#u){const v=this._uiManager.imageManager.getSvgUrl(this.#t);if(v)return v}const o=document.createElement("canvas");return{width:o.width,height:o.height}=this.#e,o.getContext("2d").drawImage(this.#e,0,0),o.toDataURL()}if(this.#u){const[o,c]=this.pageDimensions,v=Math.round(this.width*o*f.PixelsPerInch.PDF_TO_CSS_UNITS),A=Math.round(this.height*c*f.PixelsPerInch.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(v,A);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,v,A),l.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(d=>{const o=d[0].contentRect;o.width&&o.height&&this.#v(o.width,o.height)}),this.#s.observe(this.div)}static deserialize(d,o,c){if(d instanceof S.StampAnnotationElement)return null;const v=super.deserialize(d,o,c),{rect:A,bitmapUrl:l,bitmapId:p,isSvg:y,accessibilityData:m}=d;p&&c.imageManager.isValidId(p)?v.#t=p:v.#r=l,v.#u=y;const[P,N]=v.pageDimensions;return v.width=(A[2]-A[0])/P,v.height=(A[3]-A[1])/N,m&&(v.altTextData=m),v}serialize(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const c={annotationType:i.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(d)return c.bitmapUrl=this.#c(!0),c.accessibilityData=this.altTextData,c;const{decorative:v,altText:A}=this.altTextData;if(!v&&A&&(c.accessibilityData={type:"Figure",alt:A}),o===null)return c;o.stamps||=new Map;const l=this.#u?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!o.stamps.has(this.#t))o.stamps.set(this.#t,{area:l,serialized:c}),c.bitmap=this.#c(!1);else if(this.#u){const p=o.stamps.get(this.#t);l>p.area&&(p.area=l,p.serialized.bitmap.close(),p.serialized.bitmap=this.#c(!1))}return c}}a.StampEditor=x})],__webpack_module_cache__={};function __w_pdfjs_require__(h){var a=__webpack_module_cache__[h];if(a!==void 0)return a.exports;var n=__webpack_module_cache__[h]={exports:{}};return __webpack_modules__[h].call(n.exports,n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var h=__webpack_exports__;Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"AbortException",{enumerable:!0,get:function(){return a.AbortException}}),Object.defineProperty(h,"AnnotationEditorLayer",{enumerable:!0,get:function(){return f.AnnotationEditorLayer}}),Object.defineProperty(h,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return a.AnnotationEditorParamsType}}),Object.defineProperty(h,"AnnotationEditorType",{enumerable:!0,get:function(){return a.AnnotationEditorType}}),Object.defineProperty(h,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return S.AnnotationEditorUIManager}}),Object.defineProperty(h,"AnnotationLayer",{enumerable:!0,get:function(){return x.AnnotationLayer}}),Object.defineProperty(h,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(h,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(h,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(h,"FeatureTest",{enumerable:!0,get:function(){return a.FeatureTest}}),Object.defineProperty(h,"GlobalWorkerOptions",{enumerable:!0,get:function(){return M.GlobalWorkerOptions}}),Object.defineProperty(h,"ImageKind",{enumerable:!0,get:function(){return a.ImageKind}}),Object.defineProperty(h,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(h,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(h,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(h,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(h,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(h,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(h,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(h,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(h,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(h,"PromiseCapability",{enumerable:!0,get:function(){return a.PromiseCapability}}),Object.defineProperty(h,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(h,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(h,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(h,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(h,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(h,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(h,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(h,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(h,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(h,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(h,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(h,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(h,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(h,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(h,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(h,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(h,"normalizeUnicode",{enumerable:!0,get:function(){return a.normalizeUnicode}}),Object.defineProperty(h,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(h,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(h,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(h,"updateTextLayer",{enumerable:!0,get:function(){return u.updateTextLayer}}),Object.defineProperty(h,"version",{enumerable:!0,get:function(){return n.version}});var a=__w_pdfjs_require__(1),n=__w_pdfjs_require__(124),i=__w_pdfjs_require__(168),u=__w_pdfjs_require__(195),f=__w_pdfjs_require__(196),S=__w_pdfjs_require__(165),x=__w_pdfjs_require__(198),M=__w_pdfjs_require__(176),d=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="/reading-quest-mvp/pdf.worker.min.js";const DB_NAME="rq_library",DB_VERSION=1,STORE="books";function openDB(){return new Promise((h,a)=>{const n=indexedDB.open(DB_NAME,DB_VERSION);n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains(STORE)||i.createObjectStore(STORE,{keyPath:"id"}).createIndex("createdAt","createdAt")},n.onsuccess=()=>h(n.result),n.onerror=()=>a(n.error)})}async function dbGetAll(){const h=await openDB();return new Promise((a,n)=>{const f=h.transaction(STORE,"readonly").objectStore(STORE).getAll();f.onsuccess=()=>a(f.result||[]),f.onerror=()=>n(f.error)})}async function dbGet(h){const a=await openDB();return new Promise((n,i)=>{const S=a.transaction(STORE,"readonly").objectStore(STORE).get(h);S.onsuccess=()=>n(S.result||null),S.onerror=()=>i(S.error)})}async function dbPut(h){const a=await openDB();return new Promise((n,i)=>{const u=a.transaction(STORE,"readwrite");u.oncomplete=()=>n(!0),u.onerror=()=>i(u.error),u.objectStore(STORE).put(h)})}async function dbDelete(h){const a=await openDB();return new Promise((n,i)=>{const u=a.transaction(STORE,"readwrite");u.oncomplete=()=>n(!0),u.onerror=()=>i(u.error),u.objectStore(STORE).delete(h)})}function formatPercent(h){return!isFinite(h)||isNaN(h)?0:Math.max(0,Math.min(100,Math.round(h*100)))}function Library(){const[h,a]=reactExports.useState([]),[n,i]=reactExports.useState(null),[u,f]=reactExports.useState(null),[S,x]=reactExports.useState(1),[M,d]=reactExports.useState(!1),[o,c]=reactExports.useState(""),v=reactExports.useRef(null),A=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{const z=await dbGetAll();z.sort(($,j)=>j.createdAt-$.createdAt),a(z);const V=localStorage.getItem("rq_active_book");V&&z.some($=>$.id===V)&&p(V)})().catch(console.error)},[]);async function l(z){const V=z.target.files?.[0];if(V)try{c(""),d(!0);const $=`${Date.now()}_${Math.random().toString(36).slice(2,8)}`,j=V.name,J=V.size,he=V.type||"application/pdf",le=Date.now(),de=V,fe=await V.arrayBuffer(),Y=(await pdfExports.getDocument({data:fe}).promise).numPages,I={id:$,title:j,size:J,type:he,createdAt:le,lastPage:1,numPages:Y,blob:de};await dbPut(I),a(C=>[I,...C]),await p($)}catch($){console.error($),c(String($))}finally{d(!1),A.current&&(A.current.value="")}}async function p(z){try{d(!0),c("");const V=await dbGet(z);if(!V){c("Book not found.");return}const $=await V.blob.arrayBuffer(),j=await pdfExports.getDocument({data:$}).promise,J=j.numPages||V.numPages||1;i(z),localStorage.setItem("rq_active_book",z),f({pdf:j,numPages:J,title:V.title,id:V.id}),x(Math.max(1,Math.min(V.lastPage||1,J))),J!==V.numPages&&(await dbPut({...V,numPages:J}),a(he=>he.map(le=>le.id===V.id?{...le,numPages:J}:le)))}catch(V){console.error(V),c(String(V))}finally{d(!1)}}async function y(z){await dbDelete(z),a(V=>V.filter($=>$.id!==z)),n===z&&(i(null),f(null))}reactExports.useEffect(()=>{let z=!1;async function V(){if(!u||!v.current)return;const{pdf:$}=u;if(!(S<1||S>$.numPages))try{const j=await $.getPage(S),J=j.getViewport({scale:1.5}),he=v.current,le=he.getContext("2d");if(he.height=J.height,he.width=J.width,await j.render({canvasContext:le,viewport:J}).promise,z)return;localStorage.setItem("rq_lastpage_"+u.id,String(S));const de=await dbGet(u.id);de&&de.lastPage!==S&&(await dbPut({...de,lastPage:S}),a(fe=>fe.map(ne=>ne.id===de.id?{...ne,lastPage:S}:ne)))}catch(j){console.error(j),z||c(String(j))}}return V(),()=>{z=!0}},[u,S]);const m=()=>x(z=>Math.max(1,z-1)),P=()=>{u&&x(z=>Math.min(u.numPages,z+1))},N=u?formatPercent(S/u.numPages):0,L=u&&u.numPages>1?u.numPages-1:1,w=u?formatPercent((S-1)/L):0,F=h.length===0;return React.createElement(React.Fragment,null,React.createElement("section",{className:"mb-3"},React.createElement("div",{className:"reader-card",style:{padding:12}},React.createElement("div",{className:"reader-header",style:{marginBottom:8}},React.createElement("div",{className:"title"},"Library"),React.createElement("div",{className:"meta"},h.length," book",h.length===1?"":"s")),React.createElement("div",{style:{display:"flex",gap:8,marginBottom:8}},React.createElement("input",{ref:A,type:"file",accept:"application/pdf",onChange:l})),F?React.createElement("div",{className:"muted"},"No books saved yet. Upload a PDF to add it to your library."):React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:8}},h.map(z=>React.createElement("div",{key:z.id,className:"reader-card",style:{padding:10}},React.createElement("div",{className:"title",style:{marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},z.title),React.createElement("div",{className:"muted",style:{fontSize:12,marginBottom:6}},z.numPages||"?"," pages  Last page: ",z.lastPage||1),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("button",{className:"btn",onClick:()=>p(z.id)},n===z.id?"Open (current)":"Open"),React.createElement("button",{className:"btn ghost",onClick:()=>y(z.id)},"Delete"))))))),React.createElement("main",{className:"reader-area"},o&&React.createElement("div",{className:"empty",style:{borderLeft:"4px solid crimson",textAlign:"left"}},React.createElement("p",{style:{color:"crimson",margin:0}},"Error: ",o)),u?React.createElement("div",{className:"reader-card"},React.createElement("div",{className:"reader-header"},React.createElement("div",{className:"title"},u.title),React.createElement("div",{className:"meta"},"Page ",S," / ",u.numPages)),React.createElement("div",{className:"muted",style:{marginBottom:8}},"Loaded: ",u.title,"  ",u.numPages," pages"),React.createElement("div",{className:"canvas-wrap"},React.createElement("canvas",{ref:v,className:"pdf-canvas"})),React.createElement("div",{className:"controls"},React.createElement("button",{className:"btn ghost",onClick:m,disabled:S===1},"Prev"),React.createElement("div",{className:"progress"},React.createElement("div",{className:"bar-bg"},React.createElement("div",{className:"bar-fill",style:{width:`${w}%`}})),React.createElement("div",{className:"progress-label"},N,"% read")),React.createElement("button",{className:"btn",onClick:P,disabled:S===u.numPages},"Next"))):React.createElement("div",{className:"empty"},React.createElement("p",null,"No book open. Choose one from your Library above, or upload a PDF."),React.createElement("p",{className:"muted"},"Files are stored only in your browser (IndexedDB)."))))}function App(){return React.createElement(HashRouter,null,React.createElement("div",{className:"app-root"},React.createElement(NavBar,null),React.createElement("div",{className:"page-wrap"},React.createElement(Routes,null,React.createElement(Route,{path:"/",element:React.createElement(Home,null)}),React.createElement(Route,{path:"/library",element:React.createElement(Library,null)}))),React.createElement("footer",{className:"footer"}," ",new Date().getFullYear()," Reading Quest  Local only  Sync & gamification coming soon")))}clientExports.createRoot(document.getElementById("root")).render(React.createElement(App,null));
